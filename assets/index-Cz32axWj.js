var qv=t=>{throw TypeError(t)};var Uf=(t,e,n)=>e.has(t)||qv("Cannot "+n);var ne=(t,e,n)=>(Uf(t,e,"read from private field"),n?n.call(t):e.get(t)),nt=(t,e,n)=>e.has(t)?qv("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Ve=(t,e,n,r)=>(Uf(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Jt=(t,e,n)=>(Uf(t,e,"access private method"),n);var Ic=(t,e,n,r)=>({set _(i){Ve(t,e,i,n)},get _(){return ne(t,e,r)}});function JT(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var eA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ro(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mw={exports:{}},Hd={},Tw={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hc=Symbol.for("react.element"),tA=Symbol.for("react.portal"),nA=Symbol.for("react.fragment"),rA=Symbol.for("react.strict_mode"),iA=Symbol.for("react.profiler"),sA=Symbol.for("react.provider"),oA=Symbol.for("react.context"),aA=Symbol.for("react.forward_ref"),lA=Symbol.for("react.suspense"),cA=Symbol.for("react.memo"),uA=Symbol.for("react.lazy"),Yv=Symbol.iterator;function dA(t){return t===null||typeof t!="object"?null:(t=Yv&&t[Yv]||t["@@iterator"],typeof t=="function"?t:null)}var Aw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Cw=Object.assign,Rw={};function Da(t,e,n){this.props=t,this.context=e,this.refs=Rw,this.updater=n||Aw}Da.prototype.isReactComponent={};Da.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Da.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Pw(){}Pw.prototype=Da.prototype;function $m(t,e,n){this.props=t,this.context=e,this.refs=Rw,this.updater=n||Aw}var qm=$m.prototype=new Pw;qm.constructor=$m;Cw(qm,Da.prototype);qm.isPureReactComponent=!0;var Kv=Array.isArray,Lw=Object.prototype.hasOwnProperty,Ym={current:null},Nw={key:!0,ref:!0,__self:!0,__source:!0};function Dw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Lw.call(e,r)&&!Nw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:hc,type:t,key:s,ref:o,props:i,_owner:Ym.current}}function fA(t,e){return{$$typeof:hc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Km(t){return typeof t=="object"&&t!==null&&t.$$typeof===hc}function hA(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Qv=/\/+/g;function kf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hA(""+t.key):e.toString(36)}function Pu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case hc:case tA:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+kf(o,0):r,Kv(i)?(n="",t!=null&&(n=t.replace(Qv,"$&/")+"/"),Pu(i,e,n,"",function(c){return c})):i!=null&&(Km(i)&&(i=fA(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Qv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Kv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+kf(s,a);o+=Pu(s,e,n,l,i)}else if(l=dA(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+kf(s,a++),o+=Pu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Oc(t,e,n){if(t==null)return t;var r=[],i=0;return Pu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function pA(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var yn={current:null},Lu={transition:null},mA={ReactCurrentDispatcher:yn,ReactCurrentBatchConfig:Lu,ReactCurrentOwner:Ym};function Iw(){throw Error("act(...) is not supported in production builds of React.")}Ye.Children={map:Oc,forEach:function(t,e,n){Oc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Oc(t,function(){e++}),e},toArray:function(t){return Oc(t,function(e){return e})||[]},only:function(t){if(!Km(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=Da;Ye.Fragment=nA;Ye.Profiler=iA;Ye.PureComponent=$m;Ye.StrictMode=rA;Ye.Suspense=lA;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mA;Ye.act=Iw;Ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Cw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Ym.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Lw.call(e,l)&&!Nw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:hc,type:t.type,key:i,ref:s,props:r,_owner:o}};Ye.createContext=function(t){return t={$$typeof:oA,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sA,_context:t},t.Consumer=t};Ye.createElement=Dw;Ye.createFactory=function(t){var e=Dw.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:aA,render:t}};Ye.isValidElement=Km;Ye.lazy=function(t){return{$$typeof:uA,_payload:{_status:-1,_result:t},_init:pA}};Ye.memo=function(t,e){return{$$typeof:cA,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=Lu.transition;Lu.transition={};try{t()}finally{Lu.transition=e}};Ye.unstable_act=Iw;Ye.useCallback=function(t,e){return yn.current.useCallback(t,e)};Ye.useContext=function(t){return yn.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return yn.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return yn.current.useEffect(t,e)};Ye.useId=function(){return yn.current.useId()};Ye.useImperativeHandle=function(t,e,n){return yn.current.useImperativeHandle(t,e,n)};Ye.useInsertionEffect=function(t,e){return yn.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return yn.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return yn.current.useMemo(t,e)};Ye.useReducer=function(t,e,n){return yn.current.useReducer(t,e,n)};Ye.useRef=function(t){return yn.current.useRef(t)};Ye.useState=function(t){return yn.current.useState(t)};Ye.useSyncExternalStore=function(t,e,n){return yn.current.useSyncExternalStore(t,e,n)};Ye.useTransition=function(){return yn.current.useTransition()};Ye.version="18.3.1";Tw.exports=Ye;var b=Tw.exports;const ue=ro(b),Ow=JT({__proto__:null,default:ue},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gA=b,vA=Symbol.for("react.element"),yA=Symbol.for("react.fragment"),xA=Object.prototype.hasOwnProperty,_A=gA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wA={key:!0,ref:!0,__self:!0,__source:!0};function Uw(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xA.call(e,r)&&!wA.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vA,type:t,key:s,ref:o,props:i,_owner:_A.current}}Hd.Fragment=yA;Hd.jsx=Uw;Hd.jsxs=Uw;Mw.exports=Hd;var _=Mw.exports,kw={exports:{}},Xn={},Fw={exports:{}},zw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,V){var W=N.length;N.push(V);e:for(;0<W;){var U=W-1>>>1,B=N[U];if(0<i(B,V))N[U]=V,N[W]=B,W=U;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var V=N[0],W=N.pop();if(W!==V){N[0]=W;e:for(var U=0,B=N.length,ee=B>>>1;U<ee;){var te=2*(U+1)-1,oe=N[te],se=te+1,ve=N[se];if(0>i(oe,W))se<B&&0>i(ve,oe)?(N[U]=ve,N[se]=W,U=se):(N[U]=oe,N[te]=W,U=te);else if(se<B&&0>i(ve,W))N[U]=ve,N[se]=W,U=se;else break e}}return V}function i(N,V){var W=N.sortIndex-V.sortIndex;return W!==0?W:N.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],u=1,f=null,d=3,h=!1,g=!1,v=!1,m=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(N){for(var V=n(c);V!==null;){if(V.callback===null)r(c);else if(V.startTime<=N)r(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=n(c)}}function w(N){if(v=!1,x(N),!g)if(n(l)!==null)g=!0,H(S);else{var V=n(c);V!==null&&j(w,V.startTime-N)}}function S(N,V){g=!1,v&&(v=!1,p(C),C=-1),h=!0;var W=d;try{for(x(V),f=n(l);f!==null&&(!(f.expirationTime>V)||N&&!k());){var U=f.callback;if(typeof U=="function"){f.callback=null,d=f.priorityLevel;var B=U(f.expirationTime<=V);V=t.unstable_now(),typeof B=="function"?f.callback=B:f===n(l)&&r(l),x(V)}else r(l);f=n(l)}if(f!==null)var ee=!0;else{var te=n(c);te!==null&&j(w,te.startTime-V),ee=!1}return ee}finally{f=null,d=W,h=!1}}var M=!1,T=null,C=-1,E=5,A=-1;function k(){return!(t.unstable_now()-A<E)}function I(){if(T!==null){var N=t.unstable_now();A=N;var V=!0;try{V=T(!0,N)}finally{V?O():(M=!1,T=null)}}else M=!1}var O;if(typeof y=="function")O=function(){y(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,z=L.port2;L.port1.onmessage=I,O=function(){z.postMessage(null)}}else O=function(){m(I,0)};function H(N){T=N,M||(M=!0,O())}function j(N,V){C=m(function(){N(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,H(S))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var V=3;break;default:V=d}var W=d;d=V;try{return N()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var W=d;d=N;try{return V()}finally{d=W}},t.unstable_scheduleCallback=function(N,V,W){var U=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?U+W:U):W=U,N){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=W+B,N={id:u++,callback:V,priorityLevel:N,startTime:W,expirationTime:B,sortIndex:-1},W>U?(N.sortIndex=W,e(c,N),n(l)===null&&N===n(c)&&(v?(p(C),C=-1):v=!0,j(w,W-U))):(N.sortIndex=B,e(l,N),g||h||(g=!0,H(S))),N},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(N){var V=d;return function(){var W=d;d=V;try{return N.apply(this,arguments)}finally{d=W}}}})(zw);Fw.exports=zw;var SA=Fw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bA=b,Gn=SA;function ae(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bw=new Set,Ol={};function io(t,e){va(t,e),va(t+"Capture",e)}function va(t,e){for(Ol[t]=e,t=0;t<e.length;t++)Bw.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fp=Object.prototype.hasOwnProperty,EA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Zv={},Jv={};function MA(t){return fp.call(Jv,t)?!0:fp.call(Zv,t)?!1:EA.test(t)?Jv[t]=!0:(Zv[t]=!0,!1)}function TA(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AA(t,e,n,r){if(e===null||typeof e>"u"||TA(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function xn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Qt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qt[t]=new xn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qt[e]=new xn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qt[t]=new xn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qt[t]=new xn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qt[t]=new xn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qt[t]=new xn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qt[t]=new xn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qt[t]=new xn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qt[t]=new xn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qm=/[\-:]([a-z])/g;function Zm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qm,Zm);Qt[e]=new xn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qm,Zm);Qt[e]=new xn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qm,Zm);Qt[e]=new xn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qt[t]=new xn(t,1,!1,t.toLowerCase(),null,!1,!1)});Qt.xlinkHref=new xn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qt[t]=new xn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Jm(t,e,n,r){var i=Qt.hasOwnProperty(e)?Qt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AA(e,n,i,r)&&(n=null),r||i===null?MA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var xi=bA.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Uc=Symbol.for("react.element"),Io=Symbol.for("react.portal"),Oo=Symbol.for("react.fragment"),eg=Symbol.for("react.strict_mode"),hp=Symbol.for("react.profiler"),Vw=Symbol.for("react.provider"),jw=Symbol.for("react.context"),tg=Symbol.for("react.forward_ref"),pp=Symbol.for("react.suspense"),mp=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),Li=Symbol.for("react.lazy"),Hw=Symbol.for("react.offscreen"),e0=Symbol.iterator;function Ga(t){return t===null||typeof t!="object"?null:(t=e0&&t[e0]||t["@@iterator"],typeof t=="function"?t:null)}var St=Object.assign,Ff;function ul(t){if(Ff===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ff=e&&e[1]||""}return`
`+Ff+t}var zf=!1;function Bf(t,e){if(!t||zf)return"";zf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{zf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ul(t):""}function CA(t){switch(t.tag){case 5:return ul(t.type);case 16:return ul("Lazy");case 13:return ul("Suspense");case 19:return ul("SuspenseList");case 0:case 2:case 15:return t=Bf(t.type,!1),t;case 11:return t=Bf(t.type.render,!1),t;case 1:return t=Bf(t.type,!0),t;default:return""}}function gp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oo:return"Fragment";case Io:return"Portal";case hp:return"Profiler";case eg:return"StrictMode";case pp:return"Suspense";case mp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jw:return(t.displayName||"Context")+".Consumer";case Vw:return(t._context.displayName||"Context")+".Provider";case tg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ng:return e=t.displayName||null,e!==null?e:gp(t.type)||"Memo";case Li:e=t._payload,t=t._init;try{return gp(t(e))}catch{}}return null}function RA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return gp(e);case 8:return e===eg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Gw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PA(t){var e=Gw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kc(t){t._valueTracker||(t._valueTracker=PA(t))}function Ww(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Gw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yu(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function vp(t,e){var n=e.checked;return St({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ss(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xw(t,e){e=e.checked,e!=null&&Jm(t,"checked",e,!1)}function yp(t,e){Xw(t,e);var n=ss(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?xp(t,e.type,n):e.hasOwnProperty("defaultValue")&&xp(t,e.type,ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function xp(t,e,n){(e!=="number"||Yu(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dl=Array.isArray;function Qo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ss(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _p(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ae(91));return St({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ae(92));if(dl(n)){if(1<n.length)throw Error(ae(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ss(n)}}function $w(t,e){var n=ss(e.value),r=ss(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function i0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fc,Yw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ul(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},LA=["Webkit","ms","Moz","O"];Object.keys(_l).forEach(function(t){LA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_l[e]=_l[t]})});function Kw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_l.hasOwnProperty(t)&&_l[t]?(""+e).trim():e+"px"}function Qw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Kw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var NA=St({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Sp(t,e){if(e){if(NA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ae(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ae(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ae(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ae(62))}}function bp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ep=null;function rg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mp=null,Zo=null,Jo=null;function s0(t){if(t=gc(t)){if(typeof Mp!="function")throw Error(ae(280));var e=t.stateNode;e&&(e=qd(e),Mp(t.stateNode,t.type,e))}}function Zw(t){Zo?Jo?Jo.push(t):Jo=[t]:Zo=t}function Jw(){if(Zo){var t=Zo,e=Jo;if(Jo=Zo=null,s0(t),e)for(t=0;t<e.length;t++)s0(e[t])}}function eS(t,e){return t(e)}function tS(){}var Vf=!1;function nS(t,e,n){if(Vf)return t(e,n);Vf=!0;try{return eS(t,e,n)}finally{Vf=!1,(Zo!==null||Jo!==null)&&(tS(),Jw())}}function kl(t,e){var n=t.stateNode;if(n===null)return null;var r=qd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ae(231,e,typeof n));return n}var Tp=!1;if(di)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Tp=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Tp=!1}function DA(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var wl=!1,Ku=null,Qu=!1,Ap=null,IA={onError:function(t){wl=!0,Ku=t}};function OA(t,e,n,r,i,s,o,a,l){wl=!1,Ku=null,DA.apply(IA,arguments)}function UA(t,e,n,r,i,s,o,a,l){if(OA.apply(this,arguments),wl){if(wl){var c=Ku;wl=!1,Ku=null}else throw Error(ae(198));Qu||(Qu=!0,Ap=c)}}function so(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function rS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o0(t){if(so(t)!==t)throw Error(ae(188))}function kA(t){var e=t.alternate;if(!e){if(e=so(t),e===null)throw Error(ae(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return o0(i),t;if(s===r)return o0(i),e;s=s.sibling}throw Error(ae(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ae(189))}}if(n.alternate!==r)throw Error(ae(190))}if(n.tag!==3)throw Error(ae(188));return n.stateNode.current===n?t:e}function iS(t){return t=kA(t),t!==null?sS(t):null}function sS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sS(t);if(e!==null)return e;t=t.sibling}return null}var oS=Gn.unstable_scheduleCallback,a0=Gn.unstable_cancelCallback,FA=Gn.unstable_shouldYield,zA=Gn.unstable_requestPaint,At=Gn.unstable_now,BA=Gn.unstable_getCurrentPriorityLevel,ig=Gn.unstable_ImmediatePriority,aS=Gn.unstable_UserBlockingPriority,Zu=Gn.unstable_NormalPriority,VA=Gn.unstable_LowPriority,lS=Gn.unstable_IdlePriority,Gd=null,Ur=null;function jA(t){if(Ur&&typeof Ur.onCommitFiberRoot=="function")try{Ur.onCommitFiberRoot(Gd,t,void 0,(t.current.flags&128)===128)}catch{}}var wr=Math.clz32?Math.clz32:WA,HA=Math.log,GA=Math.LN2;function WA(t){return t>>>=0,t===0?32:31-(HA(t)/GA|0)|0}var zc=64,Bc=4194304;function fl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ju(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=fl(a):(s&=o,s!==0&&(r=fl(s)))}else o=n&~i,o!==0?r=fl(o):s!==0&&(r=fl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wr(e),i=1<<n,r|=t[n],e&=~i;return r}function XA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $A(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-wr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=XA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Cp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function cS(){var t=zc;return zc<<=1,!(zc&4194240)&&(zc=64),t}function jf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function pc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wr(e),t[e]=n}function qA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function sg(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var it=0;function uS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var dS,og,fS,hS,pS,Rp=!1,Vc=[],Xi=null,$i=null,qi=null,Fl=new Map,zl=new Map,Ii=[],YA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l0(t,e){switch(t){case"focusin":case"focusout":Xi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":Fl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":zl.delete(e.pointerId)}}function Xa(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gc(e),e!==null&&og(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function KA(t,e,n,r,i){switch(e){case"focusin":return Xi=Xa(Xi,t,e,n,r,i),!0;case"dragenter":return $i=Xa($i,t,e,n,r,i),!0;case"mouseover":return qi=Xa(qi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Fl.set(s,Xa(Fl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,zl.set(s,Xa(zl.get(s)||null,t,e,n,r,i)),!0}return!1}function mS(t){var e=Ds(t.target);if(e!==null){var n=so(e);if(n!==null){if(e=n.tag,e===13){if(e=rS(n),e!==null){t.blockedOn=e,pS(t.priority,function(){fS(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Nu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Pp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ep=r,n.target.dispatchEvent(r),Ep=null}else return e=gc(n),e!==null&&og(e),t.blockedOn=n,!1;e.shift()}return!0}function c0(t,e,n){Nu(t)&&n.delete(e)}function QA(){Rp=!1,Xi!==null&&Nu(Xi)&&(Xi=null),$i!==null&&Nu($i)&&($i=null),qi!==null&&Nu(qi)&&(qi=null),Fl.forEach(c0),zl.forEach(c0)}function $a(t,e){t.blockedOn===e&&(t.blockedOn=null,Rp||(Rp=!0,Gn.unstable_scheduleCallback(Gn.unstable_NormalPriority,QA)))}function Bl(t){function e(i){return $a(i,t)}if(0<Vc.length){$a(Vc[0],t);for(var n=1;n<Vc.length;n++){var r=Vc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xi!==null&&$a(Xi,t),$i!==null&&$a($i,t),qi!==null&&$a(qi,t),Fl.forEach(e),zl.forEach(e),n=0;n<Ii.length;n++)r=Ii[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ii.length&&(n=Ii[0],n.blockedOn===null);)mS(n),n.blockedOn===null&&Ii.shift()}var ea=xi.ReactCurrentBatchConfig,ed=!0;function ZA(t,e,n,r){var i=it,s=ea.transition;ea.transition=null;try{it=1,ag(t,e,n,r)}finally{it=i,ea.transition=s}}function JA(t,e,n,r){var i=it,s=ea.transition;ea.transition=null;try{it=4,ag(t,e,n,r)}finally{it=i,ea.transition=s}}function ag(t,e,n,r){if(ed){var i=Pp(t,e,n,r);if(i===null)Zf(t,e,r,td,n),l0(t,r);else if(KA(i,t,e,n,r))r.stopPropagation();else if(l0(t,r),e&4&&-1<YA.indexOf(t)){for(;i!==null;){var s=gc(i);if(s!==null&&dS(s),s=Pp(t,e,n,r),s===null&&Zf(t,e,r,td,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Zf(t,e,r,null,n)}}var td=null;function Pp(t,e,n,r){if(td=null,t=rg(r),t=Ds(t),t!==null)if(e=so(t),e===null)t=null;else if(n=e.tag,n===13){if(t=rS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return td=t,null}function gS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(BA()){case ig:return 1;case aS:return 4;case Zu:case VA:return 16;case lS:return 536870912;default:return 16}default:return 16}}var Vi=null,lg=null,Du=null;function vS(){if(Du)return Du;var t,e=lg,n=e.length,r,i="value"in Vi?Vi.value:Vi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return Du=i.slice(t,1<r?1-r:void 0)}function Iu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function jc(){return!0}function u0(){return!1}function $n(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?jc:u0,this.isPropagationStopped=u0,this}return St(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=jc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=jc)},persist:function(){},isPersistent:jc}),e}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cg=$n(Ia),mc=St({},Ia,{view:0,detail:0}),eC=$n(mc),Hf,Gf,qa,Wd=St({},mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ug,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qa&&(qa&&t.type==="mousemove"?(Hf=t.screenX-qa.screenX,Gf=t.screenY-qa.screenY):Gf=Hf=0,qa=t),Hf)},movementY:function(t){return"movementY"in t?t.movementY:Gf}}),d0=$n(Wd),tC=St({},Wd,{dataTransfer:0}),nC=$n(tC),rC=St({},mc,{relatedTarget:0}),Wf=$n(rC),iC=St({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),sC=$n(iC),oC=St({},Ia,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),aC=$n(oC),lC=St({},Ia,{data:0}),f0=$n(lC),cC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=dC[t])?!!e[t]:!1}function ug(){return fC}var hC=St({},mc,{key:function(t){if(t.key){var e=cC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Iu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?uC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ug,charCode:function(t){return t.type==="keypress"?Iu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Iu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pC=$n(hC),mC=St({},Wd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),h0=$n(mC),gC=St({},mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ug}),vC=$n(gC),yC=St({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),xC=$n(yC),_C=St({},Wd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wC=$n(_C),SC=[9,13,27,32],dg=di&&"CompositionEvent"in window,Sl=null;di&&"documentMode"in document&&(Sl=document.documentMode);var bC=di&&"TextEvent"in window&&!Sl,yS=di&&(!dg||Sl&&8<Sl&&11>=Sl),p0=" ",m0=!1;function xS(t,e){switch(t){case"keyup":return SC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function _S(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Uo=!1;function EC(t,e){switch(t){case"compositionend":return _S(e);case"keypress":return e.which!==32?null:(m0=!0,p0);case"textInput":return t=e.data,t===p0&&m0?null:t;default:return null}}function MC(t,e){if(Uo)return t==="compositionend"||!dg&&xS(t,e)?(t=vS(),Du=lg=Vi=null,Uo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yS&&e.locale!=="ko"?null:e.data;default:return null}}var TC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!TC[t.type]:e==="textarea"}function wS(t,e,n,r){Zw(r),e=nd(e,"onChange"),0<e.length&&(n=new cg("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bl=null,Vl=null;function AC(t){NS(t,0)}function Xd(t){var e=zo(t);if(Ww(e))return t}function CC(t,e){if(t==="change")return e}var SS=!1;if(di){var Xf;if(di){var $f="oninput"in document;if(!$f){var v0=document.createElement("div");v0.setAttribute("oninput","return;"),$f=typeof v0.oninput=="function"}Xf=$f}else Xf=!1;SS=Xf&&(!document.documentMode||9<document.documentMode)}function y0(){bl&&(bl.detachEvent("onpropertychange",bS),Vl=bl=null)}function bS(t){if(t.propertyName==="value"&&Xd(Vl)){var e=[];wS(e,Vl,t,rg(t)),nS(AC,e)}}function RC(t,e,n){t==="focusin"?(y0(),bl=e,Vl=n,bl.attachEvent("onpropertychange",bS)):t==="focusout"&&y0()}function PC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xd(Vl)}function LC(t,e){if(t==="click")return Xd(e)}function NC(t,e){if(t==="input"||t==="change")return Xd(e)}function DC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var br=typeof Object.is=="function"?Object.is:DC;function jl(t,e){if(br(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fp.call(e,i)||!br(t[i],e[i]))return!1}return!0}function x0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _0(t,e){var n=x0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=x0(n)}}function ES(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ES(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MS(){for(var t=window,e=Yu();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yu(t.document)}return e}function fg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IC(t){var e=MS(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ES(n.ownerDocument.documentElement,n)){if(r!==null&&fg(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=_0(n,s);var o=_0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OC=di&&"documentMode"in document&&11>=document.documentMode,ko=null,Lp=null,El=null,Np=!1;function w0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Np||ko==null||ko!==Yu(r)||(r=ko,"selectionStart"in r&&fg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),El&&jl(El,r)||(El=r,r=nd(Lp,"onSelect"),0<r.length&&(e=new cg("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ko)))}function Hc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fo={animationend:Hc("Animation","AnimationEnd"),animationiteration:Hc("Animation","AnimationIteration"),animationstart:Hc("Animation","AnimationStart"),transitionend:Hc("Transition","TransitionEnd")},qf={},TS={};di&&(TS=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function $d(t){if(qf[t])return qf[t];if(!Fo[t])return t;var e=Fo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in TS)return qf[t]=e[n];return t}var AS=$d("animationend"),CS=$d("animationiteration"),RS=$d("animationstart"),PS=$d("transitionend"),LS=new Map,S0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ps(t,e){LS.set(t,e),io(e,[t])}for(var Yf=0;Yf<S0.length;Yf++){var Kf=S0[Yf],UC=Kf.toLowerCase(),kC=Kf[0].toUpperCase()+Kf.slice(1);ps(UC,"on"+kC)}ps(AS,"onAnimationEnd");ps(CS,"onAnimationIteration");ps(RS,"onAnimationStart");ps("dblclick","onDoubleClick");ps("focusin","onFocus");ps("focusout","onBlur");ps(PS,"onTransitionEnd");va("onMouseEnter",["mouseout","mouseover"]);va("onMouseLeave",["mouseout","mouseover"]);va("onPointerEnter",["pointerout","pointerover"]);va("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FC=new Set("cancel close invalid load scroll toggle".split(" ").concat(hl));function b0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,UA(r,e,void 0,t),t.currentTarget=null}function NS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;b0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;b0(i,a,c),s=l}}}if(Qu)throw t=Ap,Qu=!1,Ap=null,t}function dt(t,e){var n=e[kp];n===void 0&&(n=e[kp]=new Set);var r=t+"__bubble";n.has(r)||(DS(e,t,2,!1),n.add(r))}function Qf(t,e,n){var r=0;e&&(r|=4),DS(n,t,r,e)}var Gc="_reactListening"+Math.random().toString(36).slice(2);function Hl(t){if(!t[Gc]){t[Gc]=!0,Bw.forEach(function(n){n!=="selectionchange"&&(FC.has(n)||Qf(n,!1,t),Qf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gc]||(e[Gc]=!0,Qf("selectionchange",!1,e))}}function DS(t,e,n,r){switch(gS(e)){case 1:var i=ZA;break;case 4:i=JA;break;default:i=ag}n=i.bind(null,e,n,t),i=void 0,!Tp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ds(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}nS(function(){var c=s,u=rg(n),f=[];e:{var d=LS.get(t);if(d!==void 0){var h=cg,g=t;switch(t){case"keypress":if(Iu(n)===0)break e;case"keydown":case"keyup":h=pC;break;case"focusin":g="focus",h=Wf;break;case"focusout":g="blur",h=Wf;break;case"beforeblur":case"afterblur":h=Wf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=d0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=nC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=vC;break;case AS:case CS:case RS:h=sC;break;case PS:h=xC;break;case"scroll":h=eC;break;case"wheel":h=wC;break;case"copy":case"cut":case"paste":h=aC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=h0}var v=(e&4)!==0,m=!v&&t==="scroll",p=v?d!==null?d+"Capture":null:d;v=[];for(var y=c,x;y!==null;){x=y;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,p!==null&&(w=kl(y,p),w!=null&&v.push(Gl(y,w,x)))),m)break;y=y.return}0<v.length&&(d=new h(d,g,null,n,u),f.push({event:d,listeners:v}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==Ep&&(g=n.relatedTarget||n.fromElement)&&(Ds(g)||g[fi]))break e;if((h||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=c,g=g?Ds(g):null,g!==null&&(m=so(g),g!==m||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=c),h!==g)){if(v=d0,w="onMouseLeave",p="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(v=h0,w="onPointerLeave",p="onPointerEnter",y="pointer"),m=h==null?d:zo(h),x=g==null?d:zo(g),d=new v(w,y+"leave",h,n,u),d.target=m,d.relatedTarget=x,w=null,Ds(u)===c&&(v=new v(p,y+"enter",g,n,u),v.target=x,v.relatedTarget=m,w=v),m=w,h&&g)t:{for(v=h,p=g,y=0,x=v;x;x=fo(x))y++;for(x=0,w=p;w;w=fo(w))x++;for(;0<y-x;)v=fo(v),y--;for(;0<x-y;)p=fo(p),x--;for(;y--;){if(v===p||p!==null&&v===p.alternate)break t;v=fo(v),p=fo(p)}v=null}else v=null;h!==null&&E0(f,d,h,v,!1),g!==null&&m!==null&&E0(f,m,g,v,!0)}}e:{if(d=c?zo(c):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var S=CC;else if(g0(d))if(SS)S=NC;else{S=PC;var M=RC}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(S=LC);if(S&&(S=S(t,c))){wS(f,S,n,u);break e}M&&M(t,d,c),t==="focusout"&&(M=d._wrapperState)&&M.controlled&&d.type==="number"&&xp(d,"number",d.value)}switch(M=c?zo(c):window,t){case"focusin":(g0(M)||M.contentEditable==="true")&&(ko=M,Lp=c,El=null);break;case"focusout":El=Lp=ko=null;break;case"mousedown":Np=!0;break;case"contextmenu":case"mouseup":case"dragend":Np=!1,w0(f,n,u);break;case"selectionchange":if(OC)break;case"keydown":case"keyup":w0(f,n,u)}var T;if(dg)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Uo?xS(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(yS&&n.locale!=="ko"&&(Uo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Uo&&(T=vS()):(Vi=u,lg="value"in Vi?Vi.value:Vi.textContent,Uo=!0)),M=nd(c,C),0<M.length&&(C=new f0(C,t,null,n,u),f.push({event:C,listeners:M}),T?C.data=T:(T=_S(n),T!==null&&(C.data=T)))),(T=bC?EC(t,n):MC(t,n))&&(c=nd(c,"onBeforeInput"),0<c.length&&(u=new f0("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=T))}NS(f,e)})}function Gl(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=kl(t,n),s!=null&&r.unshift(Gl(t,s,i)),s=kl(t,e),s!=null&&r.push(Gl(t,s,i))),t=t.return}return r}function fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function E0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=kl(n,s),l!=null&&o.unshift(Gl(n,l,a))):i||(l=kl(n,s),l!=null&&o.push(Gl(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var zC=/\r\n?/g,BC=/\u0000|\uFFFD/g;function M0(t){return(typeof t=="string"?t:""+t).replace(zC,`
`).replace(BC,"")}function Wc(t,e,n){if(e=M0(e),M0(t)!==e&&n)throw Error(ae(425))}function rd(){}var Dp=null,Ip=null;function Op(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Up=typeof setTimeout=="function"?setTimeout:void 0,VC=typeof clearTimeout=="function"?clearTimeout:void 0,T0=typeof Promise=="function"?Promise:void 0,jC=typeof queueMicrotask=="function"?queueMicrotask:typeof T0<"u"?function(t){return T0.resolve(null).then(t).catch(HC)}:Up;function HC(t){setTimeout(function(){throw t})}function Jf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Bl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Bl(e)}function Yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function A0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Oa=Math.random().toString(36).slice(2),Or="__reactFiber$"+Oa,Wl="__reactProps$"+Oa,fi="__reactContainer$"+Oa,kp="__reactEvents$"+Oa,GC="__reactListeners$"+Oa,WC="__reactHandles$"+Oa;function Ds(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[fi]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=A0(t);t!==null;){if(n=t[Or])return n;t=A0(t)}return e}t=n,n=t.parentNode}return null}function gc(t){return t=t[Or]||t[fi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ae(33))}function qd(t){return t[Wl]||null}var Fp=[],Bo=-1;function ms(t){return{current:t}}function ft(t){0>Bo||(t.current=Fp[Bo],Fp[Bo]=null,Bo--)}function at(t,e){Bo++,Fp[Bo]=t.current,t.current=e}var os={},ln=ms(os),Mn=ms(!1),Ys=os;function ya(t,e){var n=t.type.contextTypes;if(!n)return os;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Tn(t){return t=t.childContextTypes,t!=null}function id(){ft(Mn),ft(ln)}function C0(t,e,n){if(ln.current!==os)throw Error(ae(168));at(ln,e),at(Mn,n)}function IS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ae(108,RA(t)||"Unknown",i));return St({},n,r)}function sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||os,Ys=ln.current,at(ln,t),at(Mn,Mn.current),!0}function R0(t,e,n){var r=t.stateNode;if(!r)throw Error(ae(169));n?(t=IS(t,e,Ys),r.__reactInternalMemoizedMergedChildContext=t,ft(Mn),ft(ln),at(ln,t)):ft(Mn),at(Mn,n)}var ni=null,Yd=!1,eh=!1;function OS(t){ni===null?ni=[t]:ni.push(t)}function XC(t){Yd=!0,OS(t)}function gs(){if(!eh&&ni!==null){eh=!0;var t=0,e=it;try{var n=ni;for(it=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ni=null,Yd=!1}catch(i){throw ni!==null&&(ni=ni.slice(t+1)),oS(ig,gs),i}finally{it=e,eh=!1}}return null}var Vo=[],jo=0,od=null,ad=0,Zn=[],Jn=0,Ks=null,ii=1,si="";function Ts(t,e){Vo[jo++]=ad,Vo[jo++]=od,od=t,ad=e}function US(t,e,n){Zn[Jn++]=ii,Zn[Jn++]=si,Zn[Jn++]=Ks,Ks=t;var r=ii;t=si;var i=32-wr(r)-1;r&=~(1<<i),n+=1;var s=32-wr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ii=1<<32-wr(e)+i|n<<i|r,si=s+t}else ii=1<<s|n<<i|r,si=t}function hg(t){t.return!==null&&(Ts(t,1),US(t,1,0))}function pg(t){for(;t===od;)od=Vo[--jo],Vo[jo]=null,ad=Vo[--jo],Vo[jo]=null;for(;t===Ks;)Ks=Zn[--Jn],Zn[Jn]=null,si=Zn[--Jn],Zn[Jn]=null,ii=Zn[--Jn],Zn[Jn]=null}var Bn=null,zn=null,gt=!1,mr=null;function kS(t,e){var n=tr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function P0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Bn=t,zn=Yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Bn=t,zn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ks!==null?{id:ii,overflow:si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=tr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Bn=t,zn=null,!0):!1;default:return!1}}function zp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bp(t){if(gt){var e=zn;if(e){var n=e;if(!P0(t,e)){if(zp(t))throw Error(ae(418));e=Yi(n.nextSibling);var r=Bn;e&&P0(t,e)?kS(r,n):(t.flags=t.flags&-4097|2,gt=!1,Bn=t)}}else{if(zp(t))throw Error(ae(418));t.flags=t.flags&-4097|2,gt=!1,Bn=t}}}function L0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Bn=t}function Xc(t){if(t!==Bn)return!1;if(!gt)return L0(t),gt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Op(t.type,t.memoizedProps)),e&&(e=zn)){if(zp(t))throw FS(),Error(ae(418));for(;e;)kS(t,e),e=Yi(e.nextSibling)}if(L0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ae(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){zn=Yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}zn=null}}else zn=Bn?Yi(t.stateNode.nextSibling):null;return!0}function FS(){for(var t=zn;t;)t=Yi(t.nextSibling)}function xa(){zn=Bn=null,gt=!1}function mg(t){mr===null?mr=[t]:mr.push(t)}var $C=xi.ReactCurrentBatchConfig;function Ya(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ae(309));var r=n.stateNode}if(!r)throw Error(ae(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ae(284));if(!n._owner)throw Error(ae(290,t))}return t}function $c(t,e){throw t=Object.prototype.toString.call(e),Error(ae(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function N0(t){var e=t._init;return e(t._payload)}function zS(t){function e(p,y){if(t){var x=p.deletions;x===null?(p.deletions=[y],p.flags|=16):x.push(y)}}function n(p,y){if(!t)return null;for(;y!==null;)e(p,y),y=y.sibling;return null}function r(p,y){for(p=new Map;y!==null;)y.key!==null?p.set(y.key,y):p.set(y.index,y),y=y.sibling;return p}function i(p,y){return p=Ji(p,y),p.index=0,p.sibling=null,p}function s(p,y,x){return p.index=x,t?(x=p.alternate,x!==null?(x=x.index,x<y?(p.flags|=2,y):x):(p.flags|=2,y)):(p.flags|=1048576,y)}function o(p){return t&&p.alternate===null&&(p.flags|=2),p}function a(p,y,x,w){return y===null||y.tag!==6?(y=ah(x,p.mode,w),y.return=p,y):(y=i(y,x),y.return=p,y)}function l(p,y,x,w){var S=x.type;return S===Oo?u(p,y,x.props.children,w,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Li&&N0(S)===y.type)?(w=i(y,x.props),w.ref=Ya(p,y,x),w.return=p,w):(w=Vu(x.type,x.key,x.props,null,p.mode,w),w.ref=Ya(p,y,x),w.return=p,w)}function c(p,y,x,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=lh(x,p.mode,w),y.return=p,y):(y=i(y,x.children||[]),y.return=p,y)}function u(p,y,x,w,S){return y===null||y.tag!==7?(y=js(x,p.mode,w,S),y.return=p,y):(y=i(y,x),y.return=p,y)}function f(p,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=ah(""+y,p.mode,x),y.return=p,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Uc:return x=Vu(y.type,y.key,y.props,null,p.mode,x),x.ref=Ya(p,null,y),x.return=p,x;case Io:return y=lh(y,p.mode,x),y.return=p,y;case Li:var w=y._init;return f(p,w(y._payload),x)}if(dl(y)||Ga(y))return y=js(y,p.mode,x,null),y.return=p,y;$c(p,y)}return null}function d(p,y,x,w){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(p,y,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Uc:return x.key===S?l(p,y,x,w):null;case Io:return x.key===S?c(p,y,x,w):null;case Li:return S=x._init,d(p,y,S(x._payload),w)}if(dl(x)||Ga(x))return S!==null?null:u(p,y,x,w,null);$c(p,x)}return null}function h(p,y,x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return p=p.get(x)||null,a(y,p,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Uc:return p=p.get(w.key===null?x:w.key)||null,l(y,p,w,S);case Io:return p=p.get(w.key===null?x:w.key)||null,c(y,p,w,S);case Li:var M=w._init;return h(p,y,x,M(w._payload),S)}if(dl(w)||Ga(w))return p=p.get(x)||null,u(y,p,w,S,null);$c(y,w)}return null}function g(p,y,x,w){for(var S=null,M=null,T=y,C=y=0,E=null;T!==null&&C<x.length;C++){T.index>C?(E=T,T=null):E=T.sibling;var A=d(p,T,x[C],w);if(A===null){T===null&&(T=E);break}t&&T&&A.alternate===null&&e(p,T),y=s(A,y,C),M===null?S=A:M.sibling=A,M=A,T=E}if(C===x.length)return n(p,T),gt&&Ts(p,C),S;if(T===null){for(;C<x.length;C++)T=f(p,x[C],w),T!==null&&(y=s(T,y,C),M===null?S=T:M.sibling=T,M=T);return gt&&Ts(p,C),S}for(T=r(p,T);C<x.length;C++)E=h(T,p,C,x[C],w),E!==null&&(t&&E.alternate!==null&&T.delete(E.key===null?C:E.key),y=s(E,y,C),M===null?S=E:M.sibling=E,M=E);return t&&T.forEach(function(k){return e(p,k)}),gt&&Ts(p,C),S}function v(p,y,x,w){var S=Ga(x);if(typeof S!="function")throw Error(ae(150));if(x=S.call(x),x==null)throw Error(ae(151));for(var M=S=null,T=y,C=y=0,E=null,A=x.next();T!==null&&!A.done;C++,A=x.next()){T.index>C?(E=T,T=null):E=T.sibling;var k=d(p,T,A.value,w);if(k===null){T===null&&(T=E);break}t&&T&&k.alternate===null&&e(p,T),y=s(k,y,C),M===null?S=k:M.sibling=k,M=k,T=E}if(A.done)return n(p,T),gt&&Ts(p,C),S;if(T===null){for(;!A.done;C++,A=x.next())A=f(p,A.value,w),A!==null&&(y=s(A,y,C),M===null?S=A:M.sibling=A,M=A);return gt&&Ts(p,C),S}for(T=r(p,T);!A.done;C++,A=x.next())A=h(T,p,C,A.value,w),A!==null&&(t&&A.alternate!==null&&T.delete(A.key===null?C:A.key),y=s(A,y,C),M===null?S=A:M.sibling=A,M=A);return t&&T.forEach(function(I){return e(p,I)}),gt&&Ts(p,C),S}function m(p,y,x,w){if(typeof x=="object"&&x!==null&&x.type===Oo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Uc:e:{for(var S=x.key,M=y;M!==null;){if(M.key===S){if(S=x.type,S===Oo){if(M.tag===7){n(p,M.sibling),y=i(M,x.props.children),y.return=p,p=y;break e}}else if(M.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Li&&N0(S)===M.type){n(p,M.sibling),y=i(M,x.props),y.ref=Ya(p,M,x),y.return=p,p=y;break e}n(p,M);break}else e(p,M);M=M.sibling}x.type===Oo?(y=js(x.props.children,p.mode,w,x.key),y.return=p,p=y):(w=Vu(x.type,x.key,x.props,null,p.mode,w),w.ref=Ya(p,y,x),w.return=p,p=w)}return o(p);case Io:e:{for(M=x.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(p,y.sibling),y=i(y,x.children||[]),y.return=p,p=y;break e}else{n(p,y);break}else e(p,y);y=y.sibling}y=lh(x,p.mode,w),y.return=p,p=y}return o(p);case Li:return M=x._init,m(p,y,M(x._payload),w)}if(dl(x))return g(p,y,x,w);if(Ga(x))return v(p,y,x,w);$c(p,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(p,y.sibling),y=i(y,x),y.return=p,p=y):(n(p,y),y=ah(x,p.mode,w),y.return=p,p=y),o(p)):n(p,y)}return m}var _a=zS(!0),BS=zS(!1),ld=ms(null),cd=null,Ho=null,gg=null;function vg(){gg=Ho=cd=null}function yg(t){var e=ld.current;ft(ld),t._currentValue=e}function Vp(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ta(t,e){cd=t,gg=Ho=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(En=!0),t.firstContext=null)}function rr(t){var e=t._currentValue;if(gg!==t)if(t={context:t,memoizedValue:e,next:null},Ho===null){if(cd===null)throw Error(ae(308));Ho=t,cd.dependencies={lanes:0,firstContext:t}}else Ho=Ho.next=t;return e}var Is=null;function xg(t){Is===null?Is=[t]:Is.push(t)}function VS(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,xg(e)):(n.next=i.next,i.next=n),e.interleaved=n,hi(t,r)}function hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ni=!1;function _g(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Je&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hi(t,n)}return i=r.interleaved,i===null?(e.next=e,xg(r)):(e.next=i.next,i.next=e),r.interleaved=e,hi(t,n)}function Ou(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sg(t,n)}}function D0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ud(t,e,n,r){var i=t.updateQueue;Ni=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,u=c=l=null,a=s;do{var d=a.lane,h=a.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,v=a;switch(d=e,h=n,v.tag){case 1:if(g=v.payload,typeof g=="function"){f=g.call(h,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=v.payload,d=typeof g=="function"?g.call(h,f,d):g,d==null)break e;f=St({},f,d);break e;case 2:Ni=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=h,l=f):u=u.next=h,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Zs|=o,t.lanes=o,t.memoizedState=f}}function I0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ae(191,i));i.call(r)}}}var vc={},kr=ms(vc),Xl=ms(vc),$l=ms(vc);function Os(t){if(t===vc)throw Error(ae(174));return t}function wg(t,e){switch(at($l,e),at(Xl,t),at(kr,vc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:wp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=wp(e,t)}ft(kr),at(kr,e)}function wa(){ft(kr),ft(Xl),ft($l)}function HS(t){Os($l.current);var e=Os(kr.current),n=wp(e,t.type);e!==n&&(at(Xl,t),at(kr,n))}function Sg(t){Xl.current===t&&(ft(kr),ft(Xl))}var xt=ms(0);function dd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var th=[];function bg(){for(var t=0;t<th.length;t++)th[t]._workInProgressVersionPrimary=null;th.length=0}var Uu=xi.ReactCurrentDispatcher,nh=xi.ReactCurrentBatchConfig,Qs=0,wt=null,Ft=null,Xt=null,fd=!1,Ml=!1,ql=0,qC=0;function en(){throw Error(ae(321))}function Eg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!br(t[n],e[n]))return!1;return!0}function Mg(t,e,n,r,i,s){if(Qs=s,wt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Uu.current=t===null||t.memoizedState===null?ZC:JC,t=n(r,i),Ml){s=0;do{if(Ml=!1,ql=0,25<=s)throw Error(ae(301));s+=1,Xt=Ft=null,e.updateQueue=null,Uu.current=eR,t=n(r,i)}while(Ml)}if(Uu.current=hd,e=Ft!==null&&Ft.next!==null,Qs=0,Xt=Ft=wt=null,fd=!1,e)throw Error(ae(300));return t}function Tg(){var t=ql!==0;return ql=0,t}function Cr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xt===null?wt.memoizedState=Xt=t:Xt=Xt.next=t,Xt}function ir(){if(Ft===null){var t=wt.alternate;t=t!==null?t.memoizedState:null}else t=Ft.next;var e=Xt===null?wt.memoizedState:Xt.next;if(e!==null)Xt=e,Ft=t;else{if(t===null)throw Error(ae(310));Ft=t,t={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},Xt===null?wt.memoizedState=Xt=t:Xt=Xt.next=t}return Xt}function Yl(t,e){return typeof e=="function"?e(t):e}function rh(t){var e=ir(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=Ft,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var u=c.lane;if((Qs&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,wt.lanes|=u,Zs|=u}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,br(r,e.memoizedState)||(En=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,wt.lanes|=s,Zs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ih(t){var e=ir(),n=e.queue;if(n===null)throw Error(ae(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);br(s,e.memoizedState)||(En=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function GS(){}function WS(t,e){var n=wt,r=ir(),i=e(),s=!br(r.memoizedState,i);if(s&&(r.memoizedState=i,En=!0),r=r.queue,Ag(qS.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Xt!==null&&Xt.memoizedState.tag&1){if(n.flags|=2048,Kl(9,$S.bind(null,n,r,i,e),void 0,null),$t===null)throw Error(ae(349));Qs&30||XS(n,e,i)}return i}function XS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function $S(t,e,n,r){e.value=n,e.getSnapshot=r,YS(e)&&KS(t)}function qS(t,e,n){return n(function(){YS(e)&&KS(t)})}function YS(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!br(t,n)}catch{return!0}}function KS(t){var e=hi(t,1);e!==null&&Sr(e,t,1,-1)}function O0(t){var e=Cr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:t},e.queue=t,t=t.dispatch=QC.bind(null,wt,t),[e.memoizedState,t]}function Kl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=wt.updateQueue,e===null?(e={lastEffect:null,stores:null},wt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function QS(){return ir().memoizedState}function ku(t,e,n,r){var i=Cr();wt.flags|=t,i.memoizedState=Kl(1|e,n,void 0,r===void 0?null:r)}function Kd(t,e,n,r){var i=ir();r=r===void 0?null:r;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,r!==null&&Eg(r,o.deps)){i.memoizedState=Kl(e,n,s,r);return}}wt.flags|=t,i.memoizedState=Kl(1|e,n,s,r)}function U0(t,e){return ku(8390656,8,t,e)}function Ag(t,e){return Kd(2048,8,t,e)}function ZS(t,e){return Kd(4,2,t,e)}function JS(t,e){return Kd(4,4,t,e)}function eb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function tb(t,e,n){return n=n!=null?n.concat([t]):null,Kd(4,4,eb.bind(null,e,t),n)}function Cg(){}function nb(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function rb(t,e){var n=ir();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Eg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function ib(t,e,n){return Qs&21?(br(n,e)||(n=cS(),wt.lanes|=n,Zs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,En=!0),t.memoizedState=n)}function YC(t,e){var n=it;it=n!==0&&4>n?n:4,t(!0);var r=nh.transition;nh.transition={};try{t(!1),e()}finally{it=n,nh.transition=r}}function sb(){return ir().memoizedState}function KC(t,e,n){var r=Zi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ob(t))ab(e,n);else if(n=VS(t,e,n,r),n!==null){var i=vn();Sr(n,t,r,i),lb(n,e,r)}}function QC(t,e,n){var r=Zi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ob(t))ab(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,br(a,o)){var l=e.interleaved;l===null?(i.next=i,xg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=VS(t,e,i,r),n!==null&&(i=vn(),Sr(n,t,r,i),lb(n,e,r))}}function ob(t){var e=t.alternate;return t===wt||e!==null&&e===wt}function ab(t,e){Ml=fd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function lb(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,sg(t,n)}}var hd={readContext:rr,useCallback:en,useContext:en,useEffect:en,useImperativeHandle:en,useInsertionEffect:en,useLayoutEffect:en,useMemo:en,useReducer:en,useRef:en,useState:en,useDebugValue:en,useDeferredValue:en,useTransition:en,useMutableSource:en,useSyncExternalStore:en,useId:en,unstable_isNewReconciler:!1},ZC={readContext:rr,useCallback:function(t,e){return Cr().memoizedState=[t,e===void 0?null:e],t},useContext:rr,useEffect:U0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ku(4194308,4,eb.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ku(4194308,4,t,e)},useInsertionEffect:function(t,e){return ku(4,2,t,e)},useMemo:function(t,e){var n=Cr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Cr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KC.bind(null,wt,t),[r.memoizedState,t]},useRef:function(t){var e=Cr();return t={current:t},e.memoizedState=t},useState:O0,useDebugValue:Cg,useDeferredValue:function(t){return Cr().memoizedState=t},useTransition:function(){var t=O0(!1),e=t[0];return t=YC.bind(null,t[1]),Cr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=wt,i=Cr();if(gt){if(n===void 0)throw Error(ae(407));n=n()}else{if(n=e(),$t===null)throw Error(ae(349));Qs&30||XS(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,U0(qS.bind(null,r,s,t),[t]),r.flags|=2048,Kl(9,$S.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Cr(),e=$t.identifierPrefix;if(gt){var n=si,r=ii;n=(r&~(1<<32-wr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ql++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=qC++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JC={readContext:rr,useCallback:nb,useContext:rr,useEffect:Ag,useImperativeHandle:tb,useInsertionEffect:ZS,useLayoutEffect:JS,useMemo:rb,useReducer:rh,useRef:QS,useState:function(){return rh(Yl)},useDebugValue:Cg,useDeferredValue:function(t){var e=ir();return ib(e,Ft.memoizedState,t)},useTransition:function(){var t=rh(Yl)[0],e=ir().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:WS,useId:sb,unstable_isNewReconciler:!1},eR={readContext:rr,useCallback:nb,useContext:rr,useEffect:Ag,useImperativeHandle:tb,useInsertionEffect:ZS,useLayoutEffect:JS,useMemo:rb,useReducer:ih,useRef:QS,useState:function(){return ih(Yl)},useDebugValue:Cg,useDeferredValue:function(t){var e=ir();return Ft===null?e.memoizedState=t:ib(e,Ft.memoizedState,t)},useTransition:function(){var t=ih(Yl)[0],e=ir().memoizedState;return[t,e]},useMutableSource:GS,useSyncExternalStore:WS,useId:sb,unstable_isNewReconciler:!1};function dr(t,e){if(t&&t.defaultProps){e=St({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function jp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:St({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Qd={isMounted:function(t){return(t=t._reactInternals)?so(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=vn(),i=Zi(t),s=li(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ki(t,s,i),e!==null&&(Sr(e,t,i,r),Ou(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=vn(),i=Zi(t),s=li(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ki(t,s,i),e!==null&&(Sr(e,t,i,r),Ou(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=vn(),r=Zi(t),i=li(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ki(t,i,r),e!==null&&(Sr(e,t,r,n),Ou(e,t,r))}};function k0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!jl(n,r)||!jl(i,s):!0}function cb(t,e,n){var r=!1,i=os,s=e.contextType;return typeof s=="object"&&s!==null?s=rr(s):(i=Tn(e)?Ys:ln.current,r=e.contextTypes,s=(r=r!=null)?ya(t,i):os),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function F0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Qd.enqueueReplaceState(e,e.state,null)}function Hp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_g(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=rr(s):(s=Tn(e)?Ys:ln.current,i.context=ya(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qd.enqueueReplaceState(i,i.state,null),ud(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sa(t,e){try{var n="",r=e;do n+=CA(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function sh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Gp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tR=typeof WeakMap=="function"?WeakMap:Map;function ub(t,e,n){n=li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){md||(md=!0,em=r),Gp(t,e)},n}function db(t,e,n){n=li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Gp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Gp(t,e),typeof r!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function z0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tR;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=mR.bind(null,t,e,n),e.then(t,t))}function B0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function V0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=li(-1,1),e.tag=2,Ki(n,e,1))),n.lanes|=1),t)}var nR=xi.ReactCurrentOwner,En=!1;function pn(t,e,n,r){e.child=t===null?BS(e,null,n,r):_a(e,t.child,n,r)}function j0(t,e,n,r,i){n=n.render;var s=e.ref;return ta(e,i),r=Mg(t,e,n,r,s,i),n=Tg(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(gt&&n&&hg(e),e.flags|=1,pn(t,e,r,i),e.child)}function H0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ug(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,fb(t,e,s,r,i)):(t=Vu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:jl,n(o,r)&&t.ref===e.ref)return pi(t,e,i)}return e.flags|=1,t=Ji(s,r),t.ref=e.ref,t.return=e,e.child=t}function fb(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(jl(s,r)&&t.ref===e.ref)if(En=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(En=!0);else return e.lanes=t.lanes,pi(t,e,i)}return Wp(t,e,n,r,i)}function hb(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Wo,On),On|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(Wo,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,at(Wo,On),On|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,at(Wo,On),On|=r;return pn(t,e,i,n),e.child}function pb(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Wp(t,e,n,r,i){var s=Tn(n)?Ys:ln.current;return s=ya(e,s),ta(e,i),n=Mg(t,e,n,r,s,i),r=Tg(),t!==null&&!En?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(gt&&r&&hg(e),e.flags|=1,pn(t,e,n,i),e.child)}function G0(t,e,n,r,i){if(Tn(n)){var s=!0;sd(e)}else s=!1;if(ta(e,i),e.stateNode===null)Fu(t,e),cb(e,n,r),Hp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=rr(c):(c=Tn(n)?Ys:ln.current,c=ya(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&F0(e,o,r,c),Ni=!1;var d=e.memoizedState;o.state=d,ud(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Mn.current||Ni?(typeof u=="function"&&(jp(e,n,u,r),l=e.memoizedState),(a=Ni||k0(e,n,a,r,d,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,jS(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:dr(e.type,a),o.props=c,f=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=rr(l):(l=Tn(n)?Ys:ln.current,l=ya(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&F0(e,o,r,l),Ni=!1,d=e.memoizedState,o.state=d,ud(e,r,o,i);var g=e.memoizedState;a!==f||d!==g||Mn.current||Ni?(typeof h=="function"&&(jp(e,n,h,r),g=e.memoizedState),(c=Ni||k0(e,n,c,r,d,g,l)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Xp(t,e,n,r,s,i)}function Xp(t,e,n,r,i,s){pb(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&R0(e,n,!1),pi(t,e,s);r=e.stateNode,nR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=_a(e,t.child,null,s),e.child=_a(e,null,a,s)):pn(t,e,a,s),e.memoizedState=r.state,i&&R0(e,n,!0),e.child}function mb(t){var e=t.stateNode;e.pendingContext?C0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&C0(t,e.context,!1),wg(t,e.containerInfo)}function W0(t,e,n,r,i){return xa(),mg(i),e.flags|=256,pn(t,e,n,r),e.child}var $p={dehydrated:null,treeContext:null,retryLane:0};function qp(t){return{baseLanes:t,cachePool:null,transitions:null}}function gb(t,e,n){var r=e.pendingProps,i=xt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),at(xt,i&1),t===null)return Bp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=ef(o,r,0,null),t=js(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=qp(n),e.memoizedState=$p,t):Rg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return rR(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ji(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ji(a,s):(s=js(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?qp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=$p,r}return s=t.child,t=s.sibling,r=Ji(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Rg(t,e){return e=ef({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function qc(t,e,n,r){return r!==null&&mg(r),_a(e,t.child,null,n),t=Rg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rR(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=sh(Error(ae(422))),qc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=ef({mode:"visible",children:r.children},i,0,null),s=js(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&_a(e,t.child,null,o),e.child.memoizedState=qp(o),e.memoizedState=$p,s);if(!(e.mode&1))return qc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ae(419)),r=sh(s,r,void 0),qc(t,e,o,r)}if(a=(o&t.childLanes)!==0,En||a){if(r=$t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hi(t,i),Sr(r,t,i,-1))}return Og(),r=sh(Error(ae(421))),qc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gR.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,zn=Yi(i.nextSibling),Bn=e,gt=!0,mr=null,t!==null&&(Zn[Jn++]=ii,Zn[Jn++]=si,Zn[Jn++]=Ks,ii=t.id,si=t.overflow,Ks=e),e=Rg(e,r.children),e.flags|=4096,e)}function X0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vp(t.return,e,n)}function oh(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function vb(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(pn(t,e,r.children,n),r=xt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&X0(t,n,e);else if(t.tag===19)X0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(at(xt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&dd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),oh(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&dd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}oh(e,!0,n,null,s);break;case"together":oh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Zs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ae(153));if(e.child!==null){for(t=e.child,n=Ji(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ji(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iR(t,e,n){switch(e.tag){case 3:mb(e),xa();break;case 5:HS(e);break;case 1:Tn(e.type)&&sd(e);break;case 4:wg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;at(ld,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(at(xt,xt.current&1),e.flags|=128,null):n&e.child.childLanes?gb(t,e,n):(at(xt,xt.current&1),t=pi(t,e,n),t!==null?t.sibling:null);at(xt,xt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return vb(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(xt,xt.current),r)break;return null;case 22:case 23:return e.lanes=0,hb(t,e,n)}return pi(t,e,n)}var yb,Yp,xb,_b;yb=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yp=function(){};xb=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Os(kr.current);var s=null;switch(n){case"input":i=vp(t,i),r=vp(t,r),s=[];break;case"select":i=St({},i,{value:void 0}),r=St({},r,{value:void 0}),s=[];break;case"textarea":i=_p(t,i),r=_p(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=rd)}Sp(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ol.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ol.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&dt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};_b=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ka(t,e){if(!gt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function tn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sR(t,e,n){var r=e.pendingProps;switch(pg(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(e),null;case 1:return Tn(e.type)&&id(),tn(e),null;case 3:return r=e.stateNode,wa(),ft(Mn),ft(ln),bg(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mr!==null&&(rm(mr),mr=null))),Yp(t,e),tn(e),null;case 5:Sg(e);var i=Os($l.current);if(n=e.type,t!==null&&e.stateNode!=null)xb(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ae(166));return tn(e),null}if(t=Os(kr.current),Xc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Or]=e,r[Wl]=s,t=(e.mode&1)!==0,n){case"dialog":dt("cancel",r),dt("close",r);break;case"iframe":case"object":case"embed":dt("load",r);break;case"video":case"audio":for(i=0;i<hl.length;i++)dt(hl[i],r);break;case"source":dt("error",r);break;case"img":case"image":case"link":dt("error",r),dt("load",r);break;case"details":dt("toggle",r);break;case"input":t0(r,s),dt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},dt("invalid",r);break;case"textarea":r0(r,s),dt("invalid",r)}Sp(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wc(r.textContent,a,t),i=["children",""+a]):Ol.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&dt("scroll",r)}switch(n){case"input":kc(r),n0(r,s,!0);break;case"textarea":kc(r),i0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=rd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Or]=e,t[Wl]=r,yb(t,e,!1,!1),e.stateNode=t;e:{switch(o=bp(n,r),n){case"dialog":dt("cancel",t),dt("close",t),i=r;break;case"iframe":case"object":case"embed":dt("load",t),i=r;break;case"video":case"audio":for(i=0;i<hl.length;i++)dt(hl[i],t);i=r;break;case"source":dt("error",t),i=r;break;case"img":case"image":case"link":dt("error",t),dt("load",t),i=r;break;case"details":dt("toggle",t),i=r;break;case"input":t0(t,r),i=vp(t,r),dt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=St({},r,{value:void 0}),dt("invalid",t);break;case"textarea":r0(t,r),i=_p(t,r),dt("invalid",t);break;default:i=r}Sp(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Qw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ul(t,l):typeof l=="number"&&Ul(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ol.hasOwnProperty(s)?l!=null&&s==="onScroll"&&dt("scroll",t):l!=null&&Jm(t,s,l,o))}switch(n){case"input":kc(t),n0(t,r,!1);break;case"textarea":kc(t),i0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ss(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return tn(e),null;case 6:if(t&&e.stateNode!=null)_b(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ae(166));if(n=Os($l.current),Os(kr.current),Xc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Or]=e,(s=r.nodeValue!==n)&&(t=Bn,t!==null))switch(t.tag){case 3:Wc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return tn(e),null;case 13:if(ft(xt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(gt&&zn!==null&&e.mode&1&&!(e.flags&128))FS(),xa(),e.flags|=98560,s=!1;else if(s=Xc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ae(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ae(317));s[Or]=e}else xa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;tn(e),s=!1}else mr!==null&&(rm(mr),mr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||xt.current&1?zt===0&&(zt=3):Og())),e.updateQueue!==null&&(e.flags|=4),tn(e),null);case 4:return wa(),Yp(t,e),t===null&&Hl(e.stateNode.containerInfo),tn(e),null;case 10:return yg(e.type._context),tn(e),null;case 17:return Tn(e.type)&&id(),tn(e),null;case 19:if(ft(xt),s=e.memoizedState,s===null)return tn(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Ka(s,!1);else{if(zt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=dd(t),o!==null){for(e.flags|=128,Ka(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return at(xt,xt.current&1|2),e.child}t=t.sibling}s.tail!==null&&At()>ba&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=dd(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!gt)return tn(e),null}else 2*At()-s.renderingStartTime>ba&&n!==1073741824&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=At(),e.sibling=null,n=xt.current,at(xt,r?n&1|2:n&1),e):(tn(e),null);case 22:case 23:return Ig(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?On&1073741824&&(tn(e),e.subtreeFlags&6&&(e.flags|=8192)):tn(e),null;case 24:return null;case 25:return null}throw Error(ae(156,e.tag))}function oR(t,e){switch(pg(e),e.tag){case 1:return Tn(e.type)&&id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wa(),ft(Mn),ft(ln),bg(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Sg(e),null;case 13:if(ft(xt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ae(340));xa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ft(xt),null;case 4:return wa(),null;case 10:return yg(e.type._context),null;case 22:case 23:return Ig(),null;case 24:return null;default:return null}}var Yc=!1,on=!1,aR=typeof WeakSet=="function"?WeakSet:Set,_e=null;function Go(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Mt(t,e,r)}else n.current=null}function Kp(t,e,n){try{n()}catch(r){Mt(t,e,r)}}var $0=!1;function lR(t,e){if(Dp=ed,t=MS(),fg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++c===i&&(a=o),d===s&&++u===r&&(l=o),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ip={focusedElem:t,selectionRange:n},ed=!1,_e=e;_e!==null;)if(e=_e,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,_e=t;else for(;_e!==null;){e=_e;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var v=g.memoizedProps,m=g.memoizedState,p=e.stateNode,y=p.getSnapshotBeforeUpdate(e.elementType===e.type?v:dr(e.type,v),m);p.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ae(163))}}catch(w){Mt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,_e=t;break}_e=e.return}return g=$0,$0=!1,g}function Tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Kp(e,n,s)}i=i.next}while(i!==r)}}function Zd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function wb(t){var e=t.alternate;e!==null&&(t.alternate=null,wb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Or],delete e[Wl],delete e[kp],delete e[GC],delete e[WC])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sb(t){return t.tag===5||t.tag===3||t.tag===4}function q0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=rd));else if(r!==4&&(t=t.child,t!==null))for(Zp(t,e,n),t=t.sibling;t!==null;)Zp(t,e,n),t=t.sibling}function Jp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Jp(t,e,n),t=t.sibling;t!==null;)Jp(t,e,n),t=t.sibling}var qt=null,pr=!1;function Si(t,e,n){for(n=n.child;n!==null;)bb(t,e,n),n=n.sibling}function bb(t,e,n){if(Ur&&typeof Ur.onCommitFiberUnmount=="function")try{Ur.onCommitFiberUnmount(Gd,n)}catch{}switch(n.tag){case 5:on||Go(n,e);case 6:var r=qt,i=pr;qt=null,Si(t,e,n),qt=r,pr=i,qt!==null&&(pr?(t=qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):qt.removeChild(n.stateNode));break;case 18:qt!==null&&(pr?(t=qt,n=n.stateNode,t.nodeType===8?Jf(t.parentNode,n):t.nodeType===1&&Jf(t,n),Bl(t)):Jf(qt,n.stateNode));break;case 4:r=qt,i=pr,qt=n.stateNode.containerInfo,pr=!0,Si(t,e,n),qt=r,pr=i;break;case 0:case 11:case 14:case 15:if(!on&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Kp(n,e,o),i=i.next}while(i!==r)}Si(t,e,n);break;case 1:if(!on&&(Go(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Mt(n,e,a)}Si(t,e,n);break;case 21:Si(t,e,n);break;case 22:n.mode&1?(on=(r=on)||n.memoizedState!==null,Si(t,e,n),on=r):Si(t,e,n);break;default:Si(t,e,n)}}function Y0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new aR),e.forEach(function(r){var i=vR.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:qt=a.stateNode,pr=!1;break e;case 3:qt=a.stateNode.containerInfo,pr=!0;break e;case 4:qt=a.stateNode.containerInfo,pr=!0;break e}a=a.return}if(qt===null)throw Error(ae(160));bb(s,o,i),qt=null,pr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Mt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Eb(e,t),e=e.sibling}function Eb(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Ar(t),r&4){try{Tl(3,t,t.return),Zd(3,t)}catch(v){Mt(t,t.return,v)}try{Tl(5,t,t.return)}catch(v){Mt(t,t.return,v)}}break;case 1:or(e,t),Ar(t),r&512&&n!==null&&Go(n,n.return);break;case 5:if(or(e,t),Ar(t),r&512&&n!==null&&Go(n,n.return),t.flags&32){var i=t.stateNode;try{Ul(i,"")}catch(v){Mt(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Xw(i,s),bp(a,o);var c=bp(a,s);for(o=0;o<l.length;o+=2){var u=l[o],f=l[o+1];u==="style"?Qw(i,f):u==="dangerouslySetInnerHTML"?Yw(i,f):u==="children"?Ul(i,f):Jm(i,u,f,c)}switch(a){case"input":yp(i,s);break;case"textarea":$w(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Qo(i,!!s.multiple,h,!1):d!==!!s.multiple&&(s.defaultValue!=null?Qo(i,!!s.multiple,s.defaultValue,!0):Qo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Wl]=s}catch(v){Mt(t,t.return,v)}}break;case 6:if(or(e,t),Ar(t),r&4){if(t.stateNode===null)throw Error(ae(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){Mt(t,t.return,v)}}break;case 3:if(or(e,t),Ar(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Bl(e.containerInfo)}catch(v){Mt(t,t.return,v)}break;case 4:or(e,t),Ar(t);break;case 13:or(e,t),Ar(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ng=At())),r&4&&Y0(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(on=(c=on)||u,or(e,t),on=c):or(e,t),Ar(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(_e=t,u=t.child;u!==null;){for(f=_e=u;_e!==null;){switch(d=_e,h=d.child,d.tag){case 0:case 11:case 14:case 15:Tl(4,d,d.return);break;case 1:Go(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(v){Mt(r,n,v)}}break;case 5:Go(d,d.return);break;case 22:if(d.memoizedState!==null){Q0(f);continue}}h!==null?(h.return=d,_e=h):Q0(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Kw("display",o))}catch(v){Mt(t,t.return,v)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(v){Mt(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:or(e,t),Ar(t),r&4&&Y0(t);break;case 21:break;default:or(e,t),Ar(t)}}function Ar(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Sb(n)){var r=n;break e}n=n.return}throw Error(ae(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ul(i,""),r.flags&=-33);var s=q0(t);Jp(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=q0(t);Zp(t,a,o);break;default:throw Error(ae(161))}}catch(l){Mt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function cR(t,e,n){_e=t,Mb(t)}function Mb(t,e,n){for(var r=(t.mode&1)!==0;_e!==null;){var i=_e,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||on;a=Yc;var c=on;if(Yc=o,(on=l)&&!c)for(_e=i;_e!==null;)o=_e,l=o.child,o.tag===22&&o.memoizedState!==null?Z0(i):l!==null?(l.return=o,_e=l):Z0(i);for(;s!==null;)_e=s,Mb(s),s=s.sibling;_e=i,Yc=a,on=c}K0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,_e=s):K0(t)}}function K0(t){for(;_e!==null;){var e=_e;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:on||Zd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!on)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:dr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&I0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}I0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Bl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ae(163))}on||e.flags&512&&Qp(e)}catch(d){Mt(e,e.return,d)}}if(e===t){_e=null;break}if(n=e.sibling,n!==null){n.return=e.return,_e=n;break}_e=e.return}}function Q0(t){for(;_e!==null;){var e=_e;if(e===t){_e=null;break}var n=e.sibling;if(n!==null){n.return=e.return,_e=n;break}_e=e.return}}function Z0(t){for(;_e!==null;){var e=_e;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Zd(4,e)}catch(l){Mt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Mt(e,i,l)}}var s=e.return;try{Qp(e)}catch(l){Mt(e,s,l)}break;case 5:var o=e.return;try{Qp(e)}catch(l){Mt(e,o,l)}}}catch(l){Mt(e,e.return,l)}if(e===t){_e=null;break}var a=e.sibling;if(a!==null){a.return=e.return,_e=a;break}_e=e.return}}var uR=Math.ceil,pd=xi.ReactCurrentDispatcher,Pg=xi.ReactCurrentOwner,nr=xi.ReactCurrentBatchConfig,Je=0,$t=null,It=null,Kt=0,On=0,Wo=ms(0),zt=0,Ql=null,Zs=0,Jd=0,Lg=0,Al=null,Sn=null,Ng=0,ba=1/0,ti=null,md=!1,em=null,Qi=null,Kc=!1,ji=null,gd=0,Cl=0,tm=null,zu=-1,Bu=0;function vn(){return Je&6?At():zu!==-1?zu:zu=At()}function Zi(t){return t.mode&1?Je&2&&Kt!==0?Kt&-Kt:$C.transition!==null?(Bu===0&&(Bu=cS()),Bu):(t=it,t!==0||(t=window.event,t=t===void 0?16:gS(t.type)),t):1}function Sr(t,e,n,r){if(50<Cl)throw Cl=0,tm=null,Error(ae(185));pc(t,n,r),(!(Je&2)||t!==$t)&&(t===$t&&(!(Je&2)&&(Jd|=n),zt===4&&Oi(t,Kt)),An(t,r),n===1&&Je===0&&!(e.mode&1)&&(ba=At()+500,Yd&&gs()))}function An(t,e){var n=t.callbackNode;$A(t,e);var r=Ju(t,t===$t?Kt:0);if(r===0)n!==null&&a0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a0(n),e===1)t.tag===0?XC(J0.bind(null,t)):OS(J0.bind(null,t)),jC(function(){!(Je&6)&&gs()}),n=null;else{switch(uS(r)){case 1:n=ig;break;case 4:n=aS;break;case 16:n=Zu;break;case 536870912:n=lS;break;default:n=Zu}n=Db(n,Tb.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Tb(t,e){if(zu=-1,Bu=0,Je&6)throw Error(ae(327));var n=t.callbackNode;if(na()&&t.callbackNode!==n)return null;var r=Ju(t,t===$t?Kt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=vd(t,r);else{e=r;var i=Je;Je|=2;var s=Cb();($t!==t||Kt!==e)&&(ti=null,ba=At()+500,Vs(t,e));do try{hR();break}catch(a){Ab(t,a)}while(!0);vg(),pd.current=s,Je=i,It!==null?e=0:($t=null,Kt=0,e=zt)}if(e!==0){if(e===2&&(i=Cp(t),i!==0&&(r=i,e=nm(t,i))),e===1)throw n=Ql,Vs(t,0),Oi(t,r),An(t,At()),n;if(e===6)Oi(t,r);else{if(i=t.current.alternate,!(r&30)&&!dR(i)&&(e=vd(t,r),e===2&&(s=Cp(t),s!==0&&(r=s,e=nm(t,s))),e===1))throw n=Ql,Vs(t,0),Oi(t,r),An(t,At()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ae(345));case 2:As(t,Sn,ti);break;case 3:if(Oi(t,r),(r&130023424)===r&&(e=Ng+500-At(),10<e)){if(Ju(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){vn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Up(As.bind(null,t,Sn,ti),e);break}As(t,Sn,ti);break;case 4:if(Oi(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-wr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=At()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*uR(r/1960))-r,10<r){t.timeoutHandle=Up(As.bind(null,t,Sn,ti),r);break}As(t,Sn,ti);break;case 5:As(t,Sn,ti);break;default:throw Error(ae(329))}}}return An(t,At()),t.callbackNode===n?Tb.bind(null,t):null}function nm(t,e){var n=Al;return t.current.memoizedState.isDehydrated&&(Vs(t,e).flags|=256),t=vd(t,e),t!==2&&(e=Sn,Sn=n,e!==null&&rm(e)),t}function rm(t){Sn===null?Sn=t:Sn.push.apply(Sn,t)}function dR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!br(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Oi(t,e){for(e&=~Lg,e&=~Jd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wr(e),r=1<<n;t[n]=-1,e&=~r}}function J0(t){if(Je&6)throw Error(ae(327));na();var e=Ju(t,0);if(!(e&1))return An(t,At()),null;var n=vd(t,e);if(t.tag!==0&&n===2){var r=Cp(t);r!==0&&(e=r,n=nm(t,r))}if(n===1)throw n=Ql,Vs(t,0),Oi(t,e),An(t,At()),n;if(n===6)throw Error(ae(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,As(t,Sn,ti),An(t,At()),null}function Dg(t,e){var n=Je;Je|=1;try{return t(e)}finally{Je=n,Je===0&&(ba=At()+500,Yd&&gs())}}function Js(t){ji!==null&&ji.tag===0&&!(Je&6)&&na();var e=Je;Je|=1;var n=nr.transition,r=it;try{if(nr.transition=null,it=1,t)return t()}finally{it=r,nr.transition=n,Je=e,!(Je&6)&&gs()}}function Ig(){On=Wo.current,ft(Wo)}function Vs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,VC(n)),It!==null)for(n=It.return;n!==null;){var r=n;switch(pg(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&id();break;case 3:wa(),ft(Mn),ft(ln),bg();break;case 5:Sg(r);break;case 4:wa();break;case 13:ft(xt);break;case 19:ft(xt);break;case 10:yg(r.type._context);break;case 22:case 23:Ig()}n=n.return}if($t=t,It=t=Ji(t.current,null),Kt=On=e,zt=0,Ql=null,Lg=Jd=Zs=0,Sn=Al=null,Is!==null){for(e=0;e<Is.length;e++)if(n=Is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Is=null}return t}function Ab(t,e){do{var n=It;try{if(vg(),Uu.current=hd,fd){for(var r=wt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}fd=!1}if(Qs=0,Xt=Ft=wt=null,Ml=!1,ql=0,Pg.current=null,n===null||n.return===null){zt=1,Ql=e,It=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Kt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=B0(o);if(h!==null){h.flags&=-257,V0(h,o,a,s,e),h.mode&1&&z0(s,c,e),e=h,l=c;var g=e.updateQueue;if(g===null){var v=new Set;v.add(l),e.updateQueue=v}else g.add(l);break e}else{if(!(e&1)){z0(s,c,e),Og();break e}l=Error(ae(426))}}else if(gt&&a.mode&1){var m=B0(o);if(m!==null){!(m.flags&65536)&&(m.flags|=256),V0(m,o,a,s,e),mg(Sa(l,a));break e}}s=l=Sa(l,a),zt!==4&&(zt=2),Al===null?Al=[s]:Al.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var p=ub(s,l,e);D0(s,p);break e;case 1:a=l;var y=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Qi===null||!Qi.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=db(s,a,e);D0(s,w);break e}}s=s.return}while(s!==null)}Pb(n)}catch(S){e=S,It===n&&n!==null&&(It=n=n.return);continue}break}while(!0)}function Cb(){var t=pd.current;return pd.current=hd,t===null?hd:t}function Og(){(zt===0||zt===3||zt===2)&&(zt=4),$t===null||!(Zs&268435455)&&!(Jd&268435455)||Oi($t,Kt)}function vd(t,e){var n=Je;Je|=2;var r=Cb();($t!==t||Kt!==e)&&(ti=null,Vs(t,e));do try{fR();break}catch(i){Ab(t,i)}while(!0);if(vg(),Je=n,pd.current=r,It!==null)throw Error(ae(261));return $t=null,Kt=0,zt}function fR(){for(;It!==null;)Rb(It)}function hR(){for(;It!==null&&!FA();)Rb(It)}function Rb(t){var e=Nb(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?Pb(t):It=e,Pg.current=null}function Pb(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oR(n,e),n!==null){n.flags&=32767,It=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{zt=6,It=null;return}}else if(n=sR(n,e,On),n!==null){It=n;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);zt===0&&(zt=5)}function As(t,e,n){var r=it,i=nr.transition;try{nr.transition=null,it=1,pR(t,e,n,r)}finally{nr.transition=i,it=r}return null}function pR(t,e,n,r){do na();while(ji!==null);if(Je&6)throw Error(ae(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ae(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(qA(t,s),t===$t&&(It=$t=null,Kt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Kc||(Kc=!0,Db(Zu,function(){return na(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=nr.transition,nr.transition=null;var o=it;it=1;var a=Je;Je|=4,Pg.current=null,lR(t,n),Eb(n,t),IC(Ip),ed=!!Dp,Ip=Dp=null,t.current=n,cR(n),zA(),Je=a,it=o,nr.transition=s}else t.current=n;if(Kc&&(Kc=!1,ji=t,gd=i),s=t.pendingLanes,s===0&&(Qi=null),jA(n.stateNode),An(t,At()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(md)throw md=!1,t=em,em=null,t;return gd&1&&t.tag!==0&&na(),s=t.pendingLanes,s&1?t===tm?Cl++:(Cl=0,tm=t):Cl=0,gs(),null}function na(){if(ji!==null){var t=uS(gd),e=nr.transition,n=it;try{if(nr.transition=null,it=16>t?16:t,ji===null)var r=!1;else{if(t=ji,ji=null,gd=0,Je&6)throw Error(ae(331));var i=Je;for(Je|=4,_e=t.current;_e!==null;){var s=_e,o=s.child;if(_e.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(_e=c;_e!==null;){var u=_e;switch(u.tag){case 0:case 11:case 15:Tl(8,u,s)}var f=u.child;if(f!==null)f.return=u,_e=f;else for(;_e!==null;){u=_e;var d=u.sibling,h=u.return;if(wb(u),u===c){_e=null;break}if(d!==null){d.return=h,_e=d;break}_e=h}}}var g=s.alternate;if(g!==null){var v=g.child;if(v!==null){g.child=null;do{var m=v.sibling;v.sibling=null,v=m}while(v!==null)}}_e=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,_e=o;else e:for(;_e!==null;){if(s=_e,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Tl(9,s,s.return)}var p=s.sibling;if(p!==null){p.return=s.return,_e=p;break e}_e=s.return}}var y=t.current;for(_e=y;_e!==null;){o=_e;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,_e=x;else e:for(o=y;_e!==null;){if(a=_e,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Zd(9,a)}}catch(S){Mt(a,a.return,S)}if(a===o){_e=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,_e=w;break e}_e=a.return}}if(Je=i,gs(),Ur&&typeof Ur.onPostCommitFiberRoot=="function")try{Ur.onPostCommitFiberRoot(Gd,t)}catch{}r=!0}return r}finally{it=n,nr.transition=e}}return!1}function ey(t,e,n){e=Sa(n,e),e=ub(t,e,1),t=Ki(t,e,1),e=vn(),t!==null&&(pc(t,1,e),An(t,e))}function Mt(t,e,n){if(t.tag===3)ey(t,t,n);else for(;e!==null;){if(e.tag===3){ey(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qi===null||!Qi.has(r))){t=Sa(n,t),t=db(e,t,1),e=Ki(e,t,1),t=vn(),e!==null&&(pc(e,1,t),An(e,t));break}}e=e.return}}function mR(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=vn(),t.pingedLanes|=t.suspendedLanes&n,$t===t&&(Kt&n)===n&&(zt===4||zt===3&&(Kt&130023424)===Kt&&500>At()-Ng?Vs(t,0):Lg|=n),An(t,e)}function Lb(t,e){e===0&&(t.mode&1?(e=Bc,Bc<<=1,!(Bc&130023424)&&(Bc=4194304)):e=1);var n=vn();t=hi(t,e),t!==null&&(pc(t,e,n),An(t,n))}function gR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Lb(t,n)}function vR(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ae(314))}r!==null&&r.delete(e),Lb(t,n)}var Nb;Nb=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Mn.current)En=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return En=!1,iR(t,e,n);En=!!(t.flags&131072)}else En=!1,gt&&e.flags&1048576&&US(e,ad,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fu(t,e),t=e.pendingProps;var i=ya(e,ln.current);ta(e,n),i=Mg(null,e,r,t,i,n);var s=Tg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Tn(r)?(s=!0,sd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_g(e),i.updater=Qd,e.stateNode=i,i._reactInternals=e,Hp(e,r,t,n),e=Xp(null,e,r,!0,s,n)):(e.tag=0,gt&&s&&hg(e),pn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fu(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xR(r),t=dr(r,t),i){case 0:e=Wp(null,e,r,t,n);break e;case 1:e=G0(null,e,r,t,n);break e;case 11:e=j0(null,e,r,t,n);break e;case 14:e=H0(null,e,r,dr(r.type,t),n);break e}throw Error(ae(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),Wp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),G0(t,e,r,i,n);case 3:e:{if(mb(e),t===null)throw Error(ae(387));r=e.pendingProps,s=e.memoizedState,i=s.element,jS(t,e),ud(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Sa(Error(ae(423)),e),e=W0(t,e,r,n,i);break e}else if(r!==i){i=Sa(Error(ae(424)),e),e=W0(t,e,r,n,i);break e}else for(zn=Yi(e.stateNode.containerInfo.firstChild),Bn=e,gt=!0,mr=null,n=BS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(xa(),r===i){e=pi(t,e,n);break e}pn(t,e,r,n)}e=e.child}return e;case 5:return HS(e),t===null&&Bp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Op(r,i)?o=null:s!==null&&Op(r,s)&&(e.flags|=32),pb(t,e),pn(t,e,o,n),e.child;case 6:return t===null&&Bp(e),null;case 13:return gb(t,e,n);case 4:return wg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_a(e,null,r,n):pn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),j0(t,e,r,i,n);case 7:return pn(t,e,e.pendingProps,n),e.child;case 8:return pn(t,e,e.pendingProps.children,n),e.child;case 12:return pn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,at(ld,r._currentValue),r._currentValue=o,s!==null)if(br(s.value,o)){if(s.children===i.children&&!Mn.current){e=pi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=li(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Vp(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ae(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Vp(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}pn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ta(e,n),i=rr(i),r=r(i),e.flags|=1,pn(t,e,r,n),e.child;case 14:return r=e.type,i=dr(r,e.pendingProps),i=dr(r.type,i),H0(t,e,r,i,n);case 15:return fb(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:dr(r,i),Fu(t,e),e.tag=1,Tn(r)?(t=!0,sd(e)):t=!1,ta(e,n),cb(e,r,i),Hp(e,r,i,n),Xp(null,e,r,!0,t,n);case 19:return vb(t,e,n);case 22:return hb(t,e,n)}throw Error(ae(156,e.tag))};function Db(t,e){return oS(t,e)}function yR(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(t,e,n,r){return new yR(t,e,n,r)}function Ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xR(t){if(typeof t=="function")return Ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tg)return 11;if(t===ng)return 14}return 2}function Ji(t,e){var n=t.alternate;return n===null?(n=tr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vu(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Ug(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oo:return js(n.children,i,s,e);case eg:o=8,i|=8;break;case hp:return t=tr(12,n,e,i|2),t.elementType=hp,t.lanes=s,t;case pp:return t=tr(13,n,e,i),t.elementType=pp,t.lanes=s,t;case mp:return t=tr(19,n,e,i),t.elementType=mp,t.lanes=s,t;case Hw:return ef(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Vw:o=10;break e;case jw:o=9;break e;case tg:o=11;break e;case ng:o=14;break e;case Li:o=16,r=null;break e}throw Error(ae(130,t==null?t:typeof t,""))}return e=tr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function js(t,e,n,r){return t=tr(7,t,r,e),t.lanes=n,t}function ef(t,e,n,r){return t=tr(22,t,r,e),t.elementType=Hw,t.lanes=n,t.stateNode={isHidden:!1},t}function ah(t,e,n){return t=tr(6,t,null,e),t.lanes=n,t}function lh(t,e,n){return e=tr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _R(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=jf(0),this.expirationTimes=jf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=jf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function kg(t,e,n,r,i,s,o,a,l){return t=new _R(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=tr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_g(s),t}function wR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Io,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ib(t){if(!t)return os;t=t._reactInternals;e:{if(so(t)!==t||t.tag!==1)throw Error(ae(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ae(171))}if(t.tag===1){var n=t.type;if(Tn(n))return IS(t,n,e)}return e}function Ob(t,e,n,r,i,s,o,a,l){return t=kg(n,r,!0,t,i,s,o,a,l),t.context=Ib(null),n=t.current,r=vn(),i=Zi(n),s=li(r,i),s.callback=e??null,Ki(n,s,i),t.current.lanes=i,pc(t,i,r),An(t,r),t}function tf(t,e,n,r){var i=e.current,s=vn(),o=Zi(i);return n=Ib(n),e.context===null?e.context=n:e.pendingContext=n,e=li(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ki(i,e,o),t!==null&&(Sr(t,i,o,s),Ou(t,i,o)),o}function yd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ty(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Fg(t,e){ty(t,e),(t=t.alternate)&&ty(t,e)}function SR(){return null}var Ub=typeof reportError=="function"?reportError:function(t){console.error(t)};function zg(t){this._internalRoot=t}nf.prototype.render=zg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ae(409));tf(t,e,null,null)};nf.prototype.unmount=zg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Js(function(){tf(null,t,null,null)}),e[fi]=null}};function nf(t){this._internalRoot=t}nf.prototype.unstable_scheduleHydration=function(t){if(t){var e=hS();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ii.length&&e!==0&&e<Ii[n].priority;n++);Ii.splice(n,0,t),n===0&&mS(t)}};function Bg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function rf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ny(){}function bR(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=yd(o);s.call(c)}}var o=Ob(e,r,t,0,null,!1,!1,"",ny);return t._reactRootContainer=o,t[fi]=o.current,Hl(t.nodeType===8?t.parentNode:t),Js(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=yd(l);a.call(c)}}var l=kg(t,0,!1,null,null,!1,!1,"",ny);return t._reactRootContainer=l,t[fi]=l.current,Hl(t.nodeType===8?t.parentNode:t),Js(function(){tf(e,l,n,r)}),l}function sf(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=yd(o);a.call(l)}}tf(e,o,t,i)}else o=bR(n,e,t,i,r);return yd(o)}dS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fl(e.pendingLanes);n!==0&&(sg(e,n|1),An(e,At()),!(Je&6)&&(ba=At()+500,gs()))}break;case 13:Js(function(){var r=hi(t,1);if(r!==null){var i=vn();Sr(r,t,1,i)}}),Fg(t,1)}};og=function(t){if(t.tag===13){var e=hi(t,134217728);if(e!==null){var n=vn();Sr(e,t,134217728,n)}Fg(t,134217728)}};fS=function(t){if(t.tag===13){var e=Zi(t),n=hi(t,e);if(n!==null){var r=vn();Sr(n,t,e,r)}Fg(t,e)}};hS=function(){return it};pS=function(t,e){var n=it;try{return it=t,e()}finally{it=n}};Mp=function(t,e,n){switch(e){case"input":if(yp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qd(r);if(!i)throw Error(ae(90));Ww(r),yp(r,i)}}}break;case"textarea":$w(t,n);break;case"select":e=n.value,e!=null&&Qo(t,!!n.multiple,e,!1)}};eS=Dg;tS=Js;var ER={usingClientEntryPoint:!1,Events:[gc,zo,qd,Zw,Jw,Dg]},Qa={findFiberByHostInstance:Ds,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MR={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=iS(t),t===null?null:t.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||SR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{Gd=Qc.inject(MR),Ur=Qc}catch{}}Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ER;Xn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bg(e))throw Error(ae(200));return wR(t,e,null,n)};Xn.createRoot=function(t,e){if(!Bg(t))throw Error(ae(299));var n=!1,r="",i=Ub;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=kg(t,1,!1,null,null,n,!1,r,i),t[fi]=e.current,Hl(t.nodeType===8?t.parentNode:t),new zg(e)};Xn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ae(188)):(t=Object.keys(t).join(","),Error(ae(268,t)));return t=iS(e),t=t===null?null:t.stateNode,t};Xn.flushSync=function(t){return Js(t)};Xn.hydrate=function(t,e,n){if(!rf(e))throw Error(ae(200));return sf(null,t,e,!0,n)};Xn.hydrateRoot=function(t,e,n){if(!Bg(t))throw Error(ae(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Ub;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Ob(e,null,t,1,n??null,i,!1,s,o),t[fi]=e.current,Hl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new nf(e)};Xn.render=function(t,e,n){if(!rf(e))throw Error(ae(200));return sf(null,t,e,!1,n)};Xn.unmountComponentAtNode=function(t){if(!rf(t))throw Error(ae(40));return t._reactRootContainer?(Js(function(){sf(null,null,t,!1,function(){t._reactRootContainer=null,t[fi]=null})}),!0):!1};Xn.unstable_batchedUpdates=Dg;Xn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!rf(n))throw Error(ae(200));if(t==null||t._reactInternals===void 0)throw Error(ae(38));return sf(t,e,n,!1,r)};Xn.version="18.3.1-next-f1338f8080-20240426";function kb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kb)}catch(t){console.error(t)}}kb(),kw.exports=Xn;var yc=kw.exports;const Fb=ro(yc);var zb,ry=yc;zb=ry.createRoot,ry.hydrateRoot;const TR=1,AR=1e6;let ch=0;function CR(){return ch=(ch+1)%Number.MAX_SAFE_INTEGER,ch.toString()}const uh=new Map,iy=t=>{if(uh.has(t))return;const e=setTimeout(()=>{uh.delete(t),Rl({type:"REMOVE_TOAST",toastId:t})},AR);uh.set(t,e)},RR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,TR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?iy(n):t.toasts.forEach(r=>{iy(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},ju=[];let Hu={toasts:[]};function Rl(t){Hu=RR(Hu,t),ju.forEach(e=>{e(Hu)})}function PR({...t}){const e=CR(),n=i=>Rl({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>Rl({type:"DISMISS_TOAST",toastId:e});return Rl({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Vg(){const[t,e]=b.useState(Hu);return b.useEffect(()=>(ju.push(e),()=>{const n=ju.indexOf(e);n>-1&&ju.splice(n,1)}),[t]),{...t,toast:PR,dismiss:n=>Rl({type:"DISMISS_TOAST",toastId:n})}}function ot(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function LR(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function Bb(...t){return e=>t.forEach(n=>LR(n,e))}function Zt(...t){return b.useCallback(Bb(...t),t)}function NR(t,e=[]){let n=[];function r(s,o){const a=b.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:d,children:h,...g}=f,v=(d==null?void 0:d[t][l])||a,m=b.useMemo(()=>g,Object.values(g));return _.jsx(v.Provider,{value:m,children:h})}function u(f,d){const h=(d==null?void 0:d[t][l])||a,g=b.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,DR(i,...e)]}function DR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var Zl=b.forwardRef((t,e)=>{const{children:n,...r}=t,i=b.Children.toArray(n),s=i.find(IR);if(s){const o=s.props.children,a=i.map(l=>l===s?b.Children.count(o)>1?b.Children.only(null):b.isValidElement(o)?o.props.children:null:l);return _.jsx(im,{...r,ref:e,children:b.isValidElement(o)?b.cloneElement(o,void 0,a):null})}return _.jsx(im,{...r,ref:e,children:n})});Zl.displayName="Slot";var im=b.forwardRef((t,e)=>{const{children:n,...r}=t;if(b.isValidElement(n)){const i=UR(n);return b.cloneElement(n,{...OR(r,n.props),ref:e?Bb(e,i):i})}return b.Children.count(n)>1?b.Children.only(null):null});im.displayName="SlotClone";var Vb=({children:t})=>_.jsx(_.Fragment,{children:t});function IR(t){return b.isValidElement(t)&&t.type===Vb}function OR(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function UR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function kR(t){const e=t+"CollectionProvider",[n,r]=NR(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=h=>{const{scope:g,children:v}=h,m=ue.useRef(null),p=ue.useRef(new Map).current;return _.jsx(i,{scope:g,itemMap:p,collectionRef:m,children:v})};o.displayName=e;const a=t+"CollectionSlot",l=ue.forwardRef((h,g)=>{const{scope:v,children:m}=h,p=s(a,v),y=Zt(g,p.collectionRef);return _.jsx(Zl,{ref:y,children:m})});l.displayName=a;const c=t+"CollectionItemSlot",u="data-radix-collection-item",f=ue.forwardRef((h,g)=>{const{scope:v,children:m,...p}=h,y=ue.useRef(null),x=Zt(g,y),w=s(c,v);return ue.useEffect(()=>(w.itemMap.set(y,{ref:y,...p}),()=>void w.itemMap.delete(y))),_.jsx(Zl,{[u]:"",ref:x,children:m})});f.displayName=c;function d(h){const g=s(t+"CollectionConsumer",h);return ue.useCallback(()=>{const m=g.collectionRef.current;if(!m)return[];const p=Array.from(m.querySelectorAll(`[${u}]`));return Array.from(g.itemMap.values()).sort((w,S)=>p.indexOf(w.ref.current)-p.indexOf(S.ref.current))},[g.collectionRef,g.itemMap])}return[{Provider:o,Slot:l,ItemSlot:f},d,r]}function jg(t,e=[]){let n=[];function r(s,o){const a=b.createContext(o),l=n.length;n=[...n,o];const c=f=>{var p;const{scope:d,children:h,...g}=f,v=((p=d==null?void 0:d[t])==null?void 0:p[l])||a,m=b.useMemo(()=>g,Object.values(g));return _.jsx(v.Provider,{value:m,children:h})};c.displayName=s+"Provider";function u(f,d){var v;const h=((v=d==null?void 0:d[t])==null?void 0:v[l])||a,g=b.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,FR(i,...e)]}function FR(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}var zR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],jt=zR.reduce((t,e)=>{const n=b.forwardRef((r,i)=>{const{asChild:s,...o}=r,a=s?Zl:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),_.jsx(a,{...o,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function jb(t,e){t&&yc.flushSync(()=>t.dispatchEvent(e))}function Yt(t){const e=b.useRef(t);return b.useEffect(()=>{e.current=t}),b.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function BR(t,e=globalThis==null?void 0:globalThis.document){const n=Yt(t);b.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var VR="DismissableLayer",sm="dismissableLayer.update",jR="dismissableLayer.pointerDownOutside",HR="dismissableLayer.focusOutside",sy,Hb=b.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Hg=b.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=b.useContext(Hb),[u,f]=b.useState(null),d=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=b.useState({}),g=Zt(e,T=>f(T)),v=Array.from(c.layers),[m]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),p=v.indexOf(m),y=u?v.indexOf(u):-1,x=c.layersWithOutsidePointerEventsDisabled.size>0,w=y>=p,S=WR(T=>{const C=T.target,E=[...c.branches].some(A=>A.contains(C));!w||E||(i==null||i(T),o==null||o(T),T.defaultPrevented||a==null||a())},d),M=XR(T=>{const C=T.target;[...c.branches].some(A=>A.contains(C))||(s==null||s(T),o==null||o(T),T.defaultPrevented||a==null||a())},d);return BR(T=>{y===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},d),b.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(sy=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),oy(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(d.body.style.pointerEvents=sy)}},[u,d,n,c]),b.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),oy())},[u,c]),b.useEffect(()=>{const T=()=>h({});return document.addEventListener(sm,T),()=>document.removeEventListener(sm,T)},[]),_.jsx(jt.div,{...l,ref:g,style:{pointerEvents:x?w?"auto":"none":void 0,...t.style},onFocusCapture:ot(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ot(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ot(t.onPointerDownCapture,S.onPointerDownCapture)})});Hg.displayName=VR;var GR="DismissableLayerBranch",Gb=b.forwardRef((t,e)=>{const n=b.useContext(Hb),r=b.useRef(null),i=Zt(e,r);return b.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),_.jsx(jt.div,{...t,ref:i})});Gb.displayName=GR;function WR(t,e=globalThis==null?void 0:globalThis.document){const n=Yt(t),r=b.useRef(!1),i=b.useRef(()=>{});return b.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Wb(jR,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function XR(t,e=globalThis==null?void 0:globalThis.document){const n=Yt(t),r=b.useRef(!1);return b.useEffect(()=>{const i=s=>{s.target&&!r.current&&Wb(HR,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function oy(){const t=new CustomEvent(sm);document.dispatchEvent(t)}function Wb(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?jb(i,s):i.dispatchEvent(s)}var $R=Hg,qR=Gb,mi=globalThis!=null&&globalThis.document?b.useLayoutEffect:()=>{},YR="Portal",Xb=b.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=b.useState(!1);mi(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?Fb.createPortal(_.jsx(jt.div,{...r,ref:e}),o):null});Xb.displayName=YR;function KR(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var oo=t=>{const{present:e,children:n}=t,r=QR(e),i=typeof n=="function"?n({present:r.isPresent}):b.Children.only(n),s=Zt(r.ref,ZR(i));return typeof n=="function"||r.isPresent?b.cloneElement(i,{ref:s}):null};oo.displayName="Presence";function QR(t){const[e,n]=b.useState(),r=b.useRef({}),i=b.useRef(t),s=b.useRef("none"),o=t?"mounted":"unmounted",[a,l]=KR(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return b.useEffect(()=>{const c=Zc(r.current);s.current=a==="mounted"?c:"none"},[a]),mi(()=>{const c=r.current,u=i.current;if(u!==t){const d=s.current,h=Zc(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&d!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),mi(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,f=h=>{const v=Zc(r.current).includes(h.animationName);if(h.target===e&&v&&(l("ANIMATION_END"),!i.current)){const m=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=m)})}},d=h=>{h.target===e&&(s.current=Zc(r.current))};return e.addEventListener("animationstart",d),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",d),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:b.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Zc(t){return(t==null?void 0:t.animationName)||"none"}function ZR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function $b({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=JR({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=Yt(n),l=b.useCallback(c=>{if(s){const f=typeof c=="function"?c(t):c;f!==t&&a(f)}else i(c)},[s,t,i,a]);return[o,l]}function JR({defaultProp:t,onChange:e}){const n=b.useState(t),[r]=n,i=b.useRef(r),s=Yt(e);return b.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var eP="VisuallyHidden",of=b.forwardRef((t,e)=>_.jsx(jt.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));of.displayName=eP;var tP=of,Gg="ToastProvider",[Wg,nP,rP]=kR("Toast"),[qb,aH]=jg("Toast",[rP]),[iP,af]=qb(Gg),Yb=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=b.useState(null),[c,u]=b.useState(0),f=b.useRef(!1),d=b.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gg}\`. Expected non-empty \`string\`.`),_.jsx(Wg.Provider,{scope:e,children:_.jsx(iP,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:b.useCallback(()=>u(h=>h+1),[]),onToastRemove:b.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:d,children:o})})};Yb.displayName=Gg;var Kb="ToastViewport",sP=["F8"],om="toast.viewportPause",am="toast.viewportResume",Qb=b.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=sP,label:i="Notifications ({hotkey})",...s}=t,o=af(Kb,n),a=nP(n),l=b.useRef(null),c=b.useRef(null),u=b.useRef(null),f=b.useRef(null),d=Zt(e,f,o.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),g=o.toastCount>0;b.useEffect(()=>{const m=p=>{var x;r.length!==0&&r.every(w=>p[w]||p.code===w)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",m),()=>document.removeEventListener("keydown",m)},[r]),b.useEffect(()=>{const m=l.current,p=f.current;if(g&&m&&p){const y=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(om);p.dispatchEvent(M),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(am);p.dispatchEvent(M),o.isClosePausedRef.current=!1}},w=M=>{!m.contains(M.relatedTarget)&&x()},S=()=>{m.contains(document.activeElement)||x()};return m.addEventListener("focusin",y),m.addEventListener("focusout",w),m.addEventListener("pointermove",y),m.addEventListener("pointerleave",S),window.addEventListener("blur",y),window.addEventListener("focus",x),()=>{m.removeEventListener("focusin",y),m.removeEventListener("focusout",w),m.removeEventListener("pointermove",y),m.removeEventListener("pointerleave",S),window.removeEventListener("blur",y),window.removeEventListener("focus",x)}}},[g,o.isClosePausedRef]);const v=b.useCallback(({tabbingDirection:m})=>{const y=a().map(x=>{const w=x.ref.current,S=[w,...yP(w)];return m==="forwards"?S:S.reverse()});return(m==="forwards"?y.reverse():y).flat()},[a]);return b.useEffect(()=>{const m=f.current;if(m){const p=y=>{var S,M,T;const x=y.altKey||y.ctrlKey||y.metaKey;if(y.key==="Tab"&&!x){const C=document.activeElement,E=y.shiftKey;if(y.target===m&&E){(S=c.current)==null||S.focus();return}const I=v({tabbingDirection:E?"backwards":"forwards"}),O=I.findIndex(L=>L===C);dh(I.slice(O+1))?y.preventDefault():E?(M=c.current)==null||M.focus():(T=u.current)==null||T.focus()}};return m.addEventListener("keydown",p),()=>m.removeEventListener("keydown",p)}},[a,v]),_.jsxs(qR,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:g?void 0:"none"},children:[g&&_.jsx(lm,{ref:c,onFocusFromOutsideViewport:()=>{const m=v({tabbingDirection:"forwards"});dh(m)}}),_.jsx(Wg.Slot,{scope:n,children:_.jsx(jt.ol,{tabIndex:-1,...s,ref:d})}),g&&_.jsx(lm,{ref:u,onFocusFromOutsideViewport:()=>{const m=v({tabbingDirection:"backwards"});dh(m)}})]})});Qb.displayName=Kb;var Zb="ToastFocusProxy",lm=b.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=af(Zb,n);return _.jsx(of,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});lm.displayName=Zb;var lf="Toast",oP="toast.swipeStart",aP="toast.swipeMove",lP="toast.swipeCancel",cP="toast.swipeEnd",Jb=b.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=$b({prop:r,defaultProp:i,onChange:s});return _.jsx(oo,{present:n||a,children:_.jsx(fP,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:Yt(t.onPause),onResume:Yt(t.onResume),onSwipeStart:ot(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ot(t.onSwipeMove,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ot(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ot(t.onSwipeEnd,c=>{const{x:u,y:f}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});Jb.displayName=lf;var[uP,dP]=qb(lf,{onClose(){}}),fP=b.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:f,onSwipeCancel:d,onSwipeEnd:h,...g}=t,v=af(lf,n),[m,p]=b.useState(null),y=Zt(e,L=>p(L)),x=b.useRef(null),w=b.useRef(null),S=i||v.duration,M=b.useRef(0),T=b.useRef(S),C=b.useRef(0),{onToastAdd:E,onToastRemove:A}=v,k=Yt(()=>{var z;(m==null?void 0:m.contains(document.activeElement))&&((z=v.viewport)==null||z.focus()),o()}),I=b.useCallback(L=>{!L||L===1/0||(window.clearTimeout(C.current),M.current=new Date().getTime(),C.current=window.setTimeout(k,L))},[k]);b.useEffect(()=>{const L=v.viewport;if(L){const z=()=>{I(T.current),c==null||c()},H=()=>{const j=new Date().getTime()-M.current;T.current=T.current-j,window.clearTimeout(C.current),l==null||l()};return L.addEventListener(om,H),L.addEventListener(am,z),()=>{L.removeEventListener(om,H),L.removeEventListener(am,z)}}},[v.viewport,S,l,c,I]),b.useEffect(()=>{s&&!v.isClosePausedRef.current&&I(S)},[s,S,v.isClosePausedRef,I]),b.useEffect(()=>(E(),()=>A()),[E,A]);const O=b.useMemo(()=>m?oE(m):null,[m]);return v.viewport?_.jsxs(_.Fragment,{children:[O&&_.jsx(hP,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),_.jsx(uP,{scope:n,onClose:k,children:yc.createPortal(_.jsx(Wg.ItemSlot,{scope:n,children:_.jsx($R,{asChild:!0,onEscapeKeyDown:ot(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||k(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:_.jsx(jt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...g,ref:y,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ot(t.onKeyDown,L=>{L.key==="Escape"&&(a==null||a(L.nativeEvent),L.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:ot(t.onPointerDown,L=>{L.button===0&&(x.current={x:L.clientX,y:L.clientY})}),onPointerMove:ot(t.onPointerMove,L=>{if(!x.current)return;const z=L.clientX-x.current.x,H=L.clientY-x.current.y,j=!!w.current,N=["left","right"].includes(v.swipeDirection),V=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,W=N?V(0,z):0,U=N?0:V(0,H),B=L.pointerType==="touch"?10:2,ee={x:W,y:U},te={originalEvent:L,delta:ee};j?(w.current=ee,Jc(aP,f,te,{discrete:!1})):ay(ee,v.swipeDirection,B)?(w.current=ee,Jc(oP,u,te,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(z)>B||Math.abs(H)>B)&&(x.current=null)}),onPointerUp:ot(t.onPointerUp,L=>{const z=w.current,H=L.target;if(H.hasPointerCapture(L.pointerId)&&H.releasePointerCapture(L.pointerId),w.current=null,x.current=null,z){const j=L.currentTarget,N={originalEvent:L,delta:z};ay(z,v.swipeDirection,v.swipeThreshold)?Jc(cP,h,N,{discrete:!0}):Jc(lP,d,N,{discrete:!0}),j.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),hP=t=>{const{__scopeToast:e,children:n,...r}=t,i=af(lf,e),[s,o]=b.useState(!1),[a,l]=b.useState(!1);return gP(()=>o(!0)),b.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:_.jsx(Xb,{asChild:!0,children:_.jsx(of,{...r,children:s&&_.jsxs(_.Fragment,{children:[i.label," ",n]})})})},pP="ToastTitle",eE=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return _.jsx(jt.div,{...r,ref:e})});eE.displayName=pP;var mP="ToastDescription",tE=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return _.jsx(jt.div,{...r,ref:e})});tE.displayName=mP;var nE="ToastAction",rE=b.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?_.jsx(sE,{altText:n,asChild:!0,children:_.jsx(Xg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${nE}\`. Expected non-empty \`string\`.`),null)});rE.displayName=nE;var iE="ToastClose",Xg=b.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=dP(iE,n);return _.jsx(sE,{asChild:!0,children:_.jsx(jt.button,{type:"button",...r,ref:e,onClick:ot(t.onClick,i.onClose)})})});Xg.displayName=iE;var sE=b.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return _.jsx(jt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function oE(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),vP(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...oE(r))}}),e}function Jc(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?jb(i,s):i.dispatchEvent(s)}var ay=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function gP(t=()=>{}){const e=Yt(t);mi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function vP(t){return t.nodeType===t.ELEMENT_NODE}function yP(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function dh(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var xP=Yb,aE=Qb,lE=Jb,cE=eE,uE=tE,dE=rE,fE=Xg;function hE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=hE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function pE(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=hE(t))&&(r&&(r+=" "),r+=e);return r}const ly=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cy=pE,mE=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return cy(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],f=s==null?void 0:s[c];if(u===null)return null;const d=ly(u)||ly(f);return i[c][d]}),a=n&&Object.entries(n).reduce((c,u)=>{let[f,d]=u;return d===void 0||(c[f]=d),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:f,className:d,...h}=u;return Object.entries(h).every(g=>{let[v,m]=g;return Array.isArray(m)?m.includes({...s,...a}[v]):{...s,...a}[v]===m})?[...c,f,d]:c},[]);return cy(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _P=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SP=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>b.createElement("svg",{ref:l,...wP,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:gE("lucide",i),...a},[...o.map(([c,u])=>b.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(t,e)=>{const n=b.forwardRef(({className:r,...i},s)=>b.createElement(SP,{ref:s,iconNode:e,className:gE(`lucide-${_P(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bP=ht("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fh=ht("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EP=ht("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hh=ht("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=ht("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dy=ht("Dna",[["path",{d:"m10 16 1.5 1.5",key:"11lckj"}],["path",{d:"m14 8-1.5-1.5",key:"1ohn8i"}],["path",{d:"M15 2c-1.798 1.998-2.518 3.995-2.807 5.993",key:"80uv8i"}],["path",{d:"m16.5 10.5 1 1",key:"696xn5"}],["path",{d:"m17 6-2.891-2.891",key:"xu6p2f"}],["path",{d:"M2 15c6.667-6 13.333 0 20-6",key:"1pyr53"}],["path",{d:"m20 9 .891.891",key:"3xwk7g"}],["path",{d:"M3.109 14.109 4 15",key:"q76aoh"}],["path",{d:"m6.5 12.5 1 1",key:"cs35ky"}],["path",{d:"m7 18 2.891 2.891",key:"1sisit"}],["path",{d:"M9 22c1.798-1.998 2.518-3.995 2.807-5.993",key:"q3hbxp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MP=ht("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TP=ht("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AP=ht("Loader",[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CP=ht("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=ht("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PP=ht("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=ht("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NP=ht("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vE=ht("Microscope",[["path",{d:"M6 18h8",key:"1borvv"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M14 22a7 7 0 1 0 0-14h-1",key:"1jwaiy"}],["path",{d:"M9 14h2",key:"197e7h"}],["path",{d:"M9 12a2 2 0 0 1-2-2V6h6v4a2 2 0 0 1-2 2Z",key:"1bmzmy"}],["path",{d:"M12 6V3a1 1 0 0 0-1-1H9a1 1 0 0 0-1 1v3",key:"1drr47"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DP=ht("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IP=ht("Pause",[["rect",{x:"14",y:"4",width:"4",height:"16",rx:"1",key:"zuxfzm"}],["rect",{x:"6",y:"4",width:"4",height:"16",rx:"1",key:"1okwgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=ht("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=ht("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=ht("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fy=ht("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=ht("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yE=ht("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=ht("VolumeX",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $g=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qg="-",FP=t=>{const e=BP(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(qg);return a[0]===""&&a.length!==1&&a.shift(),_E(a,e)||zP(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},_E=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?_E(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(qg);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},hy=/^\[(.+)\]$/,zP=t=>{if(hy.test(t)){const e=hy.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},BP=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return jP(Object.entries(t.classGroups),n).forEach(([s,o])=>{cm(o,r,s,e)}),r},cm=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:py(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(VP(i)){cm(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{cm(o,py(e,s),n,r)})})},py=(t,e)=>{let n=t;return e.split(qg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},VP=t=>t.isThemeGetter,jP=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,HP=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},wE="!",GP=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,u=0,f;for(let m=0;m<a.length;m++){let p=a[m];if(c===0){if(p===i&&(r||a.slice(m,m+s)===e)){l.push(a.slice(u,m)),u=m+s;continue}if(p==="/"){f=m;continue}}p==="["?c++:p==="]"&&c--}const d=l.length===0?a:a.substring(u),h=d.startsWith(wE),g=h?d.substring(1):d,v=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},WP=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},XP=t=>({cache:HP(t.cacheSize),parseClassName:GP(t),...FP(t)}),$P=/\s+/,qP=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split($P);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:u,hasImportantModifier:f,baseClassName:d,maybePostfixModifierPosition:h}=n(c);let g=!!h,v=r(g?d.substring(0,h):d);if(!v){if(!g){a=c+(a.length>0?" "+a:a);continue}if(v=r(d),!v){a=c+(a.length>0?" "+a:a);continue}g=!1}const m=WP(u).join(":"),p=f?m+wE:m,y=p+v;if(s.includes(y))continue;s.push(y);const x=i(v,g);for(let w=0;w<x.length;++w){const S=x[w];s.push(p+S)}a=c+(a.length>0?" "+a:a)}return a};function YP(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=SE(e))&&(r&&(r+=" "),r+=n);return r}const SE=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=SE(t[r]))&&(n&&(n+=" "),n+=e);return n};function KP(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((u,f)=>f(u),t());return n=XP(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=qP(l,n);return i(l,u),u}return function(){return s(YP.apply(null,arguments))}}const ut=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},bE=/^\[(?:([a-z-]+):)?(.+)\]$/i,QP=/^\d+\/\d+$/,ZP=new Set(["px","full","screen"]),JP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,e2=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,t2=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,n2=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,r2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wr=t=>ra(t)||ZP.has(t)||QP.test(t),bi=t=>Ua(t,"length",d2),ra=t=>!!t&&!Number.isNaN(Number(t)),ph=t=>Ua(t,"number",ra),Za=t=>!!t&&Number.isInteger(Number(t)),i2=t=>t.endsWith("%")&&ra(t.slice(0,-1)),ze=t=>bE.test(t),Ei=t=>JP.test(t),s2=new Set(["length","size","percentage"]),o2=t=>Ua(t,s2,EE),a2=t=>Ua(t,"position",EE),l2=new Set(["image","url"]),c2=t=>Ua(t,l2,h2),u2=t=>Ua(t,"",f2),Ja=()=>!0,Ua=(t,e,n)=>{const r=bE.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},d2=t=>e2.test(t)&&!t2.test(t),EE=()=>!1,f2=t=>n2.test(t),h2=t=>r2.test(t),p2=()=>{const t=ut("colors"),e=ut("spacing"),n=ut("blur"),r=ut("brightness"),i=ut("borderColor"),s=ut("borderRadius"),o=ut("borderSpacing"),a=ut("borderWidth"),l=ut("contrast"),c=ut("grayscale"),u=ut("hueRotate"),f=ut("invert"),d=ut("gap"),h=ut("gradientColorStops"),g=ut("gradientColorStopPositions"),v=ut("inset"),m=ut("margin"),p=ut("opacity"),y=ut("padding"),x=ut("saturate"),w=ut("scale"),S=ut("sepia"),M=ut("skew"),T=ut("space"),C=ut("translate"),E=()=>["auto","contain","none"],A=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",ze,e],I=()=>[ze,e],O=()=>["",Wr,bi],L=()=>["auto",ra,ze],z=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],j=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],N=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",ze],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[ra,ze];return{cacheSize:500,separator:":",theme:{colors:[Ja],spacing:[Wr,bi],blur:["none","",Ei,ze],brightness:U(),borderColor:[t],borderRadius:["none","","full",Ei,ze],borderSpacing:I(),borderWidth:O(),contrast:U(),grayscale:V(),hueRotate:U(),invert:V(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[i2,bi],inset:k(),margin:k(),opacity:U(),padding:I(),saturate:U(),scale:U(),sepia:V(),skew:U(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ze]}],container:["container"],columns:[{columns:[Ei]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...z(),ze]}],overflow:[{overflow:A()}],"overflow-x":[{"overflow-x":A()}],"overflow-y":[{"overflow-y":A()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Za,ze]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ze]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",Za,ze]}],"grid-cols":[{"grid-cols":[Ja]}],"col-start-end":[{col:["auto",{span:["full",Za,ze]},ze]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[Ja]}],"row-start-end":[{row:["auto",{span:[Za,ze]},ze]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ze]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ze]}],gap:[{gap:[d]}],"gap-x":[{"gap-x":[d]}],"gap-y":[{"gap-y":[d]}],"justify-content":[{justify:["normal",...N()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...N(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...N(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[m]}],mx:[{mx:[m]}],my:[{my:[m]}],ms:[{ms:[m]}],me:[{me:[m]}],mt:[{mt:[m]}],mr:[{mr:[m]}],mb:[{mb:[m]}],ml:[{ml:[m]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ze,e]}],"min-w":[{"min-w":[ze,e,"min","max","fit"]}],"max-w":[{"max-w":[ze,e,"none","full","min","max","fit","prose",{screen:[Ei]},Ei]}],h:[{h:[ze,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ze,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ze,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ze,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ei,bi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ph]}],"font-family":[{font:[Ja]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ze]}],"line-clamp":[{"line-clamp":["none",ra,ph]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wr,ze]}],"list-image":[{"list-image":["none",ze]}],"list-style-type":[{list:["none","disc","decimal",ze]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[p]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wr,bi]}],"underline-offset":[{"underline-offset":["auto",Wr,ze]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ze]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ze]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[p]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...z(),a2]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",o2]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},c2]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[g]}],"gradient-via-pos":[{via:[g]}],"gradient-to-pos":[{to:[g]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[p]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[p]}],"divide-style":[{divide:H()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[Wr,ze]}],"outline-w":[{outline:[Wr,bi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[p]}],"ring-offset-w":[{"ring-offset":[Wr,bi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ei,u2]}],"shadow-color":[{shadow:[Ja]}],opacity:[{opacity:[p]}],"mix-blend":[{"mix-blend":[...j(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":j()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",Ei,ze]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[p]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ze]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",ze]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",ze]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[Za,ze]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ze]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ze]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ze]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wr,bi,ph]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},m2=KP(p2);function st(...t){return m2(pE(t))}const g2=xP,ME=b.forwardRef(({className:t,...e},n)=>_.jsx(aE,{ref:n,className:st("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));ME.displayName=aE.displayName;const v2=mE("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),TE=b.forwardRef(({className:t,variant:e,...n},r)=>_.jsx(lE,{ref:r,className:st(v2({variant:e}),t),...n}));TE.displayName=lE.displayName;const y2=b.forwardRef(({className:t,...e},n)=>_.jsx(dE,{ref:n,className:st("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));y2.displayName=dE.displayName;const AE=b.forwardRef(({className:t,...e},n)=>_.jsx(fE,{ref:n,className:st("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:_.jsx($g,{className:"h-4 w-4"})}));AE.displayName=fE.displayName;const CE=b.forwardRef(({className:t,...e},n)=>_.jsx(cE,{ref:n,className:st("text-sm font-semibold",t),...e}));CE.displayName=cE.displayName;const RE=b.forwardRef(({className:t,...e},n)=>_.jsx(uE,{ref:n,className:st("text-sm opacity-90",t),...e}));RE.displayName=uE.displayName;function x2(){const{toasts:t}=Vg();return _.jsxs(g2,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return _.jsxs(TE,{...s,children:[_.jsxs("div",{className:"grid gap-1",children:[n&&_.jsx(CE,{children:n}),r&&_.jsx(RE,{children:r})]}),i,_.jsx(AE,{})]},e)}),_.jsx(ME,{})]})}var my=["light","dark"],_2="(prefers-color-scheme: dark)",w2=b.createContext(void 0),S2={setTheme:t=>{},themes:[]},b2=()=>{var t;return(t=b.useContext(w2))!=null?t:S2};b.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:i,defaultTheme:s,value:o,attrs:a,nonce:l})=>{let c=s==="system",u=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(g=>`'${g}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=i?my.includes(s)&&s?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${s}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",d=(g,v=!1,m=!0)=>{let p=o?o[g]:g,y=v?g+"|| ''":`'${p}'`,x="";return i&&m&&!v&&my.includes(g)&&(x+=`d.style.colorScheme = '${g}';`),n==="class"?v||p?x+=`c.add(${y})`:x+="null":p&&(x+=`d[s](n,${y})`),x},h=t?`!function(){${u}${d(t)}}()`:r?`!function(){try{${u}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${c})){var t='${_2}',m=window.matchMedia(t);if(m.media!==t||m.matches){${d("dark")}}else{${d("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}${c?"":"else{"+d(s,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${u}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${d(o?"x[e]":"e",!0)}}else{${d(s,!1,!1)};}${f}}catch(t){}}();`;return b.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:h}})});var E2=t=>{switch(t){case"success":return A2;case"info":return R2;case"warning":return C2;case"error":return P2;default:return null}},M2=Array(12).fill(0),T2=({visible:t})=>ue.createElement("div",{className:"sonner-loading-wrapper","data-visible":t},ue.createElement("div",{className:"sonner-spinner"},M2.map((e,n)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),A2=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),C2=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),R2=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),P2=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),L2=()=>{let[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},um=1,N2=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:um++,s=this.toasts.find(a=>a.id===i),o=t.dismissible===void 0?!0:t.dismissible;return s?this.toasts=this.toasts.map(a=>a.id===i?(this.publish({...a,...t,id:i,title:n}),{...a,...t,id:i,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:i}),i},this.dismiss=t=>(t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0;return r.then(async s=>{if(I2(s)&&!s.ok){i=!1;let o=typeof e.error=="function"?await e.error(`HTTP error! status: ${s.status}`):e.error,a=typeof e.description=="function"?await e.description(`HTTP error! status: ${s.status}`):e.description;this.create({id:n,type:"error",message:o,description:a})}else if(e.success!==void 0){i=!1;let o=typeof e.success=="function"?await e.success(s):e.success,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"success",message:o,description:a})}}).catch(async s=>{if(e.error!==void 0){i=!1;let o=typeof e.error=="function"?await e.error(s):e.error,a=typeof e.description=="function"?await e.description(s):e.description;this.create({id:n,type:"error",message:o,description:a})}}).finally(()=>{var s;i&&(this.dismiss(n),n=void 0),(s=e.finally)==null||s.call(e)}),n},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||um++;return this.create({jsx:t(n),id:n,...e}),n},this.subscribers=[],this.toasts=[]}},In=new N2,D2=(t,e)=>{let n=(e==null?void 0:e.id)||um++;return In.addToast({title:t,...e,id:n}),n},I2=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",O2=D2,U2=()=>In.toasts;Object.assign(O2,{success:In.success,info:In.info,warning:In.warning,error:In.error,custom:In.custom,message:In.message,promise:In.promise,dismiss:In.dismiss,loading:In.loading},{getHistory:U2});function k2(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}k2(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function eu(t){return t.label!==void 0}var F2=3,z2="32px",B2=4e3,V2=356,j2=14,H2=20,G2=200;function W2(...t){return t.filter(Boolean).join(" ")}var X2=t=>{var e,n,r,i,s,o,a,l,c,u;let{invert:f,toast:d,unstyled:h,interacting:g,setHeights:v,visibleToasts:m,heights:p,index:y,toasts:x,expanded:w,removeToast:S,defaultRichColors:M,closeButton:T,style:C,cancelButtonStyle:E,actionButtonStyle:A,className:k="",descriptionClassName:I="",duration:O,position:L,gap:z,loadingIcon:H,expandByDefault:j,classNames:N,icons:V,closeButtonAriaLabel:W="Close toast",pauseWhenPageIsHidden:U,cn:B}=t,[ee,te]=ue.useState(!1),[oe,se]=ue.useState(!1),[ve,pe]=ue.useState(!1),[Ae,$e]=ue.useState(!1),[Me,G]=ue.useState(0),[Ne,he]=ue.useState(0),Te=ue.useRef(null),be=ue.useRef(null),tt=y===0,Ge=y+1<=m,Ce=d.type,Qe=d.dismissible!==!1,kt=d.className||"",Ht=d.descriptionClassName||"",D=ue.useMemo(()=>p.findIndex(xe=>xe.toastId===d.id)||0,[p,d.id]),R=ue.useMemo(()=>{var xe;return(xe=d.closeButton)!=null?xe:T},[d.closeButton,T]),K=ue.useMemo(()=>d.duration||O||B2,[d.duration,O]),ce=ue.useRef(0),ie=ue.useRef(0),de=ue.useRef(0),Ee=ue.useRef(null),[fe,Q]=L.split("-"),Pe=ue.useMemo(()=>p.reduce((xe,F,re)=>re>=D?xe:xe+F.height,0),[p,D]),Re=L2(),Le=d.invert||f,we=Ce==="loading";ie.current=ue.useMemo(()=>D*z+Pe,[D,Pe]),ue.useEffect(()=>{te(!0)},[]),ue.useLayoutEffect(()=>{if(!ee)return;let xe=be.current,F=xe.style.height;xe.style.height="auto";let re=xe.getBoundingClientRect().height;xe.style.height=F,he(re),v(Y=>Y.find(le=>le.toastId===d.id)?Y.map(le=>le.toastId===d.id?{...le,height:re}:le):[{toastId:d.id,height:re,position:d.position},...Y])},[ee,d.title,d.description,v,d.id]);let ye=ue.useCallback(()=>{se(!0),G(ie.current),v(xe=>xe.filter(F=>F.toastId!==d.id)),setTimeout(()=>{S(d)},G2)},[d,S,v,ie]);ue.useEffect(()=>{if(d.promise&&Ce==="loading"||d.duration===1/0||d.type==="loading")return;let xe,F=K;return w||g||U&&Re?(()=>{if(de.current<ce.current){let re=new Date().getTime()-ce.current;F=F-re}de.current=new Date().getTime()})():F!==1/0&&(ce.current=new Date().getTime(),xe=setTimeout(()=>{var re;(re=d.onAutoClose)==null||re.call(d,d),ye()},F)),()=>clearTimeout(xe)},[w,g,j,d,K,ye,d.promise,Ce,U,Re]),ue.useEffect(()=>{let xe=be.current;if(xe){let F=xe.getBoundingClientRect().height;return he(F),v(re=>[{toastId:d.id,height:F,position:d.position},...re]),()=>v(re=>re.filter(Y=>Y.toastId!==d.id))}},[v,d.id]),ue.useEffect(()=>{d.delete&&ye()},[ye,d.delete]);function We(){return V!=null&&V.loading?ue.createElement("div",{className:"sonner-loader","data-visible":Ce==="loading"},V.loading):H?ue.createElement("div",{className:"sonner-loader","data-visible":Ce==="loading"},H):ue.createElement(T2,{visible:Ce==="loading"})}return ue.createElement("li",{"aria-live":d.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:be,className:B(k,kt,N==null?void 0:N.toast,(e=d==null?void 0:d.classNames)==null?void 0:e.toast,N==null?void 0:N.default,N==null?void 0:N[Ce],(n=d==null?void 0:d.classNames)==null?void 0:n[Ce]),"data-sonner-toast":"","data-rich-colors":(r=d.richColors)!=null?r:M,"data-styled":!(d.jsx||d.unstyled||h),"data-mounted":ee,"data-promise":!!d.promise,"data-removed":oe,"data-visible":Ge,"data-y-position":fe,"data-x-position":Q,"data-index":y,"data-front":tt,"data-swiping":ve,"data-dismissible":Qe,"data-type":Ce,"data-invert":Le,"data-swipe-out":Ae,"data-expanded":!!(w||j&&ee),style:{"--index":y,"--toasts-before":y,"--z-index":x.length-y,"--offset":`${oe?Me:ie.current}px`,"--initial-height":j?"auto":`${Ne}px`,...C,...d.style},onPointerDown:xe=>{we||!Qe||(Te.current=new Date,G(ie.current),xe.target.setPointerCapture(xe.pointerId),xe.target.tagName!=="BUTTON"&&(pe(!0),Ee.current={x:xe.clientX,y:xe.clientY}))},onPointerUp:()=>{var xe,F,re,Y;if(Ae||!Qe)return;Ee.current=null;let le=Number(((xe=be.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount").replace("px",""))||0),ge=new Date().getTime()-((F=Te.current)==null?void 0:F.getTime()),Ze=Math.abs(le)/ge;if(Math.abs(le)>=H2||Ze>.11){G(ie.current),(re=d.onDismiss)==null||re.call(d,d),ye(),$e(!0);return}(Y=be.current)==null||Y.style.setProperty("--swipe-amount","0px"),pe(!1)},onPointerMove:xe=>{var F;if(!Ee.current||!Qe)return;let re=xe.clientY-Ee.current.y,Y=xe.clientX-Ee.current.x,le=(fe==="top"?Math.min:Math.max)(0,re),ge=xe.pointerType==="touch"?10:2;Math.abs(le)>ge?(F=be.current)==null||F.style.setProperty("--swipe-amount",`${re}px`):Math.abs(Y)>ge&&(Ee.current=null)}},R&&!d.jsx?ue.createElement("button",{"aria-label":W,"data-disabled":we,"data-close-button":!0,onClick:we||!Qe?()=>{}:()=>{var xe;ye(),(xe=d.onDismiss)==null||xe.call(d,d)},className:B(N==null?void 0:N.closeButton,(i=d==null?void 0:d.classNames)==null?void 0:i.closeButton)},ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,d.jsx||ue.isValidElement(d.title)?d.jsx||d.title:ue.createElement(ue.Fragment,null,Ce||d.icon||d.promise?ue.createElement("div",{"data-icon":"",className:B(N==null?void 0:N.icon,(s=d==null?void 0:d.classNames)==null?void 0:s.icon)},d.promise||d.type==="loading"&&!d.icon?d.icon||We():null,d.type!=="loading"?d.icon||(V==null?void 0:V[Ce])||E2(Ce):null):null,ue.createElement("div",{"data-content":"",className:B(N==null?void 0:N.content,(o=d==null?void 0:d.classNames)==null?void 0:o.content)},ue.createElement("div",{"data-title":"",className:B(N==null?void 0:N.title,(a=d==null?void 0:d.classNames)==null?void 0:a.title)},d.title),d.description?ue.createElement("div",{"data-description":"",className:B(I,Ht,N==null?void 0:N.description,(l=d==null?void 0:d.classNames)==null?void 0:l.description)},d.description):null),ue.isValidElement(d.cancel)?d.cancel:d.cancel&&eu(d.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:d.cancelButtonStyle||E,onClick:xe=>{var F,re;eu(d.cancel)&&Qe&&((re=(F=d.cancel).onClick)==null||re.call(F,xe),ye())},className:B(N==null?void 0:N.cancelButton,(c=d==null?void 0:d.classNames)==null?void 0:c.cancelButton)},d.cancel.label):null,ue.isValidElement(d.action)?d.action:d.action&&eu(d.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:d.actionButtonStyle||A,onClick:xe=>{var F,re;eu(d.action)&&(xe.defaultPrevented||((re=(F=d.action).onClick)==null||re.call(F,xe),ye()))},className:B(N==null?void 0:N.actionButton,(u=d==null?void 0:d.classNames)==null?void 0:u.actionButton)},d.action.label):null))};function gy(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}var $2=t=>{let{invert:e,position:n="bottom-right",hotkey:r=["altKey","KeyT"],expand:i,closeButton:s,className:o,offset:a,theme:l="light",richColors:c,duration:u,style:f,visibleToasts:d=F2,toastOptions:h,dir:g=gy(),gap:v=j2,loadingIcon:m,icons:p,containerAriaLabel:y="Notifications",pauseWhenPageIsHidden:x,cn:w=W2}=t,[S,M]=ue.useState([]),T=ue.useMemo(()=>Array.from(new Set([n].concat(S.filter(U=>U.position).map(U=>U.position)))),[S,n]),[C,E]=ue.useState([]),[A,k]=ue.useState(!1),[I,O]=ue.useState(!1),[L,z]=ue.useState(l!=="system"?l:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=ue.useRef(null),j=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),N=ue.useRef(null),V=ue.useRef(!1),W=ue.useCallback(U=>{var B;(B=S.find(ee=>ee.id===U.id))!=null&&B.delete||In.dismiss(U.id),M(ee=>ee.filter(({id:te})=>te!==U.id))},[S]);return ue.useEffect(()=>In.subscribe(U=>{if(U.dismiss){M(B=>B.map(ee=>ee.id===U.id?{...ee,delete:!0}:ee));return}setTimeout(()=>{Fb.flushSync(()=>{M(B=>{let ee=B.findIndex(te=>te.id===U.id);return ee!==-1?[...B.slice(0,ee),{...B[ee],...U},...B.slice(ee+1)]:[U,...B]})})})}),[]),ue.useEffect(()=>{if(l!=="system"){z(l);return}l==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:U})=>{z(U?"dark":"light")})},[l]),ue.useEffect(()=>{S.length<=1&&k(!1)},[S]),ue.useEffect(()=>{let U=B=>{var ee,te;r.every(oe=>B[oe]||B.code===oe)&&(k(!0),(ee=H.current)==null||ee.focus()),B.code==="Escape"&&(document.activeElement===H.current||(te=H.current)!=null&&te.contains(document.activeElement))&&k(!1)};return document.addEventListener("keydown",U),()=>document.removeEventListener("keydown",U)},[r]),ue.useEffect(()=>{if(H.current)return()=>{N.current&&(N.current.focus({preventScroll:!0}),N.current=null,V.current=!1)}},[H.current]),S.length?ue.createElement("section",{"aria-label":`${y} ${j}`,tabIndex:-1},T.map((U,B)=>{var ee;let[te,oe]=U.split("-");return ue.createElement("ol",{key:U,dir:g==="auto"?gy():g,tabIndex:-1,ref:H,className:o,"data-sonner-toaster":!0,"data-theme":L,"data-y-position":te,"data-x-position":oe,style:{"--front-toast-height":`${((ee=C[0])==null?void 0:ee.height)||0}px`,"--offset":typeof a=="number"?`${a}px`:a||z2,"--width":`${V2}px`,"--gap":`${v}px`,...f},onBlur:se=>{V.current&&!se.currentTarget.contains(se.relatedTarget)&&(V.current=!1,N.current&&(N.current.focus({preventScroll:!0}),N.current=null))},onFocus:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||V.current||(V.current=!0,N.current=se.relatedTarget)},onMouseEnter:()=>k(!0),onMouseMove:()=>k(!0),onMouseLeave:()=>{I||k(!1)},onPointerDown:se=>{se.target instanceof HTMLElement&&se.target.dataset.dismissible==="false"||O(!0)},onPointerUp:()=>O(!1)},S.filter(se=>!se.position&&B===0||se.position===U).map((se,ve)=>{var pe,Ae;return ue.createElement(X2,{key:se.id,icons:p,index:ve,toast:se,defaultRichColors:c,duration:(pe=h==null?void 0:h.duration)!=null?pe:u,className:h==null?void 0:h.className,descriptionClassName:h==null?void 0:h.descriptionClassName,invert:e,visibleToasts:d,closeButton:(Ae=h==null?void 0:h.closeButton)!=null?Ae:s,interacting:I,position:U,style:h==null?void 0:h.style,unstyled:h==null?void 0:h.unstyled,classNames:h==null?void 0:h.classNames,cancelButtonStyle:h==null?void 0:h.cancelButtonStyle,actionButtonStyle:h==null?void 0:h.actionButtonStyle,removeToast:W,toasts:S.filter($e=>$e.position==se.position),heights:C.filter($e=>$e.position==se.position),setHeights:E,expandByDefault:i,gap:v,loadingIcon:m,expanded:A,pauseWhenPageIsHidden:x,cn:w})}))})):null};const q2=({...t})=>{const{theme:e="system"}=b2();return _.jsx($2,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var Y2=Ow.useId||(()=>{}),K2=0;function Q2(t){const[e,n]=b.useState(Y2());return mi(()=>{n(r=>r??String(K2++))},[t]),e?`radix-${e}`:""}const Z2=["top","right","bottom","left"],as=Math.min,Un=Math.max,_d=Math.round,tu=Math.floor,ls=t=>({x:t,y:t}),J2={left:"right",right:"left",bottom:"top",top:"bottom"},eL={start:"end",end:"start"};function dm(t,e,n){return Un(t,as(e,n))}function gi(t,e){return typeof t=="function"?t(e):t}function vi(t){return t.split("-")[0]}function ka(t){return t.split("-")[1]}function Yg(t){return t==="x"?"y":"x"}function Kg(t){return t==="y"?"height":"width"}function cs(t){return["top","bottom"].includes(vi(t))?"y":"x"}function Qg(t){return Yg(cs(t))}function tL(t,e,n){n===void 0&&(n=!1);const r=ka(t),i=Qg(t),s=Kg(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=wd(o)),[o,wd(o)]}function nL(t){const e=wd(t);return[fm(t),e,fm(e)]}function fm(t){return t.replace(/start|end/g,e=>eL[e])}function rL(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function iL(t,e,n,r){const i=ka(t);let s=rL(vi(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(fm)))),s}function wd(t){return t.replace(/left|right|bottom|top/g,e=>J2[e])}function sL(t){return{top:0,right:0,bottom:0,left:0,...t}}function PE(t){return typeof t!="number"?sL(t):{top:t,right:t,bottom:t,left:t}}function Sd(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function vy(t,e,n){let{reference:r,floating:i}=t;const s=cs(e),o=Qg(e),a=Kg(o),l=vi(e),c=s==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,d=r[a]/2-i[a]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:f};break;case"left":h={x:r.x-i.width,y:f};break;default:h={x:r.x,y:r.y}}switch(ka(e)){case"start":h[o]-=d*(n&&c?-1:1);break;case"end":h[o]+=d*(n&&c?-1:1);break}return h}const oL=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:f}=vy(c,r,l),d=r,h={},g=0;for(let v=0;v<a.length;v++){const{name:m,fn:p}=a[v],{x:y,y:x,data:w,reset:S}=await p({x:u,y:f,initialPlacement:r,placement:d,strategy:i,middlewareData:h,rects:c,platform:o,elements:{reference:t,floating:e}});u=y??u,f=x??f,h={...h,[m]:{...h[m],...w}},S&&g<=50&&(g++,typeof S=="object"&&(S.placement&&(d=S.placement),S.rects&&(c=S.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):S.rects),{x:u,y:f}=vy(c,d,l)),v=-1)}return{x:u,y:f,placement:d,strategy:i,middlewareData:h}};async function Jl(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:d=!1,padding:h=0}=gi(e,t),g=PE(h),m=a[d?f==="floating"?"reference":"floating":f],p=Sd(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(m)))==null||n?m:m.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=f==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Sd(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:l}):y);return{top:(p.top-S.top+g.top)/w.y,bottom:(S.bottom-p.bottom+g.bottom)/w.y,left:(p.left-S.left+g.left)/w.x,right:(S.right-p.right+g.right)/w.x}}const aL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:u=0}=gi(t,e)||{};if(c==null)return{};const f=PE(u),d={x:n,y:r},h=Qg(i),g=Kg(h),v=await o.getDimensions(c),m=h==="y",p=m?"top":"left",y=m?"bottom":"right",x=m?"clientHeight":"clientWidth",w=s.reference[g]+s.reference[h]-d[h]-s.floating[g],S=d[h]-s.reference[h],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let T=M?M[x]:0;(!T||!await(o.isElement==null?void 0:o.isElement(M)))&&(T=a.floating[x]||s.floating[g]);const C=w/2-S/2,E=T/2-v[g]/2-1,A=as(f[p],E),k=as(f[y],E),I=A,O=T-v[g]-k,L=T/2-v[g]/2+C,z=dm(I,L,O),H=!l.arrow&&ka(i)!=null&&L!==z&&s.reference[g]/2-(L<I?A:k)-v[g]/2<0,j=H?L<I?L-I:L-O:0;return{[h]:d[h]+j,data:{[h]:z,centerOffset:L-z-j,...H&&{alignmentOffset:j}},reset:H}}}),lL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:v=!0,...m}=gi(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const p=vi(i),y=cs(a),x=vi(a)===a,w=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=d||(x||!v?[wd(a)]:nL(a)),M=g!=="none";!d&&M&&S.push(...iL(a,v,g,w));const T=[a,...S],C=await Jl(e,m),E=[];let A=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&E.push(C[p]),f){const L=tL(i,o,w);E.push(C[L[0]],C[L[1]])}if(A=[...A,{placement:i,overflows:E}],!E.every(L=>L<=0)){var k,I;const L=(((k=s.flip)==null?void 0:k.index)||0)+1,z=T[L];if(z)return{data:{index:L,overflows:A},reset:{placement:z}};let H=(I=A.filter(j=>j.overflows[0]<=0).sort((j,N)=>j.overflows[1]-N.overflows[1])[0])==null?void 0:I.placement;if(!H)switch(h){case"bestFit":{var O;const j=(O=A.filter(N=>{if(M){const V=cs(N.placement);return V===y||V==="y"}return!0}).map(N=>[N.placement,N.overflows.filter(V=>V>0).reduce((V,W)=>V+W,0)]).sort((N,V)=>N[1]-V[1])[0])==null?void 0:O[0];j&&(H=j);break}case"initialPlacement":H=a;break}if(i!==H)return{reset:{placement:H}}}return{}}}};function yy(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function xy(t){return Z2.some(e=>t[e]>=0)}const cL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=gi(t,e);switch(r){case"referenceHidden":{const s=await Jl(e,{...i,elementContext:"reference"}),o=yy(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:xy(o)}}}case"escaped":{const s=await Jl(e,{...i,altBoundary:!0}),o=yy(s,n.floating);return{data:{escapedOffsets:o,escaped:xy(o)}}}default:return{}}}}};async function uL(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=vi(n),a=ka(n),l=cs(n)==="y",c=["left","top"].includes(o)?-1:1,u=s&&l?-1:1,f=gi(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(h=a==="end"?g*-1:g),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}const dL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await uL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},fL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:m=>{let{x:p,y}=m;return{x:p,y}}},...l}=gi(t,e),c={x:n,y:r},u=await Jl(e,l),f=cs(vi(i)),d=Yg(f);let h=c[d],g=c[f];if(s){const m=d==="y"?"top":"left",p=d==="y"?"bottom":"right",y=h+u[m],x=h-u[p];h=dm(y,h,x)}if(o){const m=f==="y"?"top":"left",p=f==="y"?"bottom":"right",y=g+u[m],x=g-u[p];g=dm(y,g,x)}const v=a.fn({...e,[d]:h,[f]:g});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[d]:s,[f]:o}}}}}},hL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=gi(t,e),u={x:n,y:r},f=cs(i),d=Yg(f);let h=u[d],g=u[f];const v=gi(a,e),m=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const x=d==="y"?"height":"width",w=s.reference[d]-s.floating[x]+m.mainAxis,S=s.reference[d]+s.reference[x]-m.mainAxis;h<w?h=w:h>S&&(h=S)}if(c){var p,y;const x=d==="y"?"width":"height",w=["top","left"].includes(vi(i)),S=s.reference[f]-s.floating[x]+(w&&((p=o.offset)==null?void 0:p[f])||0)+(w?0:m.crossAxis),M=s.reference[f]+s.reference[x]+(w?0:((y=o.offset)==null?void 0:y[f])||0)-(w?m.crossAxis:0);g<S?g=S:g>M&&(g=M)}return{[d]:h,[f]:g}}}},pL=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=gi(t,e),u=await Jl(e,c),f=vi(i),d=ka(i),h=cs(i)==="y",{width:g,height:v}=s.floating;let m,p;f==="top"||f==="bottom"?(m=f,p=d===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(p=f,m=d==="end"?"top":"bottom");const y=v-u.top-u.bottom,x=g-u.left-u.right,w=as(v-u[m],y),S=as(g-u[p],x),M=!e.middlewareData.shift;let T=w,C=S;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(C=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(T=y),M&&!d){const A=Un(u.left,0),k=Un(u.right,0),I=Un(u.top,0),O=Un(u.bottom,0);h?C=g-2*(A!==0||k!==0?A+k:Un(u.left,u.right)):T=v-2*(I!==0||O!==0?I+O:Un(u.top,u.bottom))}await l({...e,availableWidth:C,availableHeight:T});const E=await o.getDimensions(a.floating);return g!==E.width||v!==E.height?{reset:{rects:!0}}:{}}}};function cf(){return typeof window<"u"}function Fa(t){return LE(t)?(t.nodeName||"").toLowerCase():"#document"}function Vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function jr(t){var e;return(e=(LE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function LE(t){return cf()?t instanceof Node||t instanceof Vn(t).Node:!1}function Er(t){return cf()?t instanceof Element||t instanceof Vn(t).Element:!1}function Br(t){return cf()?t instanceof HTMLElement||t instanceof Vn(t).HTMLElement:!1}function _y(t){return!cf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vn(t).ShadowRoot}function xc(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Mr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function mL(t){return["table","td","th"].includes(Fa(t))}function uf(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Zg(t){const e=Jg(),n=Er(t)?Mr(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function gL(t){let e=us(t);for(;Br(e)&&!Ea(e);){if(Zg(e))return e;if(uf(e))return null;e=us(e)}return null}function Jg(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ea(t){return["html","body","#document"].includes(Fa(t))}function Mr(t){return Vn(t).getComputedStyle(t)}function df(t){return Er(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function us(t){if(Fa(t)==="html")return t;const e=t.assignedSlot||t.parentNode||_y(t)&&t.host||jr(t);return _y(e)?e.host:e}function NE(t){const e=us(t);return Ea(e)?t.ownerDocument?t.ownerDocument.body:t.body:Br(e)&&xc(e)?e:NE(e)}function ec(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=NE(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=Vn(i);if(s){const a=hm(o);return e.concat(o,o.visualViewport||[],xc(i)?i:[],a&&n?ec(a):[])}return e.concat(i,ec(i,[],n))}function hm(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function DE(t){const e=Mr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Br(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=_d(n)!==s||_d(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function ev(t){return Er(t)?t:t.contextElement}function ia(t){const e=ev(t);if(!Br(e))return ls(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=DE(e);let o=(s?_d(n.width):n.width)/r,a=(s?_d(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const vL=ls(0);function IE(t){const e=Vn(t);return!Jg()||!e.visualViewport?vL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function yL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Vn(t)?!1:e}function eo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=ev(t);let o=ls(1);e&&(r?Er(r)&&(o=ia(r)):o=ia(t));const a=yL(s,n,r)?IE(s):ls(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,u=i.width/o.x,f=i.height/o.y;if(s){const d=Vn(s),h=r&&Er(r)?Vn(r):r;let g=d,v=hm(g);for(;v&&r&&h!==g;){const m=ia(v),p=v.getBoundingClientRect(),y=Mr(v),x=p.left+(v.clientLeft+parseFloat(y.paddingLeft))*m.x,w=p.top+(v.clientTop+parseFloat(y.paddingTop))*m.y;l*=m.x,c*=m.y,u*=m.x,f*=m.y,l+=x,c+=w,g=Vn(v),v=hm(g)}}return Sd({width:u,height:f,x:l,y:c})}function xL(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=jr(r),a=e?uf(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=ls(1);const u=ls(0),f=Br(r);if((f||!f&&!s)&&((Fa(r)!=="body"||xc(o))&&(l=df(r)),Br(r))){const d=eo(r);c=ia(r),u.x=d.x+r.clientLeft,u.y=d.y+r.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x,y:n.y*c.y-l.scrollTop*c.y+u.y}}function _L(t){return Array.from(t.getClientRects())}function pm(t,e){const n=df(t).scrollLeft;return e?e.left+n:eo(jr(t)).left+n}function wL(t){const e=jr(t),n=df(t),r=t.ownerDocument.body,i=Un(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=Un(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+pm(t);const a=-n.scrollTop;return Mr(r).direction==="rtl"&&(o+=Un(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function SL(t,e){const n=Vn(t),r=jr(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=Jg();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function bL(t,e){const n=eo(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Br(t)?ia(t):ls(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function wy(t,e,n){let r;if(e==="viewport")r=SL(t,n);else if(e==="document")r=wL(jr(t));else if(Er(e))r=bL(e,n);else{const i=IE(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Sd(r)}function OE(t,e){const n=us(t);return n===e||!Er(n)||Ea(n)?!1:Mr(n).position==="fixed"||OE(n,e)}function EL(t,e){const n=e.get(t);if(n)return n;let r=ec(t,[],!1).filter(a=>Er(a)&&Fa(a)!=="body"),i=null;const s=Mr(t).position==="fixed";let o=s?us(t):t;for(;Er(o)&&!Ea(o);){const a=Mr(o),l=Zg(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||xc(o)&&!l&&OE(t,o))?r=r.filter(u=>u!==o):i=a,o=us(o)}return e.set(t,r),r}function ML(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?uf(e)?[]:EL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,u)=>{const f=wy(e,u,i);return c.top=Un(f.top,c.top),c.right=as(f.right,c.right),c.bottom=as(f.bottom,c.bottom),c.left=Un(f.left,c.left),c},wy(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function TL(t){const{width:e,height:n}=DE(t);return{width:e,height:n}}function AL(t,e,n){const r=Br(e),i=jr(e),s=n==="fixed",o=eo(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=ls(0);if(r||!r&&!s)if((Fa(e)!=="body"||xc(i))&&(a=df(e)),r){const h=eo(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&(l.x=pm(i));let c=0,u=0;if(i&&!r&&!s){const h=i.getBoundingClientRect();u=h.top+a.scrollTop,c=h.left+a.scrollLeft-pm(i,h)}const f=o.left+a.scrollLeft-l.x-c,d=o.top+a.scrollTop-l.y-u;return{x:f,y:d,width:o.width,height:o.height}}function mh(t){return Mr(t).position==="static"}function Sy(t,e){if(!Br(t)||Mr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return jr(t)===n&&(n=n.ownerDocument.body),n}function UE(t,e){const n=Vn(t);if(uf(t))return n;if(!Br(t)){let i=us(t);for(;i&&!Ea(i);){if(Er(i)&&!mh(i))return i;i=us(i)}return n}let r=Sy(t,e);for(;r&&mL(r)&&mh(r);)r=Sy(r,e);return r&&Ea(r)&&mh(r)&&!Zg(r)?n:r||gL(t)||n}const CL=async function(t){const e=this.getOffsetParent||UE,n=this.getDimensions,r=await n(t.floating);return{reference:AL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function RL(t){return Mr(t).direction==="rtl"}const PL={convertOffsetParentRelativeRectToViewportRelativeRect:xL,getDocumentElement:jr,getClippingRect:ML,getOffsetParent:UE,getElementRects:CL,getClientRects:_L,getDimensions:TL,getScale:ia,isElement:Er,isRTL:RL};function LL(t,e){let n=null,r;const i=jr(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const{left:c,top:u,width:f,height:d}=t.getBoundingClientRect();if(a||e(),!f||!d)return;const h=tu(u),g=tu(i.clientWidth-(c+f)),v=tu(i.clientHeight-(u+d)),m=tu(c),y={rootMargin:-h+"px "+-g+"px "+-v+"px "+-m+"px",threshold:Un(0,as(1,l))||1};let x=!0;function w(S){const M=S[0].intersectionRatio;if(M!==l){if(!x)return o();M?o(!1,M):r=setTimeout(()=>{o(!1,1e-7)},1e3)}x=!1}try{n=new IntersectionObserver(w,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,y)}n.observe(t)}return o(!0),s}function NL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=ev(t),u=i||s?[...c?ec(c):[],...ec(e)]:[];u.forEach(p=>{i&&p.addEventListener("scroll",n,{passive:!0}),s&&p.addEventListener("resize",n)});const f=c&&a?LL(c,n):null;let d=-1,h=null;o&&(h=new ResizeObserver(p=>{let[y]=p;y&&y.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=h)==null||x.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let g,v=l?eo(t):null;l&&m();function m(){const p=eo(t);v&&(p.x!==v.x||p.y!==v.y||p.width!==v.width||p.height!==v.height)&&n(),v=p,g=requestAnimationFrame(m)}return n(),()=>{var p;u.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),f==null||f(),(p=h)==null||p.disconnect(),h=null,l&&cancelAnimationFrame(g)}}const DL=dL,IL=fL,OL=lL,UL=pL,kL=cL,by=aL,FL=hL,zL=(t,e,n)=>{const r=new Map,i={platform:PL,...n},s={...i.platform,_c:r};return oL(t,e,{...i,platform:s})};var Gu=typeof document<"u"?b.useLayoutEffect:b.useEffect;function bd(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!bd(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!bd(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function kE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Ey(t,e){const n=kE(t);return Math.round(e*n)/n}function gh(t){const e=b.useRef(t);return Gu(()=>{e.current=t}),e}function BL(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[u,f]=b.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[d,h]=b.useState(r);bd(d,r)||h(r);const[g,v]=b.useState(null),[m,p]=b.useState(null),y=b.useCallback(N=>{N!==M.current&&(M.current=N,v(N))},[]),x=b.useCallback(N=>{N!==T.current&&(T.current=N,p(N))},[]),w=s||g,S=o||m,M=b.useRef(null),T=b.useRef(null),C=b.useRef(u),E=l!=null,A=gh(l),k=gh(i),I=gh(c),O=b.useCallback(()=>{if(!M.current||!T.current)return;const N={placement:e,strategy:n,middleware:d};k.current&&(N.platform=k.current),zL(M.current,T.current,N).then(V=>{const W={...V,isPositioned:I.current!==!1};L.current&&!bd(C.current,W)&&(C.current=W,yc.flushSync(()=>{f(W)}))})},[d,e,n,k,I]);Gu(()=>{c===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(N=>({...N,isPositioned:!1})))},[c]);const L=b.useRef(!1);Gu(()=>(L.current=!0,()=>{L.current=!1}),[]),Gu(()=>{if(w&&(M.current=w),S&&(T.current=S),w&&S){if(A.current)return A.current(w,S,O);O()}},[w,S,O,A,E]);const z=b.useMemo(()=>({reference:M,floating:T,setReference:y,setFloating:x}),[y,x]),H=b.useMemo(()=>({reference:w,floating:S}),[w,S]),j=b.useMemo(()=>{const N={position:n,left:0,top:0};if(!H.floating)return N;const V=Ey(H.floating,u.x),W=Ey(H.floating,u.y);return a?{...N,transform:"translate("+V+"px, "+W+"px)",...kE(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:W}},[n,a,H.floating,u.x,u.y]);return b.useMemo(()=>({...u,update:O,refs:z,elements:H,floatingStyles:j}),[u,O,z,H,j])}const VL=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?by({element:r.current,padding:i}).fn(n):{}:r?by({element:r,padding:i}).fn(n):{}}}},jL=(t,e)=>({...DL(t),options:[t,e]}),HL=(t,e)=>({...IL(t),options:[t,e]}),GL=(t,e)=>({...FL(t),options:[t,e]}),WL=(t,e)=>({...OL(t),options:[t,e]}),XL=(t,e)=>({...UL(t),options:[t,e]}),$L=(t,e)=>({...kL(t),options:[t,e]}),qL=(t,e)=>({...VL(t),options:[t,e]});var YL="Arrow",FE=b.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return _.jsx(jt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:_.jsx("polygon",{points:"0,0 30,0 15,10"})})});FE.displayName=YL;var KL=FE;function QL(t,e=[]){let n=[];function r(s,o){const a=b.createContext(o),l=n.length;n=[...n,o];function c(f){const{scope:d,children:h,...g}=f,v=(d==null?void 0:d[t][l])||a,m=b.useMemo(()=>g,Object.values(g));return _.jsx(v.Provider,{value:m,children:h})}function u(f,d){const h=(d==null?void 0:d[t][l])||a,g=b.useContext(h);if(g)return g;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${s}\``)}return c.displayName=s+"Provider",[c,u]}const i=()=>{const s=n.map(o=>b.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return b.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,ZL(i,...e)]}function ZL(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const f=l(s)[`__scope${c}`];return{...a,...f}},{});return b.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function JL(t){const[e,n]=b.useState(void 0);return mi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var tv="Popper",[zE,BE]=QL(tv),[eN,VE]=zE(tv),jE=t=>{const{__scopePopper:e,children:n}=t,[r,i]=b.useState(null);return _.jsx(eN,{scope:e,anchor:r,onAnchorChange:i,children:n})};jE.displayName=tv;var HE="PopperAnchor",GE=b.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=VE(HE,n),o=b.useRef(null),a=Zt(e,o);return b.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:_.jsx(jt.div,{...i,ref:a})});GE.displayName=HE;var nv="PopperContent",[tN,nN]=zE(nv),WE=b.forwardRef((t,e)=>{var ve,pe,Ae,$e,Me,G;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:f="partial",hideWhenDetached:d=!1,updatePositionStrategy:h="optimized",onPlaced:g,...v}=t,m=VE(nv,n),[p,y]=b.useState(null),x=Zt(e,Ne=>y(Ne)),[w,S]=b.useState(null),M=JL(w),T=(M==null?void 0:M.width)??0,C=(M==null?void 0:M.height)??0,E=r+(s!=="center"?"-"+s:""),A=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(c)?c:[c],I=k.length>0,O={padding:A,boundary:k.filter(iN),altBoundary:I},{refs:L,floatingStyles:z,placement:H,isPositioned:j,middlewareData:N}=BL({strategy:"fixed",placement:E,whileElementsMounted:(...Ne)=>NL(...Ne,{animationFrame:h==="always"}),elements:{reference:m.anchor},middleware:[jL({mainAxis:i+C,alignmentAxis:o}),l&&HL({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?GL():void 0,...O}),l&&WL({...O}),XL({...O,apply:({elements:Ne,rects:he,availableWidth:Te,availableHeight:be})=>{const{width:tt,height:Ge}=he.reference,Ce=Ne.floating.style;Ce.setProperty("--radix-popper-available-width",`${Te}px`),Ce.setProperty("--radix-popper-available-height",`${be}px`),Ce.setProperty("--radix-popper-anchor-width",`${tt}px`),Ce.setProperty("--radix-popper-anchor-height",`${Ge}px`)}}),w&&qL({element:w,padding:a}),sN({arrowWidth:T,arrowHeight:C}),d&&$L({strategy:"referenceHidden",...O})]}),[V,W]=qE(H),U=Yt(g);mi(()=>{j&&(U==null||U())},[j,U]);const B=(ve=N.arrow)==null?void 0:ve.x,ee=(pe=N.arrow)==null?void 0:pe.y,te=((Ae=N.arrow)==null?void 0:Ae.centerOffset)!==0,[oe,se]=b.useState();return mi(()=>{p&&se(window.getComputedStyle(p).zIndex)},[p]),_.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...z,transform:j?z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:oe,"--radix-popper-transform-origin":[($e=N.transformOrigin)==null?void 0:$e.x,(Me=N.transformOrigin)==null?void 0:Me.y].join(" "),...((G=N.hide)==null?void 0:G.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:_.jsx(tN,{scope:n,placedSide:V,onArrowChange:S,arrowX:B,arrowY:ee,shouldHideArrow:te,children:_.jsx(jt.div,{"data-side":V,"data-align":W,...v,ref:x,style:{...v.style,animation:j?void 0:"none"}})})})});WE.displayName=nv;var XE="PopperArrow",rN={top:"bottom",right:"left",bottom:"top",left:"right"},$E=b.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=nN(XE,r),o=rN[s.placedSide];return _.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:_.jsx(KL,{...i,ref:n,style:{...i.style,display:"block"}})})});$E.displayName=XE;function iN(t){return t!==null}var sN=t=>({name:"transformOrigin",options:t,fn(e){var m,p,y;const{placement:n,rects:r,middlewareData:i}=e,o=((m=i.arrow)==null?void 0:m.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,u]=qE(n),f={start:"0%",center:"50%",end:"100%"}[u],d=(((p=i.arrow)==null?void 0:p.x)??0)+a/2,h=(((y=i.arrow)==null?void 0:y.y)??0)+l/2;let g="",v="";return c==="bottom"?(g=o?f:`${d}px`,v=`${-l}px`):c==="top"?(g=o?f:`${d}px`,v=`${r.floating.height+l}px`):c==="right"?(g=`${-l}px`,v=o?f:`${h}px`):c==="left"&&(g=`${r.floating.width+l}px`,v=o?f:`${h}px`),{data:{x:g,y:v}}}});function qE(t){const[e,n="center"]=t.split("-");return[e,n]}var oN=jE,aN=GE,lN=WE,cN=$E,[ff,lH]=jg("Tooltip",[BE]),hf=BE(),YE="TooltipProvider",uN=700,mm="tooltip.open",[dN,rv]=ff(YE),KE=t=>{const{__scopeTooltip:e,delayDuration:n=uN,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,[o,a]=b.useState(!0),l=b.useRef(!1),c=b.useRef(0);return b.useEffect(()=>{const u=c.current;return()=>window.clearTimeout(u)},[]),_.jsx(dN,{scope:e,isOpenDelayed:o,delayDuration:n,onOpen:b.useCallback(()=>{window.clearTimeout(c.current),a(!1)},[]),onClose:b.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>a(!0),r)},[r]),isPointerInTransitRef:l,onPointerInTransitChange:b.useCallback(u=>{l.current=u},[]),disableHoverableContent:i,children:s})};KE.displayName=YE;var pf="Tooltip",[fN,mf]=ff(pf),QE=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:o,delayDuration:a}=t,l=rv(pf,t.__scopeTooltip),c=hf(e),[u,f]=b.useState(null),d=Q2(),h=b.useRef(0),g=o??l.disableHoverableContent,v=a??l.delayDuration,m=b.useRef(!1),[p=!1,y]=$b({prop:r,defaultProp:i,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(mm))):l.onClose(),s==null||s(T)}}),x=b.useMemo(()=>p?m.current?"delayed-open":"instant-open":"closed",[p]),w=b.useCallback(()=>{window.clearTimeout(h.current),h.current=0,m.current=!1,y(!0)},[y]),S=b.useCallback(()=>{window.clearTimeout(h.current),h.current=0,y(!1)},[y]),M=b.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{m.current=!0,y(!0),h.current=0},v)},[v,y]);return b.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),_.jsx(oN,{...c,children:_.jsx(fN,{scope:e,contentId:d,open:p,stateAttribute:x,trigger:u,onTriggerChange:f,onTriggerEnter:b.useCallback(()=>{l.isOpenDelayed?M():w()},[l.isOpenDelayed,M,w]),onTriggerLeave:b.useCallback(()=>{g?S():(window.clearTimeout(h.current),h.current=0)},[S,g]),onOpen:w,onClose:S,disableHoverableContent:g,children:n})})};QE.displayName=pf;var gm="TooltipTrigger",ZE=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=mf(gm,n),s=rv(gm,n),o=hf(n),a=b.useRef(null),l=Zt(e,a,i.onTriggerChange),c=b.useRef(!1),u=b.useRef(!1),f=b.useCallback(()=>c.current=!1,[]);return b.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),_.jsx(aN,{asChild:!0,...o,children:_.jsx(jt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ot(t.onPointerMove,d=>{d.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:ot(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:ot(t.onPointerDown,()=>{c.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ot(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:ot(t.onBlur,i.onClose),onClick:ot(t.onClick,i.onClose)})})});ZE.displayName=gm;var hN="TooltipPortal",[cH,pN]=ff(hN,{forceMount:void 0}),Ma="TooltipContent",JE=b.forwardRef((t,e)=>{const n=pN(Ma,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=mf(Ma,t.__scopeTooltip);return _.jsx(oo,{present:r||o.open,children:o.disableHoverableContent?_.jsx(eM,{side:i,...s,ref:e}):_.jsx(mN,{side:i,...s,ref:e})})}),mN=b.forwardRef((t,e)=>{const n=mf(Ma,t.__scopeTooltip),r=rv(Ma,t.__scopeTooltip),i=b.useRef(null),s=Zt(e,i),[o,a]=b.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:f}=r,d=b.useCallback(()=>{a(null),f(!1)},[f]),h=b.useCallback((g,v)=>{const m=g.currentTarget,p={x:g.clientX,y:g.clientY},y=xN(p,m.getBoundingClientRect()),x=_N(p,y),w=wN(v.getBoundingClientRect()),S=bN([...x,...w]);a(S),f(!0)},[f]);return b.useEffect(()=>()=>d(),[d]),b.useEffect(()=>{if(l&&u){const g=m=>h(m,u),v=m=>h(m,l);return l.addEventListener("pointerleave",g),u.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",g),u.removeEventListener("pointerleave",v)}}},[l,u,h,d]),b.useEffect(()=>{if(o){const g=v=>{const m=v.target,p={x:v.clientX,y:v.clientY},y=(l==null?void 0:l.contains(m))||(u==null?void 0:u.contains(m)),x=!SN(p,o);y?d():x&&(d(),c())};return document.addEventListener("pointermove",g),()=>document.removeEventListener("pointermove",g)}},[l,u,o,c,d]),_.jsx(eM,{...t,ref:s})}),[gN,vN]=ff(pf,{isInside:!1}),eM=b.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=mf(Ma,n),c=hf(n),{onClose:u}=l;return b.useEffect(()=>(document.addEventListener(mm,u),()=>document.removeEventListener(mm,u)),[u]),b.useEffect(()=>{if(l.trigger){const f=d=>{const h=d.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,u]),_.jsx(Hg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:u,children:_.jsxs(lN,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[_.jsx(Vb,{children:r}),_.jsx(gN,{scope:n,isInside:!0,children:_.jsx(tP,{id:l.contentId,role:"tooltip",children:i||r})})]})})});JE.displayName=Ma;var tM="TooltipArrow",yN=b.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=hf(n);return vN(tM,n).isInside?null:_.jsx(cN,{...i,...r,ref:e})});yN.displayName=tM;function xN(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function _N(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function wN(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function SN(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,u=e[o].y;l>r!=u>r&&n<(c-a)*(r-l)/(u-l)+a&&(i=!i)}return i}function bN(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),EN(e)}function EN(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var MN=KE,TN=QE,AN=ZE,nM=JE;const pl=MN,nu=TN,ru=AN,ml=b.forwardRef(({className:t,sideOffset:e=4,...n},r)=>_.jsx(nM,{ref:r,sideOffset:e,className:st("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));ml.displayName=nM.displayName;var gf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},vf=typeof window>"u"||"Deno"in globalThis;function fr(){}function CN(t,e){return typeof t=="function"?t(e):t}function RN(t){return typeof t=="number"&&t>=0&&t!==1/0}function PN(t,e){return Math.max(t+(e||0)-Date.now(),0)}function My(t,e){return typeof t=="function"?t(e):t}function LN(t,e){return typeof t=="function"?t(e):t}function Ty(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==iv(o,e.options))return!1}else if(!nc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function Ay(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(tc(e.options.mutationKey)!==tc(s))return!1}else if(!nc(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function iv(t,e){return((e==null?void 0:e.queryKeyHashFn)||tc)(t)}function tc(t){return JSON.stringify(t,(e,n)=>vm(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function nc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!nc(t[n],e[n])):!1}function rM(t,e){if(t===e)return t;const n=Cy(t)&&Cy(e);if(n||vm(t)&&vm(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const u=n?c:s[c];(!n&&r.includes(u)||n)&&t[u]===void 0&&e[u]===void 0?(a[u]=void 0,l++):(a[u]=rM(t[u],e[u]),a[u]===t[u]&&t[u]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function Cy(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function vm(t){if(!Ry(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!Ry(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Ry(t){return Object.prototype.toString.call(t)==="[object Object]"}function NN(t){return new Promise(e=>{setTimeout(e,t)})}function DN(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?rM(t,e):e}function IN(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function ON(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var sv=Symbol();function iM(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===sv?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ks,Ui,la,vw,UN=(vw=class extends gf{constructor(){super();nt(this,ks);nt(this,Ui);nt(this,la);Ve(this,la,e=>{if(!vf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){ne(this,Ui)||this.setEventListener(ne(this,la))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,Ui))==null||e.call(this),Ve(this,Ui,void 0))}setEventListener(e){var n;Ve(this,la,e),(n=ne(this,Ui))==null||n.call(this),Ve(this,Ui,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){ne(this,ks)!==e&&(Ve(this,ks,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof ne(this,ks)=="boolean"?ne(this,ks):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ks=new WeakMap,Ui=new WeakMap,la=new WeakMap,vw),sM=new UN,ca,ki,ua,yw,kN=(yw=class extends gf{constructor(){super();nt(this,ca,!0);nt(this,ki);nt(this,ua);Ve(this,ua,e=>{if(!vf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){ne(this,ki)||this.setEventListener(ne(this,ua))}onUnsubscribe(){var e;this.hasListeners()||((e=ne(this,ki))==null||e.call(this),Ve(this,ki,void 0))}setEventListener(e){var n;Ve(this,ua,e),(n=ne(this,ki))==null||n.call(this),Ve(this,ki,e(this.setOnline.bind(this)))}setOnline(e){ne(this,ca)!==e&&(Ve(this,ca,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return ne(this,ca)}},ca=new WeakMap,ki=new WeakMap,ua=new WeakMap,yw),Ed=new kN;function FN(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function zN(t){return Math.min(1e3*2**t,3e4)}function oM(t){return(t??"online")==="online"?Ed.isOnline():!0}var aM=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function vh(t){return t instanceof aM}function lM(t){let e=!1,n=0,r=!1,i;const s=FN(),o=v=>{var m;r||(d(new aM(v)),(m=t.abort)==null||m.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>sM.isFocused()&&(t.networkMode==="always"||Ed.isOnline())&&t.canRun(),u=()=>oM(t.networkMode)&&t.canRun(),f=v=>{var m;r||(r=!0,(m=t.onSuccess)==null||m.call(t,v),i==null||i(),s.resolve(v))},d=v=>{var m;r||(r=!0,(m=t.onError)==null||m.call(t,v),i==null||i(),s.reject(v))},h=()=>new Promise(v=>{var m;i=p=>{(r||c())&&v(p)},(m=t.onPause)==null||m.call(t)}).then(()=>{var v;i=void 0,r||(v=t.onContinue)==null||v.call(t)}),g=()=>{if(r)return;let v;const m=n===0?t.initialPromise:void 0;try{v=m??t.fn()}catch(p){v=Promise.reject(p)}Promise.resolve(v).then(f).catch(p=>{var M;if(r)return;const y=t.retry??(vf?0:3),x=t.retryDelay??zN,w=typeof x=="function"?x(n,p):x,S=y===!0||typeof y=="number"&&n<y||typeof y=="function"&&y(n,p);if(e||!S){d(p);return}n++,(M=t.onFail)==null||M.call(t,n,p),NN(w).then(()=>c()?void 0:h()).then(()=>{e?d(p):g()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:u,start:()=>(u()?g():h().then(g),s)}}function BN(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var gn=BN(),Fs,xw,cM=(xw=class{constructor(){nt(this,Fs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),RN(this.gcTime)&&Ve(this,Fs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(vf?1/0:5*60*1e3))}clearGcTimeout(){ne(this,Fs)&&(clearTimeout(ne(this,Fs)),Ve(this,Fs,void 0))}},Fs=new WeakMap,xw),da,fa,Qn,sn,dc,zs,hr,Jr,_w,VN=(_w=class extends cM{constructor(e){super();nt(this,hr);nt(this,da);nt(this,fa);nt(this,Qn);nt(this,sn);nt(this,dc);nt(this,zs);Ve(this,zs,!1),Ve(this,dc,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ve(this,Qn,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ve(this,da,HN(this.options)),this.state=e.state??ne(this,da),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ne(this,sn))==null?void 0:e.promise}setOptions(e){this.options={...ne(this,dc),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ne(this,Qn).remove(this)}setData(e,n){const r=DN(this.state.data,e,this.options);return Jt(this,hr,Jr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Jt(this,hr,Jr).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=ne(this,sn))==null?void 0:r.promise;return(i=ne(this,sn))==null||i.cancel(e),n?n.then(fr).catch(fr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ne(this,da))}isActive(){return this.observers.some(e=>LN(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sv||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(e=0){return this.state.isInvalidated||this.state.data===void 0||!PN(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=ne(this,sn))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=ne(this,sn))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ne(this,Qn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(ne(this,sn)&&(ne(this,zs)?ne(this,sn).cancel({revert:!0}):ne(this,sn).cancelRetry()),this.scheduleGc()),ne(this,Qn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Jt(this,hr,Jr).call(this,{type:"invalidate"})}fetch(e,n){var l,c,u;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(ne(this,sn))return ne(this,sn).continueRetry(),ne(this,sn).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(d=>d.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(Ve(this,zs,!0),r.signal)})},s=()=>{const f=iM(this.options,n),d={queryKey:this.queryKey,meta:this.meta};return i(d),Ve(this,zs,!1),this.options.persister?this.options.persister(f,d,this):f(d)},o={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(o),(l=this.options.behavior)==null||l.onFetch(o,this),Ve(this,fa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Jt(this,hr,Jr).call(this,{type:"fetch",meta:(u=o.fetchOptions)==null?void 0:u.meta});const a=f=>{var d,h,g,v;vh(f)&&f.silent||Jt(this,hr,Jr).call(this,{type:"error",error:f}),vh(f)||((h=(d=ne(this,Qn).config).onError)==null||h.call(d,f,this),(v=(g=ne(this,Qn).config).onSettled)==null||v.call(g,this.state.data,f,this)),this.scheduleGc()};return Ve(this,sn,lM({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var d,h,g,v;if(f===void 0){a(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(m){a(m);return}(h=(d=ne(this,Qn).config).onSuccess)==null||h.call(d,f,this),(v=(g=ne(this,Qn).config).onSettled)==null||v.call(g,f,this.state.error,this),this.scheduleGc()},onError:a,onFail:(f,d)=>{Jt(this,hr,Jr).call(this,{type:"failed",failureCount:f,error:d})},onPause:()=>{Jt(this,hr,Jr).call(this,{type:"pause"})},onContinue:()=>{Jt(this,hr,Jr).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),ne(this,sn).start()}},da=new WeakMap,fa=new WeakMap,Qn=new WeakMap,sn=new WeakMap,dc=new WeakMap,zs=new WeakMap,hr=new WeakSet,Jr=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...jN(r.data,this.options),fetchMeta:e.meta??null};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return vh(i)&&i.revert&&ne(this,fa)?{...ne(this,fa),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),gn.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),ne(this,Qn).notify({query:this,type:"updated",action:e})})},_w);function jN(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:oM(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function HN(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Pr,ww,GN=(ww=class extends gf{constructor(e={}){super();nt(this,Pr);this.config=e,Ve(this,Pr,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??iv(i,n);let o=this.get(s);return o||(o=new VN({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){ne(this,Pr).has(e.queryHash)||(ne(this,Pr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=ne(this,Pr).get(e.queryHash);n&&(e.destroy(),n===e&&ne(this,Pr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ne(this,Pr).get(e)}getAll(){return[...ne(this,Pr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ty(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>Ty(e,r)):n}notify(e){gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){gn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){gn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Pr=new WeakMap,ww),Lr,fn,Bs,Nr,Ri,Sw,WN=(Sw=class extends cM{constructor(e){super();nt(this,Nr);nt(this,Lr);nt(this,fn);nt(this,Bs);this.mutationId=e.mutationId,Ve(this,fn,e.mutationCache),Ve(this,Lr,[]),this.state=e.state||XN(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ne(this,Lr).includes(e)||(ne(this,Lr).push(e),this.clearGcTimeout(),ne(this,fn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ve(this,Lr,ne(this,Lr).filter(n=>n!==e)),this.scheduleGc(),ne(this,fn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ne(this,Lr).length||(this.state.status==="pending"?this.scheduleGc():ne(this,fn).remove(this))}continue(){var e;return((e=ne(this,Bs))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,u,f,d,h,g,v,m,p,y,x,w,S,M,T;Ve(this,Bs,lM({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(C,E)=>{Jt(this,Nr,Ri).call(this,{type:"failed",failureCount:C,error:E})},onPause:()=>{Jt(this,Nr,Ri).call(this,{type:"pause"})},onContinue:()=>{Jt(this,Nr,Ri).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ne(this,fn).canRun(this)}));const n=this.state.status==="pending",r=!ne(this,Bs).canStart();try{if(!n){Jt(this,Nr,Ri).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=ne(this,fn).config).onMutate)==null?void 0:s.call(i,e,this));const E=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));E!==this.state.context&&Jt(this,Nr,Ri).call(this,{type:"pending",context:E,variables:e,isPaused:r})}const C=await ne(this,Bs).start();return await((c=(l=ne(this,fn).config).onSuccess)==null?void 0:c.call(l,C,e,this.state.context,this)),await((f=(u=this.options).onSuccess)==null?void 0:f.call(u,C,e,this.state.context)),await((h=(d=ne(this,fn).config).onSettled)==null?void 0:h.call(d,C,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,C,null,e,this.state.context)),Jt(this,Nr,Ri).call(this,{type:"success",data:C}),C}catch(C){try{throw await((p=(m=ne(this,fn).config).onError)==null?void 0:p.call(m,C,e,this.state.context,this)),await((x=(y=this.options).onError)==null?void 0:x.call(y,C,e,this.state.context)),await((S=(w=ne(this,fn).config).onSettled)==null?void 0:S.call(w,void 0,C,this.state.variables,this.state.context,this)),await((T=(M=this.options).onSettled)==null?void 0:T.call(M,void 0,C,e,this.state.context)),C}finally{Jt(this,Nr,Ri).call(this,{type:"error",error:C})}}finally{ne(this,fn).runNext(this)}}},Lr=new WeakMap,fn=new WeakMap,Bs=new WeakMap,Nr=new WeakSet,Ri=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),gn.batch(()=>{ne(this,Lr).forEach(r=>{r.onMutationUpdate(e)}),ne(this,fn).notify({mutation:this,type:"updated",action:e})})},Sw);function XN(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Dn,fc,bw,$N=(bw=class extends gf{constructor(e={}){super();nt(this,Dn);nt(this,fc);this.config=e,Ve(this,Dn,new Map),Ve(this,fc,Date.now())}build(e,n,r){const i=new WN({mutationCache:this,mutationId:++Ic(this,fc)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=iu(e),r=ne(this,Dn).get(n)??[];r.push(e),ne(this,Dn).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=iu(e);if(ne(this,Dn).has(n)){const i=(r=ne(this,Dn).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?ne(this,Dn).delete(n):ne(this,Dn).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=ne(this,Dn).get(iu(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=ne(this,Dn).get(iu(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){gn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...ne(this,Dn).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>Ay(n,r))}findAll(e={}){return this.getAll().filter(n=>Ay(e,n))}notify(e){gn.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return gn.batch(()=>Promise.all(e.map(n=>n.continue().catch(fr))))}},Dn=new WeakMap,fc=new WeakMap,bw);function iu(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function Py(t){return{onFetch:(e,n)=>{var u,f,d,h,g;const r=e.options,i=(d=(f=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:f.fetchMore)==null?void 0:d.direction,s=((h=e.state.data)==null?void 0:h.pages)||[],o=((g=e.state.data)==null?void 0:g.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let v=!1;const m=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},p=iM(e.options,e.fetchOptions),y=async(x,w,S)=>{if(v)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const M={queryKey:e.queryKey,pageParam:w,direction:S?"backward":"forward",meta:e.options.meta};m(M);const T=await p(M),{maxPages:C}=e.options,E=S?ON:IN;return{pages:E(x.pages,T,C),pageParams:E(x.pageParams,w,C)}};if(i&&s.length){const x=i==="backward",w=x?qN:Ly,S={pages:s,pageParams:o},M=w(r,S);a=await y(S,M,x)}else{const x=t??s.length;do{const w=l===0?o[0]??r.initialPageParam:Ly(r,a);if(l>0&&w==null)break;a=await y(a,w),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var v,m;return(m=(v=e.options).persister)==null?void 0:m.call(v,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function Ly(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function qN(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Et,Fi,zi,ha,pa,Bi,ma,ga,Ew,YN=(Ew=class{constructor(t={}){nt(this,Et);nt(this,Fi);nt(this,zi);nt(this,ha);nt(this,pa);nt(this,Bi);nt(this,ma);nt(this,ga);Ve(this,Et,t.queryCache||new GN),Ve(this,Fi,t.mutationCache||new $N),Ve(this,zi,t.defaultOptions||{}),Ve(this,ha,new Map),Ve(this,pa,new Map),Ve(this,Bi,0)}mount(){Ic(this,Bi)._++,ne(this,Bi)===1&&(Ve(this,ma,sM.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,Et).onFocus())})),Ve(this,ga,Ed.subscribe(async t=>{t&&(await this.resumePausedMutations(),ne(this,Et).onOnline())})))}unmount(){var t,e;Ic(this,Bi)._--,ne(this,Bi)===0&&((t=ne(this,ma))==null||t.call(this),Ve(this,ma,void 0),(e=ne(this,ga))==null||e.call(this),Ve(this,ga,void 0))}isFetching(t){return ne(this,Et).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ne(this,Fi).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,Et).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=ne(this,Et).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(My(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return ne(this,Et).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=ne(this,Et).get(r.queryHash),s=i==null?void 0:i.state.data,o=CN(e,s);if(o!==void 0)return ne(this,Et).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return gn.batch(()=>ne(this,Et).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=ne(this,Et).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=ne(this,Et);gn.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=ne(this,Et),r={type:"active",...t};return gn.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=gn.batch(()=>ne(this,Et).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(fr).catch(fr)}invalidateQueries(t={},e={}){return gn.batch(()=>{if(ne(this,Et).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=gn.batch(()=>ne(this,Et).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(fr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(fr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=ne(this,Et).build(this,e);return n.isStaleByTime(My(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(fr).catch(fr)}fetchInfiniteQuery(t){return t.behavior=Py(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(fr).catch(fr)}ensureInfiniteQueryData(t){return t.behavior=Py(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Ed.isOnline()?ne(this,Fi).resumePausedMutations():Promise.resolve()}getQueryCache(){return ne(this,Et)}getMutationCache(){return ne(this,Fi)}getDefaultOptions(){return ne(this,zi)}setDefaultOptions(t){Ve(this,zi,t)}setQueryDefaults(t,e){ne(this,ha).set(tc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ne(this,ha).values()];let n={};return e.forEach(r=>{nc(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){ne(this,pa).set(tc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ne(this,pa).values()];let n={};return e.forEach(r=>{nc(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ne(this,zi).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=iv(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===sv&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ne(this,zi).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ne(this,Et).clear(),ne(this,Fi).clear()}},Et=new WeakMap,Fi=new WeakMap,zi=new WeakMap,ha=new WeakMap,pa=new WeakMap,Bi=new WeakMap,ma=new WeakMap,ga=new WeakMap,Ew),KN=b.createContext(void 0),QN=({client:t,children:e})=>(b.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),_.jsx(KN.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rc(){return rc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rc.apply(this,arguments)}var Hi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Hi||(Hi={}));const Ny="popstate";function ZN(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return ym("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Md(i)}return eD(e,n,null,t)}function Ot(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function uM(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JN(){return Math.random().toString(36).substr(2,8)}function Dy(t,e){return{usr:t.state,key:t.key,idx:e}}function ym(t,e,n,r){return n===void 0&&(n=null),rc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?za(e):e,{state:n,key:e&&e.key||r||JN()})}function Md(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function za(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function eD(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Hi.Pop,l=null,c=u();c==null&&(c=0,o.replaceState(rc({},o.state,{idx:c}),""));function u(){return(o.state||{idx:null}).idx}function f(){a=Hi.Pop;let m=u(),p=m==null?null:m-c;c=m,l&&l({action:a,location:v.location,delta:p})}function d(m,p){a=Hi.Push;let y=ym(v.location,m,p);c=u()+1;let x=Dy(y,c),w=v.createHref(y);try{o.pushState(x,"",w)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(w)}s&&l&&l({action:a,location:v.location,delta:1})}function h(m,p){a=Hi.Replace;let y=ym(v.location,m,p);c=u();let x=Dy(y,c),w=v.createHref(y);o.replaceState(x,"",w),s&&l&&l({action:a,location:v.location,delta:0})}function g(m){let p=i.location.origin!=="null"?i.location.origin:i.location.href,y=typeof m=="string"?m:Md(m);return y=y.replace(/ $/,"%20"),Ot(p,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,p)}let v={get action(){return a},get location(){return t(i,o)},listen(m){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Ny,f),l=m,()=>{i.removeEventListener(Ny,f),l=null}},createHref(m){return e(i,m)},createURL:g,encodeLocation(m){let p=g(m);return{pathname:p.pathname,search:p.search,hash:p.hash}},push:d,replace:h,go(m){return o.go(m)}};return v}var Iy;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Iy||(Iy={}));function tD(t,e,n){return n===void 0&&(n="/"),nD(t,e,n,!1)}function nD(t,e,n,r){let i=typeof e=="string"?za(e):e,s=ov(i.pathname||"/",n);if(s==null)return null;let o=dM(t);rD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=pD(s);a=fD(o[l],c,r)}return a}function dM(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Ot(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=es([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Ot(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),dM(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:uD(c,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of fM(s.path))i(s,o,l)}),e}function fM(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=fM(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function rD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:dD(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const iD=/^:[\w-]+$/,sD=3,oD=2,aD=1,lD=10,cD=-2,Oy=t=>t==="*";function uD(t,e){let n=t.split("/"),r=n.length;return n.some(Oy)&&(r+=cD),e&&(r+=oD),n.filter(i=>!Oy(i)).reduce((i,s)=>i+(iD.test(s)?sD:s===""?aD:lD),r)}function dD(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function fD(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=Uy({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Uy({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),o.push({params:i,pathname:es([s,f.pathname]),pathnameBase:yD(es([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=es([s,f.pathnameBase]))}return o}function Uy(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=hD(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:d,isOptional:h}=u;if(d==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const g=a[f];return h&&!g?c[d]=void 0:c[d]=(g||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function hD(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),uM(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function pD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return uM(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function ov(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function mD(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?za(t):t;return{pathname:n?n.startsWith("/")?n:gD(n,e):e,search:xD(r),hash:_D(i)}}function gD(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function yh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function vD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function hM(t,e){let n=vD(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function pM(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=za(t):(i=rc({},t),Ot(!i.pathname||!i.pathname.includes("?"),yh("?","pathname","search",i)),Ot(!i.pathname||!i.pathname.includes("#"),yh("#","pathname","hash",i)),Ot(!i.search||!i.search.includes("#"),yh("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let d=o.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=mD(i,a),c=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const es=t=>t.join("/").replace(/\/\/+/g,"/"),yD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_D=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function wD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const mM=["post","put","patch","delete"];new Set(mM);const SD=["get",...mM];new Set(SD);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ic(){return ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ic.apply(this,arguments)}const av=b.createContext(null),bD=b.createContext(null),ao=b.createContext(null),yf=b.createContext(null),lo=b.createContext({outlet:null,matches:[],isDataRoute:!1}),gM=b.createContext(null);function ED(t,e){let{relative:n}=e===void 0?{}:e;_c()||Ot(!1);let{basename:r,navigator:i}=b.useContext(ao),{hash:s,pathname:o,search:a}=yM(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:es([r,o])),i.createHref({pathname:l,search:a,hash:s})}function _c(){return b.useContext(yf)!=null}function Ba(){return _c()||Ot(!1),b.useContext(yf).location}function vM(t){b.useContext(ao).static||b.useLayoutEffect(t)}function lv(){let{isDataRoute:t}=b.useContext(lo);return t?kD():MD()}function MD(){_c()||Ot(!1);let t=b.useContext(av),{basename:e,future:n,navigator:r}=b.useContext(ao),{matches:i}=b.useContext(lo),{pathname:s}=Ba(),o=JSON.stringify(hM(i,n.v7_relativeSplatPath)),a=b.useRef(!1);return vM(()=>{a.current=!0}),b.useCallback(function(c,u){if(u===void 0&&(u={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let f=pM(c,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:es([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,o,s,t])}function yM(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=b.useContext(ao),{matches:i}=b.useContext(lo),{pathname:s}=Ba(),o=JSON.stringify(hM(i,r.v7_relativeSplatPath));return b.useMemo(()=>pM(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function TD(t,e){return AD(t,e)}function AD(t,e,n,r){_c()||Ot(!1);let{navigator:i}=b.useContext(ao),{matches:s}=b.useContext(lo),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Ba(),u;if(e){var f;let m=typeof e=="string"?za(e):e;l==="/"||(f=m.pathname)!=null&&f.startsWith(l)||Ot(!1),u=m}else u=c;let d=u.pathname||"/",h=d;if(l!=="/"){let m=l.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(m.length).join("/")}let g=tD(t,{pathname:h}),v=ND(g&&g.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:es([l,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?l:es([l,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),s,n,r);return e&&v?b.createElement(yf.Provider,{value:{location:ic({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Hi.Pop}},v):v}function CD(){let t=UD(),e=wD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:i},n):null,null)}const RD=b.createElement(CD,null);class PD extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?b.createElement(lo.Provider,{value:this.props.routeContext},b.createElement(gM.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function LD(t){let{routeContext:e,match:n,children:r}=t,i=b.useContext(av);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(lo.Provider,{value:e},r)}function ND(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);u>=0||Ot(!1),o=o.slice(0,Math.min(o.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let f=o[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:d,errors:h}=n,g=f.route.loader&&d[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((u,f,d)=>{let h,g=!1,v=null,m=null;n&&(h=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||RD,l&&(c<0&&d===0?(g=!0,m=null):c===d&&(g=!0,m=f.route.hydrateFallbackElement||null)));let p=e.concat(o.slice(0,d+1)),y=()=>{let x;return h?x=v:g?x=m:f.route.Component?x=b.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=u,b.createElement(LD,{match:f,routeContext:{outlet:u,matches:p,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?b.createElement(PD,{location:n.location,revalidation:n.revalidation,component:v,error:h,children:y(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):y()},null)}var xM=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(xM||{}),Td=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Td||{});function DD(t){let e=b.useContext(av);return e||Ot(!1),e}function ID(t){let e=b.useContext(bD);return e||Ot(!1),e}function OD(t){let e=b.useContext(lo);return e||Ot(!1),e}function _M(t){let e=OD(),n=e.matches[e.matches.length-1];return n.route.id||Ot(!1),n.route.id}function UD(){var t;let e=b.useContext(gM),n=ID(Td.UseRouteError),r=_M(Td.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function kD(){let{router:t}=DD(xM.UseNavigateStable),e=_M(Td.UseNavigateStable),n=b.useRef(!1);return vM(()=>{n.current=!0}),b.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,ic({fromRouteId:e},s)))},[t,e])}function gl(t){Ot(!1)}function FD(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Hi.Pop,navigator:s,static:o=!1,future:a}=t;_c()&&Ot(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:s,static:o,future:ic({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=za(r));let{pathname:u="/",search:f="",hash:d="",state:h=null,key:g="default"}=r,v=b.useMemo(()=>{let m=ov(u,l);return m==null?null:{location:{pathname:m,search:f,hash:d,state:h,key:g},navigationType:i}},[l,u,f,d,h,g,i]);return v==null?null:b.createElement(ao.Provider,{value:c},b.createElement(yf.Provider,{children:n,value:v}))}function zD(t){let{children:e,location:n}=t;return TD(xm(e),n)}new Promise(()=>{});function xm(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,i)=>{if(!b.isValidElement(r))return;let s=[...e,i];if(r.type===b.Fragment){n.push.apply(n,xm(r.props.children,s));return}r.type!==gl&&Ot(!1),!r.props.index||!r.props.children||Ot(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=xm(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _m(){return _m=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_m.apply(this,arguments)}function BD(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function jD(t,e){return t.button===0&&(!e||e==="_self")&&!VD(t)}const HD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],GD="6";try{window.__reactRouterVersion=GD}catch{}const WD="startTransition",ky=Ow[WD];function XD(t){let{basename:e,children:n,future:r,window:i}=t,s=b.useRef();s.current==null&&(s.current=ZN({window:i,v5Compat:!0}));let o=s.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},u=b.useCallback(f=>{c&&ky?ky(()=>l(f)):l(f)},[l,c]);return b.useLayoutEffect(()=>o.listen(u),[o,u]),b.createElement(FD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const $D=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qD=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wM=b.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,d=BD(e,HD),{basename:h}=b.useContext(ao),g,v=!1;if(typeof c=="string"&&qD.test(c)&&(g=c,$D))try{let x=new URL(window.location.href),w=c.startsWith("//")?new URL(x.protocol+c):new URL(c),S=ov(w.pathname,h);w.origin===x.origin&&S!=null?c=S+w.search+w.hash:v=!0}catch{}let m=ED(c,{relative:i}),p=YD(c,{replace:o,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function y(x){r&&r(x),x.defaultPrevented||p(x)}return b.createElement("a",_m({},d,{href:g||m,onClick:v||s?r:y,ref:n,target:l}))});var Fy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fy||(Fy={}));var zy;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zy||(zy={}));function YD(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=lv(),c=Ba(),u=yM(t,{relative:o});return b.useCallback(f=>{if(jD(f,n)){f.preventDefault();let d=r!==void 0?r:Md(c)===Md(u);l(t,{replace:d,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[c,l,u,r,i,n,t,s,o,a])}const SM=({activeSection:t,onSectionChange:e})=>{const[n,r]=b.useState(!1),[i,s]=b.useState(!1),o=lv(),a=Ba(),l=a.pathname==="/",c=[{id:"hero",label:"Home"},{id:"introduction",label:"Introduction"},{id:"transcription",label:"Transcription"},{id:"translation",label:"Translation"},{id:"folding",label:"Folding"},{id:"videos",label:"Videos"},{id:"quiz",label:"Quiz",isExternalPage:!0,path:"/quiz"},{id:"members",label:"Members",isExternalPage:!0,path:"/members"}];b.useEffect(()=>{const f=()=>{r(window.scrollY>10)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const u=f=>{if(f.isExternalPage)o(f.path);else if(!l)o("/"),setTimeout(()=>{const d=document.getElementById(f.id);d&&d.scrollIntoView({behavior:"smooth"}),e(f.id)},100);else{e(f.id);const d=document.getElementById(f.id);d&&d.scrollIntoView({behavior:"smooth"})}s(!1)};return _.jsxs("nav",{className:st("fixed top-0 left-0 w-full z-50 transition-all duration-300",n?"py-2 bg-background/80 backdrop-blur-lg shadow-md":"py-4 bg-transparent"),children:[_.jsxs("div",{className:"container mx-auto px-4 flex justify-between items-center",children:[_.jsxs("div",{className:"flex items-center",children:[_.jsx("span",{className:"text-xl font-bold text-primary mr-2",children:"PS"}),_.jsx("span",{className:"hidden sm:inline-block text-white font-semibold",children:"ProteinOS"})]}),_.jsx("div",{className:"hidden md:flex space-x-1",children:c.map(f=>_.jsx("button",{onClick:()=>u(f),className:st("nav-link",(t===f.id||a.pathname===f.path&&f.isExternalPage)&&"active"),children:f.label},f.id))}),_.jsx("button",{className:"md:hidden text-white focus:outline-none",onClick:()=>s(!i),children:i?_.jsx($g,{className:"h-6 w-6"}):_.jsx(PP,{className:"h-6 w-6"})})]}),i&&_.jsx("div",{className:"md:hidden bg-card/95 backdrop-blur-lg absolute top-full left-0 w-full py-4 shadow-lg",children:_.jsx("div",{className:"container mx-auto px-4 flex flex-col space-y-3",children:c.map(f=>_.jsx("button",{onClick:()=>u(f),className:st("py-2 px-4 text-left rounded-md transition-colors",t===f.id||a.pathname===f.path&&f.isExternalPage?"bg-primary/20 text-white":"text-muted-foreground hover:bg-primary/10 hover:text-white"),children:f.label},f.id))})})]})},bM=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),xf=b.createContext({}),_f=b.createContext(null),wf=typeof document<"u",cv=wf?b.useLayoutEffect:b.useEffect,EM=b.createContext({strict:!1});function KD(t,e,n,r){const{visualElement:i}=b.useContext(xf),s=b.useContext(EM),o=b.useContext(_f),a=b.useContext(bM).reducedMotion,l=b.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;b.useInsertionEffect(()=>{c&&c.update(n,o)});const u=b.useRef(!!window.HandoffAppearAnimations);return cv(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),b.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),window.HandoffAppearAnimations=void 0,u.current=!1)}),c}function Xo(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function QD(t,e,n){return b.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Xo(n)&&(n.current=r))},[e])}function sc(t){return typeof t=="string"||Array.isArray(t)}function Sf(t){return typeof t=="object"&&typeof t.start=="function"}const uv=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],dv=["initial",...uv];function bf(t){return Sf(t.animate)||dv.some(e=>sc(t[e]))}function MM(t){return!!(bf(t)||t.variants)}function ZD(t,e){if(bf(t)){const{initial:n,animate:r}=t;return{initial:n===!1||sc(n)?n:void 0,animate:sc(r)?r:void 0}}return t.inherit!==!1?e:{}}function JD(t){const{initial:e,animate:n}=ZD(t,b.useContext(xf));return b.useMemo(()=>({initial:e,animate:n}),[By(e),By(n)])}function By(t){return Array.isArray(t)?t.join(" "):t}const Vy={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},oc={};for(const t in Vy)oc[t]={isEnabled:e=>Vy[t].some(n=>!!e[n])};function eI(t){for(const e in t)oc[e]={...oc[e],...t[e]}}const fv=b.createContext({}),TM=b.createContext({}),tI=Symbol.for("motionComponentSymbol");function nI({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&eI(t);function s(a,l){let c;const u={...b.useContext(bM),...a,layoutId:rI(a)},{isStatic:f}=u,d=JD(a),h=r(a,f);if(!f&&wf){d.visualElement=KD(i,h,u,e);const g=b.useContext(TM),v=b.useContext(EM).strict;d.visualElement&&(c=d.visualElement.loadFeatures(u,v,t,g))}return b.createElement(xf.Provider,{value:d},c&&d.visualElement?b.createElement(c,{visualElement:d.visualElement,...u}):null,n(i,a,QD(h,d.visualElement,l),h,f,d.visualElement))}const o=b.forwardRef(s);return o[tI]=i,o}function rI({layoutId:t}){const e=b.useContext(fv).id;return e&&t!==void 0?e+"-"+t:t}function iI(t){function e(r,i={}){return nI(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const sI=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function hv(t){return typeof t!="string"||t.includes("-")?!1:!!(sI.indexOf(t)>-1||/[A-Z]/.test(t))}const Ad={};function oI(t){Object.assign(Ad,t)}const wc=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],co=new Set(wc);function AM(t,{layout:e,layoutId:n}){return co.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ad[t]||t==="opacity")}const Rn=t=>!!(t&&t.getVelocity),aI={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},lI=wc.length;function cI(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let o=0;o<lI;o++){const a=wc[o];if(t[a]!==void 0){const l=aI[a]||a;s+=`${l}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const CM=t=>e=>typeof e=="string"&&e.startsWith(t),RM=CM("--"),wm=CM("var(--"),uI=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,dI=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ds=(t,e,n)=>Math.min(Math.max(n,t),e),uo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Pl={...uo,transform:t=>ds(0,1,t)},su={...uo,default:1},Ll=t=>Math.round(t*1e5)/1e5,Ef=/(-)?([\d]*\.?[\d])+/g,PM=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,fI=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Sc(t){return typeof t=="string"}const bc=t=>({test:e=>Sc(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Pi=bc("deg"),Fr=bc("%"),Ie=bc("px"),hI=bc("vh"),pI=bc("vw"),jy={...Fr,parse:t=>Fr.parse(t)/100,transform:t=>Fr.transform(t*100)},Hy={...uo,transform:Math.round},LM={borderWidth:Ie,borderTopWidth:Ie,borderRightWidth:Ie,borderBottomWidth:Ie,borderLeftWidth:Ie,borderRadius:Ie,radius:Ie,borderTopLeftRadius:Ie,borderTopRightRadius:Ie,borderBottomRightRadius:Ie,borderBottomLeftRadius:Ie,width:Ie,maxWidth:Ie,height:Ie,maxHeight:Ie,size:Ie,top:Ie,right:Ie,bottom:Ie,left:Ie,padding:Ie,paddingTop:Ie,paddingRight:Ie,paddingBottom:Ie,paddingLeft:Ie,margin:Ie,marginTop:Ie,marginRight:Ie,marginBottom:Ie,marginLeft:Ie,rotate:Pi,rotateX:Pi,rotateY:Pi,rotateZ:Pi,scale:su,scaleX:su,scaleY:su,scaleZ:su,skew:Pi,skewX:Pi,skewY:Pi,distance:Ie,translateX:Ie,translateY:Ie,translateZ:Ie,x:Ie,y:Ie,z:Ie,perspective:Ie,transformPerspective:Ie,opacity:Pl,originX:jy,originY:jy,originZ:Ie,zIndex:Hy,fillOpacity:Pl,strokeOpacity:Pl,numOctaves:Hy};function pv(t,e,n,r){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const f in e){const d=e[f];if(RM(f)){s[f]=d;continue}const h=LM[f],g=dI(d,h);if(co.has(f)){if(l=!0,o[f]=g,!u)continue;d!==(h.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,a[f]=g):i[f]=g}if(e.transform||(l||r?i.transform=cI(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:h=0}=a;i.transformOrigin=`${f} ${d} ${h}`}}const mv=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function NM(t,e,n){for(const r in e)!Rn(e[r])&&!AM(r,n)&&(t[r]=e[r])}function mI({transformTemplate:t},e,n){return b.useMemo(()=>{const r=mv();return pv(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function gI(t,e,n){const r=t.style||{},i={};return NM(i,r,t),Object.assign(i,mI(t,e,n)),t.transformValues?t.transformValues(i):i}function vI(t,e,n){const r={},i=gI(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const yI=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Cd(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||yI.has(t)}let DM=t=>!Cd(t);function xI(t){t&&(DM=e=>e.startsWith("on")?!Cd(e):t(e))}try{xI(require("@emotion/is-prop-valid").default)}catch{}function _I(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(DM(i)||n===!0&&Cd(i)||!e&&!Cd(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function Gy(t,e,n){return typeof t=="string"?t:Ie.transform(e+n*t)}function wI(t,e,n){const r=Gy(e,t.x,t.width),i=Gy(n,t.y,t.height);return`${r} ${i}`}const SI={offset:"stroke-dashoffset",array:"stroke-dasharray"},bI={offset:"strokeDashoffset",array:"strokeDasharray"};function EI(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?SI:bI;t[s.offset]=Ie.transform(-r);const o=Ie.transform(e),a=Ie.transform(n);t[s.array]=`${o} ${a}`}function gv(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},u,f,d){if(pv(t,c,u,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:g,dimensions:v}=t;h.transform&&(v&&(g.transform=h.transform),delete h.transform),v&&(i!==void 0||s!==void 0||g.transform)&&(g.transformOrigin=wI(v,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&EI(h,o,a,l,!1)}const IM=()=>({...mv(),attrs:{}}),vv=t=>typeof t=="string"&&t.toLowerCase()==="svg";function MI(t,e,n,r){const i=b.useMemo(()=>{const s=IM();return gv(s,e,{enableHardwareAcceleration:!1},vv(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};NM(s,t.style,t),i.style={...s,...i.style}}return i}function TI(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(hv(n)?MI:vI)(r,s,o,n),u={..._I(r,typeof n=="string",t),...l,ref:i},{children:f}=r,d=b.useMemo(()=>Rn(f)?f.get():f,[f]);return b.createElement(n,{...u,children:d})}}const yv=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function OM(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const UM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kM(t,e,n,r){OM(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(UM.has(i)?i:yv(i),e.attrs[i])}function xv(t,e){const{style:n}=t,r={};for(const i in n)(Rn(n[i])||e.style&&Rn(e.style[i])||AM(i,t))&&(r[i]=n[i]);return r}function FM(t,e){const n=xv(t,e);for(const r in t)if(Rn(t[r])||Rn(e[r])){const i=wc.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function _v(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function zM(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const Rd=t=>Array.isArray(t),AI=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),CI=t=>Rd(t)?t[t.length-1]||0:t;function Wu(t){const e=Rn(t)?t.get():t;return AI(e)?e.toValue():e}function RI({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const o={latestValues:PI(r,i,s,t),renderState:e()};return n&&(o.mount=a=>n(r,a,o)),o}const BM=t=>(e,n)=>{const r=b.useContext(xf),i=b.useContext(_f),s=()=>RI(t,e,r,i);return n?s():zM(s)};function PI(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=Wu(s[d]);let{initial:o,animate:a}=t;const l=bf(t),c=MM(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const f=u?a:o;return f&&typeof f!="boolean"&&!Sf(f)&&(Array.isArray(f)?f:[f]).forEach(h=>{const g=_v(t,h);if(!g)return;const{transitionEnd:v,transition:m,...p}=g;for(const y in p){let x=p[y];if(Array.isArray(x)){const w=u?x.length-1:0;x=x[w]}x!==null&&(i[y]=x)}for(const y in v)i[y]=v[y]}),i}const Ct=t=>t;class Wy{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function LI(t){let e=new Wy,n=new Wy,r=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const f=u&&i,d=f?e:n;return c&&o.add(l),d.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),o.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),o.has(u)&&(a.schedule(u),t())}i=!1,s&&(s=!1,a.process(l))}};return a}const ou=["prepare","read","update","preRender","render","postRender"],NI=40;function DI(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=ou.reduce((f,d)=>(f[d]=LI(()=>n=!0),f),{}),o=f=>s[f].process(i),a=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,NI),1),i.timestamp=f,i.isProcessing=!0,ou.forEach(o),i.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,i.isProcessing||t(a)};return{schedule:ou.reduce((f,d)=>{const h=s[d];return f[d]=(g,v=!1,m=!1)=>(n||l(),h.schedule(g,v,m)),f},{}),cancel:f=>ou.forEach(d=>s[d].cancel(f)),state:i,steps:s}}const{schedule:lt,cancel:yi,state:Wt,steps:xh}=DI(typeof requestAnimationFrame<"u"?requestAnimationFrame:Ct,!0),II={useVisualState:BM({scrapeMotionValuesFromProps:FM,createRenderState:IM,onMount:(t,e,{renderState:n,latestValues:r})=>{lt.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),lt.render(()=>{gv(n,r,{enableHardwareAcceleration:!1},vv(e.tagName),t.transformTemplate),kM(e,n)})}})},OI={useVisualState:BM({scrapeMotionValuesFromProps:xv,createRenderState:mv})};function UI(t,{forwardMotionProps:e=!1},n,r){return{...hv(t)?II:OI,preloadedFeatures:n,useRender:TI(e),createVisualElement:r,Component:t}}function oi(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const VM=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Mf(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const kI=t=>e=>VM(e)&&t(e,Mf(e));function ci(t,e,n,r){return oi(t,e,kI(n),r)}const FI=(t,e)=>n=>e(t(n)),ts=(...t)=>t.reduce(FI);function jM(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const Xy=jM("dragHorizontal"),$y=jM("dragVertical");function HM(t){let e=!1;if(t==="y")e=$y();else if(t==="x")e=Xy();else{const n=Xy(),r=$y();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function GM(){const t=HM(!0);return t?(t(),!1):!0}class vs{constructor(e){this.isMounted=!1,this.node=e}update(){}}function qy(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||GM())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&lt.update(()=>a[r](s,o))};return ci(t.current,n,i,{passive:!t.getProps()[r]})}class zI extends vs{mount(){this.unmount=ts(qy(this.node,!0),qy(this.node,!1))}unmount(){}}class BI extends vs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ts(oi(this.node.current,"focus",()=>this.onFocus()),oi(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const WM=(t,e)=>e?t===e?!0:WM(t,e.parentElement):!1;function _h(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,Mf(n))}class VI extends vs{constructor(){super(...arguments),this.removeStartListeners=Ct,this.removeEndListeners=Ct,this.removeAccessibleListeners=Ct,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),s=ci(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();lt.update(()=>{WM(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),o=ci(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ts(s,o),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||_h("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&lt.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=oi(this.node.current,"keyup",o),_h("down",(a,l)=>{this.startPress(a,l)})},n=oi(this.node.current,"keydown",e),r=()=>{this.isPressing&&_h("cancel",(s,o)=>this.cancelPress(s,o))},i=oi(this.node.current,"blur",r);this.removeAccessibleListeners=ts(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&lt.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!GM()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&lt.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=ci(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=oi(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ts(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Sm=new WeakMap,wh=new WeakMap,jI=t=>{const e=Sm.get(t.target);e&&e(t)},HI=t=>{t.forEach(jI)};function GI({root:t,...e}){const n=t||document;wh.has(n)||wh.set(n,{});const r=wh.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(HI,{root:t,...e})),r[i]}function WI(t,e,n){const r=GI(e);return Sm.set(t,n),r.observe(t),()=>{Sm.delete(t),r.unobserve(t)}}const XI={some:0,all:1};class $I extends vs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:XI[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return WI(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(qI(e,n))&&this.startObserver()}unmount(){}}function qI({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const YI={inView:{Feature:$I},tap:{Feature:VI},focus:{Feature:BI},hover:{Feature:zI}};function XM(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function KI(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function QI(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Tf(t,e,n){const r=t.getProps();return _v(r,e,n!==void 0?n:r.custom,KI(t),QI(t))}const ZI="framerAppearId",JI="data-"+yv(ZI);let Pd=Ct;const Hs=t=>t*1e3,ui=t=>t/1e3,e3={current:!1},$M=t=>Array.isArray(t)&&typeof t[0]=="number";function qM(t){return!!(!t||typeof t=="string"&&YM[t]||$M(t)||Array.isArray(t)&&t.every(qM))}const vl=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,YM={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vl([0,.65,.55,1]),circOut:vl([.55,0,1,.45]),backIn:vl([.31,.01,.66,-.59]),backOut:vl([.33,1.53,.69,.99])};function KM(t){if(t)return $M(t)?vl(t):Array.isArray(t)?t.map(KM):YM[t]}function t3(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=KM(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function n3(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const QM=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,r3=1e-7,i3=12;function s3(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=QM(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>r3&&++a<i3);return o}function Ec(t,e,n,r){if(t===e&&n===r)return Ct;const i=s=>s3(s,0,1,t,n);return s=>s===0||s===1?s:QM(i(s),e,r)}const o3=Ec(.42,0,1,1),a3=Ec(0,0,.58,1),ZM=Ec(.42,0,.58,1),l3=t=>Array.isArray(t)&&typeof t[0]!="number",JM=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,e1=t=>e=>1-t(1-e),t1=t=>1-Math.sin(Math.acos(t)),wv=e1(t1),c3=JM(wv),n1=Ec(.33,1.53,.69,.99),Sv=e1(n1),u3=JM(Sv),d3=t=>(t*=2)<1?.5*Sv(t):.5*(2-Math.pow(2,-10*(t-1))),Yy={linear:Ct,easeIn:o3,easeInOut:ZM,easeOut:a3,circIn:t1,circInOut:c3,circOut:wv,backIn:Sv,backInOut:u3,backOut:n1,anticipate:d3},Ky=t=>{if(Array.isArray(t)){Pd(t.length===4);const[e,n,r,i]=t;return Ec(e,n,r,i)}else if(typeof t=="string")return Pd(Yy[t]!==void 0),Yy[t];return t},bv=(t,e)=>n=>!!(Sc(n)&&fI.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),r1=(t,e,n)=>r=>{if(!Sc(r))return r;const[i,s,o,a]=r.match(Ef);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},f3=t=>ds(0,255,t),Sh={...uo,transform:t=>Math.round(f3(t))},Us={test:bv("rgb","red"),parse:r1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Sh.transform(t)+", "+Sh.transform(e)+", "+Sh.transform(n)+", "+Ll(Pl.transform(r))+")"};function h3(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const bm={test:bv("#"),parse:h3,transform:Us.transform},$o={test:bv("hsl","hue"),parse:r1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Fr.transform(Ll(e))+", "+Fr.transform(Ll(n))+", "+Ll(Pl.transform(r))+")"},hn={test:t=>Us.test(t)||bm.test(t)||$o.test(t),parse:t=>Us.test(t)?Us.parse(t):$o.test(t)?$o.parse(t):bm.parse(t),transform:t=>Sc(t)?t:t.hasOwnProperty("red")?Us.transform(t):$o.transform(t)},_t=(t,e,n)=>-n*t+n*e+t;function bh(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function p3({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=bh(l,a,t+1/3),s=bh(l,a,t),o=bh(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}const Eh=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},m3=[bm,Us,$o],g3=t=>m3.find(e=>e.test(t));function Qy(t){const e=g3(t);let n=e.parse(t);return e===$o&&(n=p3(n)),n}const i1=(t,e)=>{const n=Qy(t),r=Qy(e),i={...n};return s=>(i.red=Eh(n.red,r.red,s),i.green=Eh(n.green,r.green,s),i.blue=Eh(n.blue,r.blue,s),i.alpha=_t(n.alpha,r.alpha,s),Us.transform(i))};function v3(t){var e,n;return isNaN(t)&&Sc(t)&&(((e=t.match(Ef))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(PM))===null||n===void 0?void 0:n.length)||0)>0}const s1={regex:uI,countKey:"Vars",token:"${v}",parse:Ct},o1={regex:PM,countKey:"Colors",token:"${c}",parse:hn.parse},a1={regex:Ef,countKey:"Numbers",token:"${n}",parse:uo.parse};function Mh(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function Ld(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Mh(n,s1),Mh(n,o1),Mh(n,a1),n}function l1(t){return Ld(t).values}function c1(t){const{values:e,numColors:n,numVars:r,tokenised:i}=Ld(t),s=e.length;return o=>{let a=i;for(let l=0;l<s;l++)l<r?a=a.replace(s1.token,o[l]):l<r+n?a=a.replace(o1.token,hn.transform(o[l])):a=a.replace(a1.token,Ll(o[l]));return a}}const y3=t=>typeof t=="number"?0:t;function x3(t){const e=l1(t);return c1(t)(e.map(y3))}const fs={test:v3,parse:l1,createTransformer:c1,getAnimatableNone:x3},u1=(t,e)=>n=>`${n>0?e:t}`;function d1(t,e){return typeof t=="number"?n=>_t(t,e,n):hn.test(t)?i1(t,e):t.startsWith("var(")?u1(t,e):h1(t,e)}const f1=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,o)=>d1(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}},_3=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=d1(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},h1=(t,e)=>{const n=fs.createTransformer(e),r=Ld(t),i=Ld(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ts(f1(r.values,i.values),n):u1(t,e)},ac=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Zy=(t,e)=>n=>_t(t,e,n);function w3(t){return typeof t=="number"?Zy:typeof t=="string"?hn.test(t)?i1:h1:Array.isArray(t)?f1:typeof t=="object"?_3:Zy}function S3(t,e,n){const r=[],i=n||w3(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||Ct:e;a=ts(l,a)}r.push(a)}return r}function p1(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(Pd(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=S3(e,r,i),a=o.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=ac(t[u],t[u+1],c);return o[u](f)};return n?c=>l(ds(t[0],t[s-1],c)):l}function b3(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ac(0,e,r);t.push(_t(n,1,i))}}function E3(t){const e=[0];return b3(e,t.length-1),e}function M3(t,e){return t.map(n=>n*e)}function T3(t,e){return t.map(()=>e||ZM).splice(0,t.length-1)}function Nd({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=l3(r)?r.map(Ky):Ky(r),s={done:!1,value:e[0]},o=M3(n&&n.length===e.length?n:E3(e),t),a=p1(o,e,{ease:Array.isArray(i)?i:T3(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}function m1(t,e){return e?t*(1e3/e):0}const A3=5;function g1(t,e,n){const r=Math.max(e-A3,0);return m1(n-t(r),e-r)}const Th=.001,C3=.01,R3=10,P3=.05,L3=1;function N3({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,o=1-e;o=ds(P3,L3,o),t=ds(C3,R3,ui(t)),o<1?(i=c=>{const u=c*o,f=u*t,d=u-n,h=Em(c,o),g=Math.exp(-f);return Th-d/h*g},s=c=>{const f=c*o*t,d=f*n+n,h=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-f),v=Em(Math.pow(c,2),o);return(-i(c)+Th>0?-1:1)*((d-h)*g)/v}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-Th+u*f},s=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const a=5/t,l=I3(i,s,a);if(t=Hs(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const D3=12;function I3(t,e,n){let r=n;for(let i=1;i<D3;i++)r=r-t(r)/e(r);return r}function Em(t,e){return t*Math.sqrt(1-e*e)}const O3=["duration","bounce"],U3=["stiffness","damping","mass"];function Jy(t,e){return e.some(n=>t[n]!==void 0)}function k3(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!Jy(t,U3)&&Jy(t,O3)){const n=N3(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function v1({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:l,mass:c,velocity:u,duration:f,isResolvedFromDuration:d}=k3(r),h=u?-ui(u):0,g=l/(2*Math.sqrt(a*c)),v=s-i,m=ui(Math.sqrt(a/c)),p=Math.abs(v)<5;n||(n=p?.01:2),e||(e=p?.005:.5);let y;if(g<1){const x=Em(m,g);y=w=>{const S=Math.exp(-g*m*w);return s-S*((h+g*m*v)/x*Math.sin(x*w)+v*Math.cos(x*w))}}else if(g===1)y=x=>s-Math.exp(-m*x)*(v+(h+m*v)*x);else{const x=m*Math.sqrt(g*g-1);y=w=>{const S=Math.exp(-g*m*w),M=Math.min(x*w,300);return s-S*((h+g*m*v)*Math.sinh(M)+x*v*Math.cosh(M))/x}}return{calculatedDuration:d&&f||null,next:x=>{const w=y(x);if(d)o.done=x>=f;else{let S=h;x!==0&&(g<1?S=g1(y,x,w):S=0);const M=Math.abs(S)<=n,T=Math.abs(s-w)<=e;o.done=M&&T}return o.value=o.done?s:w,o}}}function ex({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],d={done:!1,value:f},h=C=>a!==void 0&&C<a||l!==void 0&&C>l,g=C=>a===void 0?l:l===void 0||Math.abs(a-C)<Math.abs(l-C)?a:l;let v=n*e;const m=f+v,p=o===void 0?m:o(m);p!==m&&(v=p-f);const y=C=>-v*Math.exp(-C/r),x=C=>p+y(C),w=C=>{const E=y(C),A=x(C);d.done=Math.abs(E)<=c,d.value=d.done?p:A};let S,M;const T=C=>{h(d.value)&&(S=C,M=v1({keyframes:[d.value,g(d.value)],velocity:g1(x,C,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return T(0),{calculatedDuration:null,next:C=>{let E=!1;return!M&&S===void 0&&(E=!0,w(C),T(C)),S!==void 0&&C>S?M.next(C-S):(!E&&w(C),d)}}}const F3=t=>{const e=({timestamp:n})=>t(n);return{start:()=>lt.update(e,!0),stop:()=>yi(e),now:()=>Wt.isProcessing?Wt.timestamp:performance.now()}},tx=2e4;function nx(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<tx;)e+=n,r=t.next(e);return e>=tx?1/0:e}const z3={decay:ex,inertia:ex,tween:Nd,keyframes:Nd,spring:v1};function Dd({autoplay:t=!0,delay:e=0,driver:n=F3,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...d}){let h=1,g=!1,v,m;const p=()=>{m=new Promise(U=>{v=U})};p();let y;const x=z3[i]||Nd;let w;x!==Nd&&typeof r[0]!="number"&&(w=p1([0,100],r,{clamp:!1}),r=[0,100]);const S=x({...d,keyframes:r});let M;a==="mirror"&&(M=x({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let T="idle",C=null,E=null,A=null;S.calculatedDuration===null&&s&&(S.calculatedDuration=nx(S));const{calculatedDuration:k}=S;let I=1/0,O=1/0;k!==null&&(I=k+o,O=I*(s+1)-o);let L=0;const z=U=>{if(E===null)return;h>0&&(E=Math.min(E,U)),h<0&&(E=Math.min(U-O/h,E)),C!==null?L=C:L=Math.round(U-E)*h;const B=L-e*(h>=0?1:-1),ee=h>=0?B<0:B>O;L=Math.max(B,0),T==="finished"&&C===null&&(L=O);let te=L,oe=S;if(s){const Ae=L/I;let $e=Math.floor(Ae),Me=Ae%1;!Me&&Ae>=1&&(Me=1),Me===1&&$e--,$e=Math.min($e,s+1);const G=!!($e%2);G&&(a==="reverse"?(Me=1-Me,o&&(Me-=o/I)):a==="mirror"&&(oe=M));let Ne=ds(0,1,Me);L>O&&(Ne=a==="reverse"&&G?1:0),te=Ne*I}const se=ee?{done:!1,value:r[0]}:oe.next(te);w&&(se.value=w(se.value));let{done:ve}=se;!ee&&k!==null&&(ve=h>=0?L>=O:L<=0);const pe=C===null&&(T==="finished"||T==="running"&&ve);return f&&f(se.value),pe&&N(),se},H=()=>{y&&y.stop(),y=void 0},j=()=>{T="idle",H(),v(),p(),E=A=null},N=()=>{T="finished",u&&u(),H(),v()},V=()=>{if(g)return;y||(y=n(z));const U=y.now();l&&l(),C!==null?E=U-C:(!E||T==="finished")&&(E=U),T==="finished"&&p(),A=E,C=null,T="running",y.start()};t&&V();const W={then(U,B){return m.then(U,B)},get time(){return ui(L)},set time(U){U=Hs(U),L=U,C!==null||!y||h===0?C=U:E=y.now()-U/h},get duration(){const U=S.calculatedDuration===null?nx(S):S.calculatedDuration;return ui(U)},get speed(){return h},set speed(U){U===h||!y||(h=U,W.time=ui(L))},get state(){return T},play:V,pause:()=>{T="paused",C=L},stop:()=>{g=!0,T!=="idle"&&(T="idle",c&&c(),j())},cancel:()=>{A!==null&&z(A),j()},complete:()=>{T="finished"},sample:U=>(E=0,z(U))};return W}function B3(t){let e;return()=>(e===void 0&&(e=t()),e)}const V3=B3(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),j3=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),au=10,H3=2e4,G3=(t,e)=>e.type==="spring"||t==="backgroundColor"||!qM(e.ease);function W3(t,e,{onUpdate:n,onComplete:r,...i}){if(!(V3()&&j3.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let o=!1,a,l;const c=()=>{l=new Promise(y=>{a=y})};c();let{keyframes:u,duration:f=300,ease:d,times:h}=i;if(G3(e,i)){const y=Dd({...i,repeat:0,delay:0});let x={done:!1,value:u[0]};const w=[];let S=0;for(;!x.done&&S<H3;)x=y.sample(S),w.push(x.value),S+=au;h=void 0,u=w,f=S-au,d="linear"}const g=t3(t.owner.current,e,u,{...i,duration:f,ease:d,times:h});i.syncStart&&(g.startTime=Wt.isProcessing?Wt.timestamp:document.timeline?document.timeline.currentTime:performance.now());const v=()=>g.cancel(),m=()=>{lt.update(v),a(),c()};return g.onfinish=()=>{t.set(n3(u,i)),r&&r(),m()},{then(y,x){return l.then(y,x)},attachTimeline(y){return g.timeline=y,g.onfinish=null,Ct},get time(){return ui(g.currentTime||0)},set time(y){g.currentTime=Hs(y)},get speed(){return g.playbackRate},set speed(y){g.playbackRate=y},get duration(){return ui(f)},play:()=>{o||(g.play(),yi(v))},pause:()=>g.pause(),stop:()=>{if(o=!0,g.playState==="idle")return;const{currentTime:y}=g;if(y){const x=Dd({...i,autoplay:!1});t.setWithVelocity(x.sample(y-au).value,x.sample(y).value,au)}m()},complete:()=>g.finish(),cancel:m}}function X3({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Ct,pause:Ct,stop:Ct,then:s=>(s(),Promise.resolve()),cancel:Ct,complete:Ct});return e?Dd({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const $3={type:"spring",stiffness:500,damping:25,restSpeed:10},q3=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Y3={type:"keyframes",duration:.8},K3={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Q3=(t,{keyframes:e})=>e.length>2?Y3:co.has(t)?t.startsWith("scale")?q3(e[1]):$3:K3,Mm=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(fs.test(e)||e==="0")&&!e.startsWith("url(")),Z3=new Set(["brightness","contrast","saturate","opacity"]);function J3(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ef)||[];if(!r)return t;const i=n.replace(r,"");let s=Z3.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const eO=/([a-z-]*)\(.*?\)/g,Tm={...fs,getAnimatableNone:t=>{const e=t.match(eO);return e?e.map(J3).join(" "):t}},tO={...LM,color:hn,backgroundColor:hn,outlineColor:hn,fill:hn,stroke:hn,borderColor:hn,borderTopColor:hn,borderRightColor:hn,borderBottomColor:hn,borderLeftColor:hn,filter:Tm,WebkitFilter:Tm},Ev=t=>tO[t];function y1(t,e){let n=Ev(t);return n!==Tm&&(n=fs),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const x1=t=>/^0[^.\s]+$/.test(t);function nO(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||x1(t)}function rO(t,e,n,r){const i=Mm(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const o=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),nO(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];s[u]=y1(e,a)}return s}function iO({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function _1(t,e){return t[e]||t.default||t}const Mv=(t,e,n,r={})=>i=>{const s=_1(r,t)||{},o=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Hs(o);const l=rO(e,t,n,s),c=l[0],u=l[l.length-1],f=Mm(t,c),d=Mm(t,u);let h={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:g=>{e.set(g),s.onUpdate&&s.onUpdate(g)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(iO(s)||(h={...h,...Q3(t,h)}),h.duration&&(h.duration=Hs(h.duration)),h.repeatDelay&&(h.repeatDelay=Hs(h.repeatDelay)),!f||!d||e3.current||s.type===!1)return X3(h);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const g=W3(e,t,h);if(g)return g}return Dd(h)};function Id(t){return!!(Rn(t)&&t.add)}const w1=t=>/^\-?\d*\.?\d+$/.test(t);function Tv(t,e){t.indexOf(e)===-1&&t.push(e)}function Av(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class Cv{constructor(){this.subscriptions=[]}add(e){return Tv(this.subscriptions,e),()=>Av(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const sO=t=>!isNaN(parseFloat(t));class oO{constructor(e,n={}){this.version="10.16.4",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:o}=Wt;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,lt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>lt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=sO(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new Cv);const r=this.events[e].add(n);return e==="change"?()=>{r(),lt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?m1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ta(t,e){return new oO(t,e)}const S1=t=>e=>e.test(t),aO={test:t=>t==="auto",parse:t=>t},b1=[uo,Ie,Fr,Pi,pI,hI,aO],el=t=>b1.find(S1(t)),lO=[...b1,hn,fs],cO=t=>lO.find(S1(t));function uO(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Ta(n))}function dO(t,e){const n=Tf(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const o in s){const a=CI(s[o]);uO(t,o,a)}}function fO(t,e,n){var r,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const l=s[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(w1(u)||x1(u))?u=parseFloat(u):!cO(u)&&fs.test(c)&&(u=y1(l,c)),t.addValue(l,Ta(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function hO(t,e){return e?(e[t]||e.default||e).from:void 0}function pO(t,e,n){const r={};for(const i in t){const s=hO(i,e);if(s!==void 0)r[i]=s;else{const o=n.getValue(i);o&&(r[i]=o.get())}}return r}function mO({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function E1(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in a){const d=t.getValue(f),h=a[f];if(!d||h===void 0||u&&mO(u,f))continue;const g={delay:n,elapsed:0,...s};if(window.HandoffAppearAnimations&&!d.hasAnimated){const m=t.getProps()[JI];m&&(g.elapsed=window.HandoffAppearAnimations(m,f,d,lt),g.syncStart=!0)}d.start(Mv(f,d,h,t.shouldReduceMotion&&co.has(f)?{type:!1}:g));const v=d.animation;Id(l)&&(l.add(f),v.then(()=>l.remove(f))),c.push(v)}return o&&Promise.all(c).then(()=>{o&&dO(t,o)}),c}function Am(t,e,n={}){const r=Tf(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(E1(t,r,n)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return gO(t,e,c+l,u,f,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[l,c]=a==="beforeChildren"?[s,o]:[o,s];return l().then(()=>c())}else return Promise.all([s(),o(n.delay)])}function gO(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(vO).forEach((c,u)=>{c.notify("AnimationStart",e),o.push(Am(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function vO(t,e){return t.sortNodePosition(e)}function yO(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>Am(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=Am(t,e,n);else{const i=typeof e=="function"?Tf(t,e,n.custom):e;r=Promise.all(E1(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const xO=[...uv].reverse(),_O=uv.length;function wO(t){return e=>Promise.all(e.map(({animation:n,options:r})=>yO(t,n,r)))}function SO(t){let e=wO(t);const n=EO();let r=!0;const i=(l,c)=>{const u=Tf(t,c);if(u){const{transition:f,transitionEnd:d,...h}=u;l={...l,...h,...d}}return l};function s(l){e=l(t)}function o(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},d=[],h=new Set;let g={},v=1/0;for(let p=0;p<_O;p++){const y=xO[p],x=n[y],w=u[y]!==void 0?u[y]:f[y],S=sc(w),M=y===c?x.isActive:null;M===!1&&(v=p);let T=w===f[y]&&w!==u[y]&&S;if(T&&r&&t.manuallyAnimateOnMount&&(T=!1),x.protectedKeys={...g},!x.isActive&&M===null||!w&&!x.prevProp||Sf(w)||typeof w=="boolean")continue;const C=bO(x.prevProp,w);let E=C||y===c&&x.isActive&&!T&&S||p>v&&S;const A=Array.isArray(w)?w:[w];let k=A.reduce(i,{});M===!1&&(k={});const{prevResolvedValues:I={}}=x,O={...I,...k},L=z=>{E=!0,h.delete(z),x.needsAnimating[z]=!0};for(const z in O){const H=k[z],j=I[z];g.hasOwnProperty(z)||(H!==j?Rd(H)&&Rd(j)?!XM(H,j)||C?L(z):x.protectedKeys[z]=!0:H!==void 0?L(z):h.add(z):H!==void 0&&h.has(z)?L(z):x.protectedKeys[z]=!0)}x.prevProp=w,x.prevResolvedValues=k,x.isActive&&(g={...g,...k}),r&&t.blockInitialAnimation&&(E=!1),E&&!T&&d.push(...A.map(z=>({animation:z,options:{type:y,...l}})))}if(h.size){const p={};h.forEach(y=>{const x=t.getBaseTarget(y);x!==void 0&&(p[y]=x)}),d.push({animation:p})}let m=!!d.length;return r&&u.initial===!1&&!t.manuallyAnimateOnMount&&(m=!1),r=!1,m?e(d):Promise.resolve()}function a(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(h=>{var g;return(g=h.animationState)===null||g===void 0?void 0:g.setActive(l,c)}),n[l].isActive=c;const d=o(u,l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n}}function bO(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!XM(e,t):!1}function _s(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function EO(){return{animate:_s(!0),whileInView:_s(),whileHover:_s(),whileTap:_s(),whileDrag:_s(),whileFocus:_s(),exit:_s()}}class MO extends vs{constructor(e){super(e),e.animationState||(e.animationState=SO(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Sf(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let TO=0;class AO extends vs{constructor(){super(...arguments),this.id=TO++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const CO={animation:{Feature:MO},exit:{Feature:AO}},rx=(t,e)=>Math.abs(t-e);function RO(t,e){const n=rx(t.x,e.x),r=rx(t.y,e.y);return Math.sqrt(n**2+r**2)}class M1{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Ch(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,f=RO(c.offset,{x:0,y:0})>=3;if(!u&&!f)return;const{point:d}=c,{timestamp:h}=Wt;this.history.push({...d,timestamp:h});const{onStart:g,onMove:v}=this.handlers;u||(g&&g(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Ah(u,this.transformPagePoint),lt.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:f,onSessionEnd:d}=this.handlers,h=Ch(c.type==="pointercancel"?this.lastMoveEventInfo:Ah(u,this.transformPagePoint),this.history);this.startEvent&&f&&f(c,h),d&&d(c,h)},!VM(e))return;this.handlers=n,this.transformPagePoint=r;const i=Mf(e),s=Ah(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Wt;this.history=[{...o,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,Ch(s,this.history)),this.removeListeners=ts(ci(window,"pointermove",this.handlePointerMove),ci(window,"pointerup",this.handlePointerUp),ci(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),yi(this.updatePoint)}}function Ah(t,e){return e?{point:e(t.point)}:t}function ix(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Ch({point:t},e){return{point:t,delta:ix(t,T1(e)),offset:ix(t,PO(e)),velocity:LO(e,.1)}}function PO(t){return t[0]}function T1(t){return t[t.length-1]}function LO(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=T1(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Hs(e)));)n--;if(!r)return{x:0,y:0};const s=ui(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function Wn(t){return t.max-t.min}function Cm(t,e=0,n=.01){return Math.abs(t-e)<=n}function sx(t,e,n,r=.5){t.origin=r,t.originPoint=_t(e.min,e.max,t.origin),t.scale=Wn(n)/Wn(e),(Cm(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=_t(n.min,n.max,t.origin)-t.originPoint,(Cm(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Nl(t,e,n,r){sx(t.x,e.x,n.x,r?r.originX:void 0),sx(t.y,e.y,n.y,r?r.originY:void 0)}function ox(t,e,n){t.min=n.min+e.min,t.max=t.min+Wn(e)}function NO(t,e,n){ox(t.x,e.x,n.x),ox(t.y,e.y,n.y)}function ax(t,e,n){t.min=e.min-n.min,t.max=t.min+Wn(e)}function Dl(t,e,n){ax(t.x,e.x,n.x),ax(t.y,e.y,n.y)}function DO(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?_t(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?_t(n,t,r.max):Math.min(t,n)),t}function lx(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function IO(t,{top:e,left:n,bottom:r,right:i}){return{x:lx(t.x,n,i),y:lx(t.y,e,r)}}function cx(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function OO(t,e){return{x:cx(t.x,e.x),y:cx(t.y,e.y)}}function UO(t,e){let n=.5;const r=Wn(t),i=Wn(e);return i>r?n=ac(e.min,e.max-r,t.min):r>i&&(n=ac(t.min,t.max-i,e.min)),ds(0,1,n)}function kO(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const Rm=.35;function FO(t=Rm){return t===!1?t=0:t===!0&&(t=Rm),{x:ux(t,"left","right"),y:ux(t,"top","bottom")}}function ux(t,e,n){return{min:dx(t,e),max:dx(t,n)}}function dx(t,e){return typeof t=="number"?t:t[e]||0}const fx=()=>({translate:0,scale:1,origin:0,originPoint:0}),qo=()=>({x:fx(),y:fx()}),hx=()=>({min:0,max:0}),Dt=()=>({x:hx(),y:hx()});function Rr(t){return[t("x"),t("y")]}function A1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function zO({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function BO(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Rh(t){return t===void 0||t===1}function Pm({scale:t,scaleX:e,scaleY:n}){return!Rh(t)||!Rh(e)||!Rh(n)}function Cs(t){return Pm(t)||C1(t)||t.z||t.rotate||t.rotateX||t.rotateY}function C1(t){return px(t.x)||px(t.y)}function px(t){return t&&t!=="0%"}function Od(t,e,n){const r=t-n,i=e*r;return n+i}function mx(t,e,n,r,i){return i!==void 0&&(t=Od(t,i,r)),Od(t,n,r)+e}function Lm(t,e=0,n=1,r,i){t.min=mx(t.min,e,n,r,i),t.max=mx(t.max,e,n,r,i)}function R1(t,{x:e,y:n}){Lm(t.x,e.translate,e.scale,e.originPoint),Lm(t.y,n.translate,n.scale,n.originPoint)}function VO(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Yo(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,R1(t,o)),r&&Cs(s.latestValues)&&Yo(t,s.latestValues))}e.x=gx(e.x),e.y=gx(e.y)}function gx(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Di(t,e){t.min=t.min+e,t.max=t.max+e}function vx(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,o=_t(t.min,t.max,s);Lm(t,e[n],e[r],o,e.scale)}const jO=["x","scaleX","originX"],HO=["y","scaleY","originY"];function Yo(t,e){vx(t.x,e,jO),vx(t.y,e,HO)}function P1(t,e){return A1(BO(t.getBoundingClientRect(),e))}function GO(t,e,n){const r=P1(t,n),{scroll:i}=e;return i&&(Di(r.x,i.offset.x),Di(r.y,i.offset.y)),r}const WO=new WeakMap;class XO{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dt(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=l=>{this.stopAnimation(),n&&this.snapToCursor(Mf(l,"page").point)},s=(l,c)=>{const{drag:u,dragPropagation:f,onDragStart:d}=this.getProps();if(u&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=HM(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rr(g=>{let v=this.getAxisMotionValue(g).get()||0;if(Fr.test(v)){const{projection:m}=this.visualElement;if(m&&m.layout){const p=m.layout.layoutBox[g];p&&(v=Wn(p)*(parseFloat(v)/100))}}this.originPoint[g]=v}),d&&lt.update(()=>d(l,c),!1,!0);const{animationState:h}=this.visualElement;h&&h.setActive("whileDrag",!0)},o=(l,c)=>{const{dragPropagation:u,dragDirectionLock:f,onDirectionLock:d,onDrag:h}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:g}=c;if(f&&this.currentDirection===null){this.currentDirection=$O(g),this.currentDirection!==null&&d&&d(this.currentDirection);return}this.updateAxis("x",c.point,g),this.updateAxis("y",c.point,g),this.visualElement.render(),h&&h(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new M1(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&lt.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!lu(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=DO(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&Xo(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=IO(r.layoutBox,e):this.constraints=!1,this.elastic=FO(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Rr(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=kO(r.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Xo(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=GO(r,i.root,this.visualElement.getTransformPagePoint());let o=OO(i.layout.layoutBox,s);if(n){const a=n(zO(o));this.hasMutatedConstraints=!!a,a&&(o=A1(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Rr(u=>{if(!lu(u,n,this.currentDirection))return;let f=l&&l[u]||{};o&&(f={min:0,max:0});const d=i?200:1e6,h=i?40:1e7,g={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,g)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(Mv(e,r,0,n))}stopAnimation(){Rr(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Rr(n=>{const{drag:r}=this.getProps();if(!lu(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-_t(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Xo(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rr(o=>{const a=this.getAxisMotionValue(o);if(a){const l=a.get();i[o]=UO({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Rr(o=>{if(!lu(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(_t(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;WO.set(this.visualElement,this);const e=this.visualElement.current,n=ci(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Xo(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const o=oi(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Rr(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=Rm,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function lu(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function $O(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class qO extends vs{constructor(e){super(e),this.removeGroupControls=Ct,this.removeListeners=Ct,this.controls=new XO(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Ct}unmount(){this.removeGroupControls(),this.removeListeners()}}const yx=t=>(e,n)=>{t&&lt.update(()=>t(e,n))};class YO extends vs{constructor(){super(...arguments),this.removePointerDownListener=Ct}onPointerDown(e){this.session=new M1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:yx(e),onStart:yx(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&lt.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=ci(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function KO(){const t=b.useContext(_f);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=b.useId();return b.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Xu={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function xx(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const tl={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ie.test(t))t=parseFloat(t);else return t;const n=xx(t,e.target.x),r=xx(t,e.target.y);return`${n}% ${r}%`}},QO={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=fs.parse(t);if(i.length>5)return r;const s=fs.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=_t(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class ZO extends ue.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;oI(JO),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Xu.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||lt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function L1(t){const[e,n]=KO(),r=b.useContext(fv);return ue.createElement(ZO,{...t,layoutGroup:r,switchLayoutGroup:b.useContext(TM),isPresent:e,safeToRemove:n})}const JO={borderRadius:{...tl,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:tl,borderTopRightRadius:tl,borderBottomLeftRadius:tl,borderBottomRightRadius:tl,boxShadow:QO},N1=["TopLeft","TopRight","BottomLeft","BottomRight"],eU=N1.length,_x=t=>typeof t=="string"?parseFloat(t):t,wx=t=>typeof t=="number"||Ie.test(t);function tU(t,e,n,r,i,s){i?(t.opacity=_t(0,n.opacity!==void 0?n.opacity:1,nU(r)),t.opacityExit=_t(e.opacity!==void 0?e.opacity:1,0,rU(r))):s&&(t.opacity=_t(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<eU;o++){const a=`border${N1[o]}Radius`;let l=Sx(e,a),c=Sx(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||wx(l)===wx(c)?(t[a]=Math.max(_t(_x(l),_x(c),r),0),(Fr.test(c)||Fr.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=_t(e.rotate||0,n.rotate||0,r))}function Sx(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const nU=D1(0,.5,wv),rU=D1(.5,.95,Ct);function D1(t,e,n){return r=>r<t?0:r>e?1:n(ac(t,e,r))}function bx(t,e){t.min=e.min,t.max=e.max}function Yn(t,e){bx(t.x,e.x),bx(t.y,e.y)}function Ex(t,e,n,r,i){return t-=e,t=Od(t,1/n,r),i!==void 0&&(t=Od(t,1/i,r)),t}function iU(t,e=0,n=1,r=.5,i,s=t,o=t){if(Fr.test(e)&&(e=parseFloat(e),e=_t(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=_t(s.min,s.max,r);t===s&&(a-=e),t.min=Ex(t.min,e,n,a,i),t.max=Ex(t.max,e,n,a,i)}function Mx(t,e,[n,r,i],s,o){iU(t,e[n],e[r],e[i],e.scale,s,o)}const sU=["x","scaleX","originX"],oU=["y","scaleY","originY"];function Tx(t,e,n,r){Mx(t.x,e,sU,n?n.x:void 0,r?r.x:void 0),Mx(t.y,e,oU,n?n.y:void 0,r?r.y:void 0)}function Ax(t){return t.translate===0&&t.scale===1}function I1(t){return Ax(t.x)&&Ax(t.y)}function aU(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function O1(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function Cx(t){return Wn(t.x)/Wn(t.y)}class lU{constructor(){this.members=[]}add(e){Tv(this.members,e),e.scheduleRender()}remove(e){if(Av(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Rx(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(r+=`scale(${o}, ${a})`),r||"none"}const cU=(t,e)=>t.depth-e.depth;class uU{constructor(){this.children=[],this.isDirty=!1}add(e){Tv(this.children,e),this.isDirty=!0}remove(e){Av(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(cU),this.isDirty=!1,this.children.forEach(e)}}function dU(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(yi(r),t(s-e))};return lt.read(r,!0),()=>yi(r)}function fU(t){window.MotionDebug&&window.MotionDebug.record(t)}function hU(t){return t instanceof SVGElement&&t.tagName!=="svg"}function pU(t,e,n){const r=Rn(t)?t:Ta(t);return r.start(Mv("",r,e,n)),r.animation}const Px=["","X","Y","Z"],Lx=1e3;let mU=0;const Rs={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function U1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=mU++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{Rs.totalNodes=Rs.resolvedTargetDeltas=Rs.recalculatedProjection=0,this.nodes.forEach(yU),this.nodes.forEach(bU),this.nodes.forEach(EU),this.nodes.forEach(xU),fU(Rs)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new uU)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new Cv),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=hU(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=dU(d,250),Xu.hasAnimatedSinceResize&&(Xu.hasAnimatedSinceResize=!1,this.nodes.forEach(Dx))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:h,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||RU,{onLayoutAnimationStart:m,onLayoutAnimationComplete:p}=u.getProps(),y=!this.targetLayout||!O1(this.targetLayout,g)||h,x=!d&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,x);const w={..._1(v,"layout"),onPlay:m,onComplete:p};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else d||Dx(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,yi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(MU),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Nx);return}this.isUpdating||this.nodes.forEach(wU),this.isUpdating=!1,this.nodes.forEach(SU),this.nodes.forEach(gU),this.nodes.forEach(vU),this.clearAllSnapshots();const a=performance.now();Wt.delta=ds(0,1e3/60,a-Wt.timestamp),Wt.timestamp=a,Wt.isProcessing=!0,xh.update.process(Wt),xh.preRender.process(Wt),xh.render.process(Wt),Wt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(_U),this.sharedNodes.forEach(TU)}scheduleUpdateProjection(){lt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){lt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:o,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!I1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;o&&(a||Cs(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),PU(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Dt();const a=o.measureViewportBox(),{scroll:l}=this.root;return l&&(Di(a.x,l.offset.x),Di(a.y,l.offset.y)),a}removeElementScroll(o){const a=Dt();Yn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){Yn(a,o);const{scroll:d}=this.root;d&&(Di(a.x,-d.offset.x),Di(a.y,-d.offset.y))}Di(a.x,u.offset.x),Di(a.y,u.offset.y)}}return a}applyTransform(o,a=!1){const l=Dt();Yn(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Yo(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Cs(u.latestValues)&&Yo(l,u.latestValues)}return Cs(this.latestValues)&&Yo(l,this.latestValues),l}removeTransform(o){const a=Dt();Yn(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Cs(c.latestValues))continue;Pm(c.latestValues)&&c.updateSnapshot();const u=Dt(),f=c.measurePageBox();Yn(u,f),Tx(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Cs(this.latestValues)&&Tx(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=Wt.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Dl(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Dt(),this.targetWithTransforms=Dt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),NO(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yn(this.target,this.layout.layoutBox),R1(this.target,this.targetDelta)):Yn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dt(),this.relativeTargetOrigin=Dt(),Dl(this.relativeTargetOrigin,this.target,h.target),Yn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rs.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Pm(this.parent.latestValues)||C1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Wt.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Yn(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,h=this.treeScale.y;VO(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:g}=a;if(!g){this.projectionTransform&&(this.projectionDelta=qo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=qo(),this.projectionDeltaWithTransform=qo());const v=this.projectionTransform;Nl(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=Rx(this.projectionDelta,this.treeScale),(this.projectionTransform!==v||this.treeScale.x!==d||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),Rs.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),o){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=qo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const d=Dt(),h=l?l.source:void 0,g=this.layout?this.layout.source:void 0,v=h!==g,m=this.getStack(),p=!m||m.members.length<=1,y=!!(v&&!p&&this.options.crossfade===!0&&!this.path.some(CU));this.animationProgress=0;let x;this.mixTargetDelta=w=>{const S=w/1e3;Ix(f.x,o.x,S),Ix(f.y,o.y,S),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dl(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),AU(this.relativeTarget,this.relativeTargetOrigin,d,S),x&&aU(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Dt()),Yn(x,this.relativeTarget)),v&&(this.animationValues=u,tU(u,c,this.latestValues,S,y,p)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(yi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lt.update(()=>{Xu.hasAnimatedSinceResize=!0,this.currentAnimation=pU(0,Lx,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Lx),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&k1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Dt();const f=Wn(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+f;const d=Wn(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+d}Yn(a,l),Yo(a,u),Nl(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new lU),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<Px.length;u++){const f="rotate"+Px[u];l[f]&&(c[f]=l[f],o.setStaticValue(f,0))}o.render();for(const u in c)o.setStaticValue(u,c[u]);o.scheduleRender()}getProjectionStyles(o={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Wu(o.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const v={};return this.options.layoutId&&(v.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,v.pointerEvents=Wu(o.pointerEvents)||""),this.hasProjected&&!Cs(this.latestValues)&&(v.transform=u?u({},""):"none",this.hasProjected=!1),v}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=Rx(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:h,y:g}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${g.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(a=d.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const v in Ad){if(d[v]===void 0)continue;const{correct:m,applyTo:p}=Ad[v],y=c.transform==="none"?d[v]:m(d[v],f);if(p){const x=p.length;for(let w=0;w<x;w++)c[p[w]]=y}else c[v]=y}return this.options.layoutId&&(c.pointerEvents=f===this?Wu(o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Nx),this.root.sharedNodes.clear()}}}function gU(t){t.updateLayout()}function vU(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?Rr(f=>{const d=o?n.measuredBox[f]:n.layoutBox[f],h=Wn(d);d.min=r[f].min,d.max=d.min+h}):k1(s,n.layoutBox,r)&&Rr(f=>{const d=o?n.measuredBox[f]:n.layoutBox[f],h=Wn(r[f]);d.max=d.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+h)});const a=qo();Nl(a,r,n.layoutBox);const l=qo();o?Nl(l,t.applyTransform(i,!0),n.measuredBox):Nl(l,r,n.layoutBox);const c=!I1(a);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:h}=f;if(d&&h){const g=Dt();Dl(g,n.layoutBox,d.layoutBox);const v=Dt();Dl(v,r,h.layoutBox),O1(g,v)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=g,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function yU(t){Rs.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function xU(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function _U(t){t.clearSnapshot()}function Nx(t){t.clearMeasurements()}function wU(t){t.isLayoutDirty=!1}function SU(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Dx(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bU(t){t.resolveTargetDelta()}function EU(t){t.calcProjection()}function MU(t){t.resetRotation()}function TU(t){t.removeLeadSnapshot()}function Ix(t,e,n){t.translate=_t(e.translate,0,n),t.scale=_t(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Ox(t,e,n,r){t.min=_t(e.min,n.min,r),t.max=_t(e.max,n.max,r)}function AU(t,e,n,r){Ox(t.x,e.x,n.x,r),Ox(t.y,e.y,n.y,r)}function CU(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const RU={duration:.45,ease:[.4,0,.1,1]},Ux=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),kx=Ux("applewebkit/")&&!Ux("chrome/")?Math.round:Ct;function Fx(t){t.min=kx(t.min),t.max=kx(t.max)}function PU(t){Fx(t.x),Fx(t.y)}function k1(t,e,n){return t==="position"||t==="preserve-aspect"&&!Cm(Cx(e),Cx(n),.2)}const LU=U1({attachResizeListener:(t,e)=>oi(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Ph={current:void 0},F1=U1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Ph.current){const t=new LU({});t.mount(window),t.setOptions({layoutScroll:!0}),Ph.current=t}return Ph.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),NU={pan:{Feature:YO},drag:{Feature:qO,ProjectionNode:F1,MeasureLayout:L1}},DU=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function IU(t){const e=DU.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function Nm(t,e,n=1){const[r,i]=IU(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return w1(o)?parseFloat(o):o}else return wm(i)?Nm(i,e,n+1):i}function OU(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!wm(s))return;const o=Nm(s,r);o&&i.set(o)});for(const i in e){const s=e[i];if(!wm(s))continue;const o=Nm(s,r);o&&(e[i]=o,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const UU=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),z1=t=>UU.has(t),kU=t=>Object.keys(t).some(z1),zx=t=>t===uo||t===Ie,Bx=(t,e)=>parseFloat(t.split(", ")[e]),Vx=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Bx(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?Bx(s[1],t):0}},FU=new Set(["x","y","z"]),zU=wc.filter(t=>!FU.has(t));function BU(t){const e=[];return zU.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Aa={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Vx(4,13),y:Vx(5,14)};Aa.translateX=Aa.x;Aa.translateY=Aa.y;const VU=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Aa[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Aa[c](l,s)}),t},jU=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(z1);let s=[],o=!1;const a=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],f=el(u);const d=e[l];let h;if(Rd(d)){const g=d.length,v=d[0]===null?1:0;u=d[v],f=el(u);for(let m=v;m<g&&d[m]!==null;m++)h?Pd(el(d[m])===h):h=el(d[m])}else h=el(d);if(f!==h)if(zx(f)&&zx(h)){const g=c.get();typeof g=="string"&&c.set(parseFloat(g)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&h===Ie&&(e[l]=d.map(parseFloat))}else f!=null&&f.transform&&(h!=null&&h.transform)&&(u===0||d===0)?u===0?c.set(h.transform(u)):e[l]=f.transform(d):(o||(s=BU(t),o=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=VU(e,t,a);return s.length&&s.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),wf&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function HU(t,e,n,r){return kU(e)?jU(t,e,n,r):{target:e,transitionEnd:r}}const GU=(t,e,n,r)=>{const i=OU(t,e,r);return e=i.target,r=i.transitionEnd,HU(t,e,n,r)},Dm={current:null},B1={current:!1};function WU(){if(B1.current=!0,!!wf)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Dm.current=t.matches;t.addListener(e),e()}else Dm.current=!1}function XU(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],o=n[i];if(Rn(s))t.addValue(i,s),Id(r)&&r.add(i);else if(Rn(o))t.addValue(i,Ta(s,{owner:t})),Id(r)&&r.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,Ta(a!==void 0?a:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const jx=new WeakMap,V1=Object.keys(oc),$U=V1.length,Hx=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],qU=dv.length;class YU{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>lt.render(this.render,!1,!0);const{latestValues:a,renderState:l}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=bf(n),this.isVariantNode=MM(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const d=u[f];a[f]!==void 0&&Rn(d)&&(d.set(a[f],!1),Id(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,jx.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),B1.current||WU(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Dm.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jx.delete(this.current),this.projection&&this.projection.unmount(),yi(this.notifyUpdate),yi(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=co.has(e),i=n.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&lt.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let o,a;for(let l=0;l<$U;l++){const c=V1[l],{isEnabled:u,Feature:f,ProjectionNode:d,MeasureLayout:h}=oc[c];d&&(o=d),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),h&&(a=h))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&Xo(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:h})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<Hx.length;r++){const i=Hx[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=XU(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<qU;r++){const i=dv[r],s=this.props[i];(sc(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Ta(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=_v(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Rn(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new Cv),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class j1 extends YU{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let o=pO(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),o&&(o=i(o))),s){fO(this,r,o);const a=GU(this,r,o,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function KU(t){return window.getComputedStyle(t)}class QU extends j1{readValueFromInstance(e,n){if(co.has(n)){const r=Ev(n);return r&&r.default||0}else{const r=KU(e),i=(RM(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return P1(e,n)}build(e,n,r,i){pv(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return xv(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Rn(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){OM(e,n,r,i)}}class ZU extends j1{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(co.has(n)){const r=Ev(n);return r&&r.default||0}return n=UM.has(n)?n:yv(n),e.getAttribute(n)}measureInstanceViewportBox(){return Dt()}scrapeMotionValuesFromProps(e,n){return FM(e,n)}build(e,n,r,i){gv(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){kM(e,n,r,i)}mount(e){this.isSVGTag=vv(e.tagName),super.mount(e)}}const JU=(t,e)=>hv(t)?new ZU(e,{enableHardwareAcceleration:!1}):new QU(e,{enableHardwareAcceleration:!0}),ek={layout:{ProjectionNode:F1,MeasureLayout:L1}},tk={...CO,...YI,...NU,...ek},Ud=iI((t,e)=>UI(t,e,tk,JU));function H1(){const t=b.useRef(!1);return cv(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function nk(){const t=H1(),[e,n]=b.useState(0),r=b.useCallback(()=>{t.current&&n(e+1)},[e]);return[b.useCallback(()=>lt.postRender(r),[r]),e]}class rk extends b.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function ik({children:t,isPresent:e}){const n=b.useId(),r=b.useRef(null),i=b.useRef({width:0,height:0,top:0,left:0});return b.useInsertionEffect(()=>{const{width:s,height:o,top:a,left:l}=i.current;if(e||!r.current||!s||!o)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${o}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),b.createElement(rk,{isPresent:e,childRef:r,sizeRef:i},b.cloneElement(t,{ref:r}))}const Lh=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=zM(sk),l=b.useId(),c=b.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{a.set(u,!0);for(const f of a.values())if(!f)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),s?void 0:[n]);return b.useMemo(()=>{a.forEach((u,f)=>a.set(f,!1))},[n]),b.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=b.createElement(ik,{isPresent:n},t)),b.createElement(_f.Provider,{value:c},t)};function sk(){return new Map}function ok(t){return b.useEffect(()=>()=>t(),[])}const Lo=t=>t.key||"";function ak(t,e){t.forEach(n=>{const r=Lo(n);e.set(r,n)})}function lk(t){const e=[];return b.Children.forEach(t,n=>{b.isValidElement(n)&&e.push(n)}),e}const ck=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:o="sync"})=>{const a=b.useContext(fv).forceRender||nk()[0],l=H1(),c=lk(t);let u=c;const f=b.useRef(new Map).current,d=b.useRef(u),h=b.useRef(new Map).current,g=b.useRef(!0);if(cv(()=>{g.current=!1,ak(c,h),d.current=u}),ok(()=>{g.current=!0,h.clear(),f.clear()}),g.current)return b.createElement(b.Fragment,null,u.map(y=>b.createElement(Lh,{key:Lo(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:o},y)));u=[...u];const v=d.current.map(Lo),m=c.map(Lo),p=v.length;for(let y=0;y<p;y++){const x=v[y];m.indexOf(x)===-1&&!f.has(x)&&f.set(x,void 0)}return o==="wait"&&f.size&&(u=[]),f.forEach((y,x)=>{if(m.indexOf(x)!==-1)return;const w=h.get(x);if(!w)return;const S=v.indexOf(x);let M=y;if(!M){const T=()=>{h.delete(x),f.delete(x);const C=d.current.findIndex(E=>E.key===x);if(d.current.splice(C,1),!f.size){if(d.current=c,l.current===!1)return;a(),r&&r()}};M=b.createElement(Lh,{key:Lo(w),isPresent:!1,onExitComplete:T,custom:e,presenceAffectsLayout:s,mode:o},w),f.set(x,M)}u.splice(S,0,M)}),u=u.map(y=>{const x=y.key;return f.has(x)?y:b.createElement(Lh,{key:Lo(y),isPresent:!0,presenceAffectsLayout:s,mode:o},y)}),b.createElement(b.Fragment,null,f.size?u:u.map(y=>b.cloneElement(y)))},vr=({className:t="",color:e="bg-primary",size:n=300,top:r,left:i,right:s,bottom:o,delay:a=0,opacity:l=.7,blur:c="xl",animate:u=!0})=>{const f={animationDelay:`${a}s`,width:`${n}px`,height:`${n}px`,top:r,left:i,right:s,bottom:o,opacity:l},d={background:`radial-gradient(circle at 30% 30%, ${e}, transparent 70%)`,...f};return _.jsx("div",{className:`absolute rounded-full filter blur-${c} ${u?"animate-blob":""} ${t}`,style:{...d,mixBlendMode:"screen"}})},No=({onClick:t,className:e,children:n})=>{const r=b.useRef(null),i=s=>{const o=s.currentTarget,a=document.createElement("span"),l=o.getBoundingClientRect(),c=Math.max(l.width,l.height)*2,u=s.clientX-l.left-c/2,f=s.clientY-l.top-c/2;a.style.width=a.style.height=`${c}px`,a.style.left=`${u}px`,a.style.top=`${f}px`,a.className="ripple";const d=o.getElementsByClassName("ripple");for(;d.length>0;)d[0].remove();o.appendChild(a),t&&t(),setTimeout(()=>{a.parentNode===o&&o.removeChild(a)},600)};return _.jsxs("button",{ref:r,onClick:i,className:st("relative overflow-hidden px-8 py-4 rounded-xl","bg-gradient-to-r from-blue-500 to-violet-600","text-white font-bold font-poppins","shadow-[0_0_15px_rgba(56,189,248,0.5)]","border border-blue-400/20","transform transition-all duration-300","hover:shadow-[0_0_25px_rgba(124,58,237,0.7)]","hover:scale-[1.02] active:scale-95","flex items-center justify-center gap-2","group animate-pulse-glow",e),children:[_.jsx("span",{className:`flex items-center justify-center bg-white/10 rounded-full p-1.5 \r
        transform transition-all duration-300 group-hover:bg-white/20`,children:_.jsx(xd,{className:"h-4 w-4"})}),_.jsx("span",{className:"tracking-wide",children:n}),_.jsx("span",{className:`absolute inset-0 bg-gradient-to-r from-blue-600/30 via-transparent to-violet-600/30 \r
        opacity-0 group-hover:opacity-100 transition-opacity duration-500`})]})};var G1={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(eA,function(){return function(n){function r(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return n[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var i={};return r.m=n,r.c=i,r.p="dist/",r(0)}([function(n,r,i){function s(L){return L&&L.__esModule?L:{default:L}}var o=Object.assign||function(L){for(var z=1;z<arguments.length;z++){var H=arguments[z];for(var j in H)Object.prototype.hasOwnProperty.call(H,j)&&(L[j]=H[j])}return L},a=i(1),l=(s(a),i(6)),c=s(l),u=i(7),f=s(u),d=i(8),h=s(d),g=i(9),v=s(g),m=i(10),p=s(m),y=i(11),x=s(y),w=i(14),S=s(w),M=[],T=!1,C={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},E=function(){var L=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(L&&(T=!0),T)return M=(0,x.default)(M,C),(0,p.default)(M,C.once),M},A=function(){M=(0,S.default)(),E()},k=function(){M.forEach(function(L,z){L.node.removeAttribute("data-aos"),L.node.removeAttribute("data-aos-easing"),L.node.removeAttribute("data-aos-duration"),L.node.removeAttribute("data-aos-delay")})},I=function(L){return L===!0||L==="mobile"&&v.default.mobile()||L==="phone"&&v.default.phone()||L==="tablet"&&v.default.tablet()||typeof L=="function"&&L()===!0},O=function(L){C=o(C,L),M=(0,S.default)();var z=document.all&&!window.atob;return I(C.disable)||z?k():(C.disableMutationObserver||h.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),C.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",C.easing),document.querySelector("body").setAttribute("data-aos-duration",C.duration),document.querySelector("body").setAttribute("data-aos-delay",C.delay),C.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?E(!0):C.startEvent==="load"?window.addEventListener(C.startEvent,function(){E(!0)}):document.addEventListener(C.startEvent,function(){E(!0)}),window.addEventListener("resize",(0,f.default)(E,C.debounceDelay,!0)),window.addEventListener("orientationchange",(0,f.default)(E,C.debounceDelay,!0)),window.addEventListener("scroll",(0,c.default)(function(){(0,p.default)(M,C.once)},C.throttleDelay)),C.disableMutationObserver||h.default.ready("[data-aos]",A),M)};n.exports={init:O,refresh:E,refreshHard:A}},function(n,r){},,,,,function(n,r){(function(i){function s(I,O,L){function z(he){var Te=te,be=oe;return te=oe=void 0,$e=he,ve=I.apply(be,Te)}function H(he){return $e=he,pe=setTimeout(V,O),Me?z(he):ve}function j(he){var Te=he-Ae,be=he-$e,tt=O-Te;return G?A(tt,se-be):tt}function N(he){var Te=he-Ae,be=he-$e;return Ae===void 0||Te>=O||Te<0||G&&be>=se}function V(){var he=k();return N(he)?W(he):void(pe=setTimeout(V,j(he)))}function W(he){return pe=void 0,Ne&&te?z(he):(te=oe=void 0,ve)}function U(){pe!==void 0&&clearTimeout(pe),$e=0,te=Ae=oe=pe=void 0}function B(){return pe===void 0?ve:W(k())}function ee(){var he=k(),Te=N(he);if(te=arguments,oe=this,Ae=he,Te){if(pe===void 0)return H(Ae);if(G)return pe=setTimeout(V,O),z(Ae)}return pe===void 0&&(pe=setTimeout(V,O)),ve}var te,oe,se,ve,pe,Ae,$e=0,Me=!1,G=!1,Ne=!0;if(typeof I!="function")throw new TypeError(d);return O=u(O)||0,a(L)&&(Me=!!L.leading,G="maxWait"in L,se=G?E(u(L.maxWait)||0,O):se,Ne="trailing"in L?!!L.trailing:Ne),ee.cancel=U,ee.flush=B,ee}function o(I,O,L){var z=!0,H=!0;if(typeof I!="function")throw new TypeError(d);return a(L)&&(z="leading"in L?!!L.leading:z,H="trailing"in L?!!L.trailing:H),s(I,O,{leading:z,maxWait:O,trailing:H})}function a(I){var O=typeof I>"u"?"undefined":f(I);return!!I&&(O=="object"||O=="function")}function l(I){return!!I&&(typeof I>"u"?"undefined":f(I))=="object"}function c(I){return(typeof I>"u"?"undefined":f(I))=="symbol"||l(I)&&C.call(I)==g}function u(I){if(typeof I=="number")return I;if(c(I))return h;if(a(I)){var O=typeof I.valueOf=="function"?I.valueOf():I;I=a(O)?O+"":O}if(typeof I!="string")return I===0?I:+I;I=I.replace(v,"");var L=p.test(I);return L||y.test(I)?x(I.slice(2),L?2:8):m.test(I)?h:+I}var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I},d="Expected a function",h=NaN,g="[object Symbol]",v=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,y=/^0o[0-7]+$/i,x=parseInt,w=(typeof i>"u"?"undefined":f(i))=="object"&&i&&i.Object===Object&&i,S=(typeof self>"u"?"undefined":f(self))=="object"&&self&&self.Object===Object&&self,M=w||S||Function("return this")(),T=Object.prototype,C=T.toString,E=Math.max,A=Math.min,k=function(){return M.Date.now()};n.exports=o}).call(r,function(){return this}())},function(n,r){(function(i){function s(k,I,O){function L(Ne){var he=ee,Te=te;return ee=te=void 0,Ae=Ne,se=k.apply(Te,he)}function z(Ne){return Ae=Ne,ve=setTimeout(N,I),$e?L(Ne):se}function H(Ne){var he=Ne-pe,Te=Ne-Ae,be=I-he;return Me?E(be,oe-Te):be}function j(Ne){var he=Ne-pe,Te=Ne-Ae;return pe===void 0||he>=I||he<0||Me&&Te>=oe}function N(){var Ne=A();return j(Ne)?V(Ne):void(ve=setTimeout(N,H(Ne)))}function V(Ne){return ve=void 0,G&&ee?L(Ne):(ee=te=void 0,se)}function W(){ve!==void 0&&clearTimeout(ve),Ae=0,ee=pe=te=ve=void 0}function U(){return ve===void 0?se:V(A())}function B(){var Ne=A(),he=j(Ne);if(ee=arguments,te=this,pe=Ne,he){if(ve===void 0)return z(pe);if(Me)return ve=setTimeout(N,I),L(pe)}return ve===void 0&&(ve=setTimeout(N,I)),se}var ee,te,oe,se,ve,pe,Ae=0,$e=!1,Me=!1,G=!0;if(typeof k!="function")throw new TypeError(f);return I=c(I)||0,o(O)&&($e=!!O.leading,Me="maxWait"in O,oe=Me?C(c(O.maxWait)||0,I):oe,G="trailing"in O?!!O.trailing:G),B.cancel=W,B.flush=U,B}function o(k){var I=typeof k>"u"?"undefined":u(k);return!!k&&(I=="object"||I=="function")}function a(k){return!!k&&(typeof k>"u"?"undefined":u(k))=="object"}function l(k){return(typeof k>"u"?"undefined":u(k))=="symbol"||a(k)&&T.call(k)==h}function c(k){if(typeof k=="number")return k;if(l(k))return d;if(o(k)){var I=typeof k.valueOf=="function"?k.valueOf():k;k=o(I)?I+"":I}if(typeof k!="string")return k===0?k:+k;k=k.replace(g,"");var O=m.test(k);return O||p.test(k)?y(k.slice(2),O?2:8):v.test(k)?d:+k}var u=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k},f="Expected a function",d=NaN,h="[object Symbol]",g=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,p=/^0o[0-7]+$/i,y=parseInt,x=(typeof i>"u"?"undefined":u(i))=="object"&&i&&i.Object===Object&&i,w=(typeof self>"u"?"undefined":u(self))=="object"&&self&&self.Object===Object&&self,S=x||w||Function("return this")(),M=Object.prototype,T=M.toString,C=Math.max,E=Math.min,A=function(){return S.Date.now()};n.exports=s}).call(r,function(){return this}())},function(n,r){function i(u){var f=void 0,d=void 0;for(f=0;f<u.length;f+=1)if(d=u[f],d.dataset&&d.dataset.aos||d.children&&i(d.children))return!0;return!1}function s(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function o(){return!!s()}function a(u,f){var d=window.document,h=s(),g=new h(l);c=f,g.observe(d.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function l(u){u&&u.forEach(function(f){var d=Array.prototype.slice.call(f.addedNodes),h=Array.prototype.slice.call(f.removedNodes),g=d.concat(h);if(i(g))return c()})}Object.defineProperty(r,"__esModule",{value:!0});var c=function(){};r.default={isSupported:o,ready:a}},function(n,r){function i(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")}function s(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function d(h,g){for(var v=0;v<g.length;v++){var m=g[v];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(h,m.key,m)}}return function(h,g,v){return g&&d(h.prototype,g),v&&d(h,v),h}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,l=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,u=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=function(){function d(){i(this,d)}return o(d,[{key:"phone",value:function(){var h=s();return!(!a.test(h)&&!l.test(h.substr(0,4)))}},{key:"mobile",value:function(){var h=s();return!(!c.test(h)&&!u.test(h.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),d}();r.default=new f},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(o,a,l){var c=o.node.getAttribute("data-aos-once");a>o.position?o.node.classList.add("aos-animate"):typeof c<"u"&&(c==="false"||!l&&c!=="true")&&o.node.classList.remove("aos-animate")},s=function(o,a){var l=window.pageYOffset,c=window.innerHeight;o.forEach(function(u,f){i(u,c+l,a)})};r.default=s},function(n,r,i){function s(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),a=s(o),l=function(c,u){return c.forEach(function(f,d){f.node.classList.add("aos-init"),f.position=(0,a.default)(f.node,u.offset)}),c};r.default=l},function(n,r,i){function s(c){return c&&c.__esModule?c:{default:c}}Object.defineProperty(r,"__esModule",{value:!0});var o=i(13),a=s(o),l=function(c,u){var f=0,d=0,h=window.innerHeight,g={offset:c.getAttribute("data-aos-offset"),anchor:c.getAttribute("data-aos-anchor"),anchorPlacement:c.getAttribute("data-aos-anchor-placement")};switch(g.offset&&!isNaN(g.offset)&&(d=parseInt(g.offset)),g.anchor&&document.querySelectorAll(g.anchor)&&(c=document.querySelectorAll(g.anchor)[0]),f=(0,a.default)(c).top,g.anchorPlacement){case"top-bottom":break;case"center-bottom":f+=c.offsetHeight/2;break;case"bottom-bottom":f+=c.offsetHeight;break;case"top-center":f+=h/2;break;case"bottom-center":f+=h/2+c.offsetHeight;break;case"center-center":f+=h/2+c.offsetHeight/2;break;case"top-top":f+=h;break;case"bottom-top":f+=c.offsetHeight+h;break;case"center-top":f+=c.offsetHeight/2+h}return g.anchorPlacement||g.offset||isNaN(u)||(d=u),f+d};r.default=l},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s){for(var o=0,a=0;s&&!isNaN(s.offsetLeft)&&!isNaN(s.offsetTop);)o+=s.offsetLeft-(s.tagName!="BODY"?s.scrollLeft:0),a+=s.offsetTop-(s.tagName!="BODY"?s.scrollTop:0),s=s.offsetParent;return{top:a,left:o}};r.default=i},function(n,r){Object.defineProperty(r,"__esModule",{value:!0});var i=function(s){return s=s||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(s,function(o){return{node:o}})};r.default=i}])})})(G1);var uk=G1.exports;const dk=ro(uk),fk=({onStartLearning:t})=>(b.useEffect(()=>{dk.init({duration:1e3,once:!0,easing:"ease-out"})},[]),_.jsxs("section",{className:"min-h-screen relative flex flex-col items-center justify-center overflow-hidden",children:[_.jsx("div",{className:"absolute inset-0 -z-10 bg-gradient-to-b from-background via-background/95 to-background/90"}),_.jsx(vr,{color:"bg-purple-500/30",size:500,top:"-10%",left:"-5%",delay:0,blur:"2xl"}),_.jsx(vr,{color:"bg-cyan-500/30",size:400,bottom:"-5%",right:"-5%",delay:1.5,blur:"2xl"}),_.jsx(vr,{color:"bg-pink-500/30",size:250,top:"30%",right:"10%",delay:2.2,blur:"2xl",opacity:.5}),_.jsxs("div",{className:"particle-container absolute inset-0 -z-5",children:[Array.from({length:20}).map((e,n)=>_.jsx("div",{className:"particle absolute rounded-full",style:{width:`${Math.random()*8+3}px`,height:`${Math.random()*8+3}px`,top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animation:`float ${Math.random()*10+10}s linear infinite`,animationDelay:`${Math.random()*5}s`,opacity:Math.random()*.5+.3,background:`hsl(${Math.random()*60+220}, 80%, 70%)`}},n)),Array.from({length:8}).map((e,n)=>_.jsx("div",{className:"dna-helix absolute",style:{width:`${Math.random()*20+10}px`,height:`${Math.random()*40+20}px`,borderRadius:"40%",top:`${Math.random()*100}%`,left:`${Math.random()*100}%`,animation:`float ${Math.random()*15+15}s linear infinite, pulse-glow 3s infinite alternate`,animationDelay:`${Math.random()*7}s`,opacity:Math.random()*.4+.2,background:`linear-gradient(135deg, hsla(${Math.random()*60+220}, 80%, 65%, 0.5), hsla(${Math.random()*60+280}, 90%, 75%, 0.3))`,boxShadow:`0 0 15px hsla(${Math.random()*60+240}, 90%, 70%, 0.4)`,transform:`rotate(${Math.random()*180}deg)`}},n+20))]}),_.jsx("div",{className:"container mx-auto px-4 z-10 text-center max-w-4xl",children:_.jsxs(Ud.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"space-y-8",children:[_.jsx("h1",{className:"font-orbitron text-5xl md:text-7xl font-bold mb-4 tracking-tight","data-aos":"fade-down",children:_.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-primary via-secondary to-primary inline-block pb-2",children:"Protein Synthesis"})}),_.jsx("h2",{className:"text-xl md:text-2xl text-white/90 font-light","data-aos":"fade-up","data-aos-delay":"200",children:"An immersive journey into the molecular machinery of life"}),_.jsx("div",{className:"mt-8 bg-card/30 backdrop-blur-md border border-primary/10 rounded-xl p-6 shadow-lg max-w-2xl mx-auto","data-aos":"zoom-in","data-aos-delay":"400",children:_.jsx("p",{className:"text-lg text-white/80 leading-relaxed",children:"Ever wondered how your cells transform genetic code into the proteins that power your body? Join us on a fascinating adventure inside your cells where DNA becomes life! With stunning visualizations and interactive models, you'll discover how the molecular machinery reads DNA and assembles proteinsthe building blocks of all living things."})}),_.jsx("div",{className:"mt-12 flex justify-center","data-aos":"fade-up","data-aos-delay":"600",children:_.jsx(No,{onClick:t,className:"py-5 px-10 text-lg font-poppins",children:"Start Learning"})}),_.jsx("div",{className:"mt-16","data-aos":"fade-up","data-aos-delay":"800",children:_.jsxs("div",{className:"flex flex-col items-center",children:[_.jsxs(Ud.div,{animate:{y:[0,10,0]},transition:{repeat:1/0,duration:2.5,ease:"easeInOut"},className:"relative",children:[_.jsx("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-secondary",children:_.jsx("path",{d:"M12 4V20M12 20L18 14M12 20L6 14",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"glow-effect"})}),_.jsx("div",{className:"absolute inset-0 bg-secondary/20 blur-md rounded-full -z-10"})]}),_.jsx("span",{className:"mt-2 text-secondary text-sm font-medium uppercase tracking-widest",children:"Begin Journey"})]})})]})})]}));/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Rv="155",hk=0,Gx=1,pk=2,W1=1,mk=2,ei=3,hs=0,Cn=1,ri=2,ns=0,sa=1,Wx=2,Xx=3,$x=4,gk=5,Do=100,vk=101,yk=102,qx=103,Yx=104,xk=200,_k=201,wk=202,Sk=203,X1=204,$1=205,bk=206,Ek=207,Mk=208,Tk=209,Ak=210,Ck=0,Rk=1,Pk=2,Im=3,Lk=4,Nk=5,Dk=6,Ik=7,Pv=0,Ok=1,Uk=2,rs=0,kk=1,Fk=2,zk=3,Bk=4,Vk=5,q1=300,Ca=301,Ra=302,Om=303,Um=304,Af=306,km=1e3,yr=1001,Fm=1002,mn=1003,Kx=1004,Nh=1005,er=1006,jk=1007,lc=1008,is=1009,Hk=1010,Gk=1011,Lv=1012,Y1=1013,Gi=1014,Wi=1015,cc=1016,K1=1017,Q1=1018,Gs=1020,Wk=1021,xr=1023,Xk=1024,$k=1025,Ws=1026,Pa=1027,qk=1028,Z1=1029,Yk=1030,J1=1031,eT=1033,Dh=33776,Ih=33777,Oh=33778,Uh=33779,Qx=35840,Zx=35841,Jx=35842,e_=35843,Kk=36196,t_=37492,n_=37496,r_=37808,i_=37809,s_=37810,o_=37811,a_=37812,l_=37813,c_=37814,u_=37815,d_=37816,f_=37817,h_=37818,p_=37819,m_=37820,g_=37821,kh=36492,Qk=36283,v_=36284,y_=36285,x_=36286,tT=3e3,Xs=3001,Zk=3200,Jk=3201,nT=0,eF=1,$s="",He="srgb",Vr="srgb-linear",rT="display-p3",Fh=7680,tF=519,nF=512,rF=513,iF=514,sF=515,oF=516,aF=517,lF=518,cF=519,__=35044,w_="300 es",zm=1035,ai=2e3,kd=2001;class Va{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,o=i.length;s<o;s++)i[s].call(this,e);e.target=null}}}const nn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],zh=Math.PI/180,Bm=180/Math.PI;function Mc(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(nn[t&255]+nn[t>>8&255]+nn[t>>16&255]+nn[t>>24&255]+"-"+nn[e&255]+nn[e>>8&255]+"-"+nn[e>>16&15|64]+nn[e>>24&255]+"-"+nn[n&63|128]+nn[n>>8&255]+"-"+nn[n>>16&255]+nn[n>>24&255]+nn[r&255]+nn[r>>8&255]+nn[r>>16&255]+nn[r>>24&255]).toLowerCase()}function bn(t,e,n){return Math.max(e,Math.min(n,t))}function uF(t,e){return(t%e+e)%e}function Bh(t,e,n){return(1-n)*t+n*e}function S_(t){return(t&t-1)===0&&t!==0}function Vm(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function nl(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function _n(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}class et{constructor(e=0,n=0){et.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(bn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,o=this.y-e.y;return this.x=s*r-o*i+e.x,this.y=s*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Xe{constructor(e,n,r,i,s,o,a,l,c){Xe.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c)}set(e,n,r,i,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=a,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],h=r[5],g=r[8],v=i[0],m=i[3],p=i[6],y=i[1],x=i[4],w=i[7],S=i[2],M=i[5],T=i[8];return s[0]=o*v+a*y+l*S,s[3]=o*m+a*x+l*M,s[6]=o*p+a*w+l*T,s[1]=c*v+u*y+f*S,s[4]=c*m+u*x+f*M,s[7]=c*p+u*w+f*T,s[2]=d*v+h*y+g*S,s[5]=d*m+h*x+g*M,s[8]=d*p+h*w+g*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return n*o*u-n*a*c-r*s*u+r*a*l+i*s*c-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,d=a*l-u*s,h=c*s-o*l,g=n*f+r*d+i*h;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const v=1/g;return e[0]=f*v,e[1]=(i*c-u*r)*v,e[2]=(a*r-i*o)*v,e[3]=d*v,e[4]=(u*n-i*l)*v,e[5]=(i*s-a*n)*v,e[6]=h*v,e[7]=(r*l-c*n)*v,e[8]=(o*n-r*s)*v,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*o+c*a)+o+e,-i*c,i*l,-i*(-c*o+l*a)+a+n,0,0,1),this}scale(e,n){return this.premultiply(Vh.makeScale(e,n)),this}rotate(e){return this.premultiply(Vh.makeRotation(-e)),this}translate(e,n){return this.premultiply(Vh.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Vh=new Xe;function iT(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Fd(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const b_={};function Il(t){t in b_||(b_[t]=!0,console.warn(t))}function oa(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function jh(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const dF=new Xe().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),fF=new Xe().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function hF(t){return t.convertSRGBToLinear().applyMatrix3(fF)}function pF(t){return t.applyMatrix3(dF).convertLinearToSRGB()}const mF={[Vr]:t=>t,[He]:t=>t.convertSRGBToLinear(),[rT]:hF},gF={[Vr]:t=>t,[He]:t=>t.convertLinearToSRGB(),[rT]:pF},ar={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return Vr},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=mF[e],i=gF[n];if(r===void 0||i===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let ho;class sT{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{ho===void 0&&(ho=Fd("canvas")),ho.width=e.width,ho.height=e.height;const r=ho.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=ho}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Fd("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let o=0;o<s.length;o++)s[o]=oa(s[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(oa(n[r]/255)*255):n[r]=oa(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let vF=0;class oT{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:vF++}),this.uuid=Mc(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let o=0,a=i.length;o<a;o++)i[o].isDataTexture?s.push(Hh(i[o].image)):s.push(Hh(i[o]))}else s=Hh(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function Hh(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?sT.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let yF=0;class jn extends Va{constructor(e=jn.DEFAULT_IMAGE,n=jn.DEFAULT_MAPPING,r=yr,i=yr,s=er,o=lc,a=xr,l=is,c=jn.DEFAULT_ANISOTROPY,u=$s){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:yF++}),this.uuid=Mc(),this.name="",this.source=new oT(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new et(0,0),this.repeat=new et(1,1),this.center=new et(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Xe,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Il("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===Xs?He:$s),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==q1)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case km:e.x=e.x-Math.floor(e.x);break;case yr:e.x=e.x<0?0:1;break;case Fm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case km:e.y=e.y-Math.floor(e.y);break;case yr:e.y=e.y<0?0:1;break;case Fm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Il("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===He?Xs:tT}set encoding(e){Il("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Xs?He:$s}}jn.DEFAULT_IMAGE=null;jn.DEFAULT_MAPPING=q1;jn.DEFAULT_ANISOTROPY=1;class vt{constructor(e=0,n=0,r=0,i=1){vt.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*s,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*s,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*s,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],h=l[5],g=l[9],v=l[2],m=l[6],p=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-v)<.01&&Math.abs(g-m)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+v)<.1&&Math.abs(g+m)<.1&&Math.abs(c+h+p-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const x=(c+1)/2,w=(h+1)/2,S=(p+1)/2,M=(u+d)/4,T=(f+v)/4,C=(g+m)/4;return x>w&&x>S?x<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(x),i=M/r,s=T/r):w>S?w<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(w),r=M/i,s=C/i):S<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(S),r=T/s,i=C/s),this.set(r,i,s,n),this}let y=Math.sqrt((m-g)*(m-g)+(f-v)*(f-v)+(d-u)*(d-u));return Math.abs(y)<.001&&(y=1),this.x=(m-g)/y,this.y=(f-v)/y,this.z=(d-u)/y,this.w=Math.acos((c+h+p-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class xF extends Va{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new vt(0,0,e,n),this.scissorTest=!1,this.viewport=new vt(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Il("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===Xs?He:$s),this.texture=new jn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:er,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new oT(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class to extends xF{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class aT extends jn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=mn,this.minFilter=mn,this.wrapR=yr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class _F extends jn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=mn,this.minFilter=mn,this.wrapR=yr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Tc{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,o,a){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=s[o+0],h=s[o+1],g=s[o+2],v=s[o+3];if(a===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(a===1){e[n+0]=d,e[n+1]=h,e[n+2]=g,e[n+3]=v;return}if(f!==v||l!==d||c!==h||u!==g){let m=1-a;const p=l*d+c*h+u*g+f*v,y=p>=0?1:-1,x=1-p*p;if(x>Number.EPSILON){const S=Math.sqrt(x),M=Math.atan2(S,p*y);m=Math.sin(m*M)/S,a=Math.sin(a*M)/S}const w=a*y;if(l=l*m+d*w,c=c*m+h*w,u=u*m+g*w,f=f*m+v*w,m===1-a){const S=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=S,c*=S,u*=S,f*=S}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,o){const a=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[o],d=s[o+1],h=s[o+2],g=s[o+3];return e[n]=a*g+u*f+l*h-c*d,e[n+1]=l*g+u*d+c*f-a*h,e[n+2]=c*g+u*h+a*d-l*f,e[n+3]=u*g-a*f-l*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(r/2),u=a(i/2),f=a(s/2),d=l(r/2),h=l(i/2),g=l(s/2);switch(o){case"XYZ":this._x=d*u*f+c*h*g,this._y=c*h*f-d*u*g,this._z=c*u*g+d*h*f,this._w=c*u*f-d*h*g;break;case"YXZ":this._x=d*u*f+c*h*g,this._y=c*h*f-d*u*g,this._z=c*u*g-d*h*f,this._w=c*u*f+d*h*g;break;case"ZXY":this._x=d*u*f-c*h*g,this._y=c*h*f+d*u*g,this._z=c*u*g+d*h*f,this._w=c*u*f-d*h*g;break;case"ZYX":this._x=d*u*f-c*h*g,this._y=c*h*f+d*u*g,this._z=c*u*g-d*h*f,this._w=c*u*f+d*h*g;break;case"YZX":this._x=d*u*f+c*h*g,this._y=c*h*f+d*u*g,this._z=c*u*g-d*h*f,this._w=c*u*f-d*h*g;break;case"XZY":this._x=d*u*f-c*h*g,this._y=c*h*f-d*u*g,this._z=c*u*g+d*h*f,this._w=c*u*f+d*h*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],o=n[1],a=n[5],l=n[9],c=n[2],u=n[6],f=n[10],d=r+a+f;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(u-l)*h,this._y=(s-c)*h,this._z=(o-i)*h}else if(r>a&&r>f){const h=2*Math.sqrt(1+r-a-f);this._w=(u-l)/h,this._x=.25*h,this._y=(i+o)/h,this._z=(s+c)/h}else if(a>f){const h=2*Math.sqrt(1+a-r-f);this._w=(s-c)/h,this._x=(i+o)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+f-r-a);this._w=(o-i)/h,this._x=(s+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(bn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,o=e._w,a=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+o*a+i*c-s*l,this._y=i*u+o*l+s*a-r*c,this._z=s*u+o*c+r*l-i*a,this._w=o*u-r*a-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,o=this._w;let a=o*e._w+r*e._x+i*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=r,this._y=i,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const h=1-n;return this._w=h*o+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-n)*u)/c,d=Math.sin(n*u)/c;return this._w=o*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ${constructor(e=0,n=0,r=0){$.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(E_.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(E_.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,o=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*o,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*o,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=l*n+o*i-a*r,u=l*r+a*n-s*i,f=l*i+s*r-o*n,d=-s*n-o*r-a*i;return this.x=c*l+d*-s+u*-a-f*-o,this.y=u*l+d*-o+f*-s-c*-a,this.z=f*l+d*-a+c*-o-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,o=n.x,a=n.y,l=n.z;return this.x=i*l-s*a,this.y=s*o-r*l,this.z=r*a-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Gh.copy(this).projectOnVector(e),this.sub(Gh)}reflect(e){return this.sub(Gh.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(bn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Gh=new $,E_=new Tc;class Ac{constructor(e=new $(1/0,1/0,1/0),n=new $(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint($r.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint($r.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=$r.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),po.copy(e.boundingBox),po.applyMatrix4(e.matrixWorld),this.union(po);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let o=0,a=s.count;o<a;o++)$r.fromBufferAttribute(s,o).applyMatrix4(e.matrixWorld),this.expandByPoint($r)}else i.boundingBox===null&&i.computeBoundingBox(),po.copy(i.boundingBox),po.applyMatrix4(e.matrixWorld),this.union(po)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,$r),$r.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(rl),cu.subVectors(this.max,rl),mo.subVectors(e.a,rl),go.subVectors(e.b,rl),vo.subVectors(e.c,rl),Mi.subVectors(go,mo),Ti.subVectors(vo,go),ws.subVectors(mo,vo);let n=[0,-Mi.z,Mi.y,0,-Ti.z,Ti.y,0,-ws.z,ws.y,Mi.z,0,-Mi.x,Ti.z,0,-Ti.x,ws.z,0,-ws.x,-Mi.y,Mi.x,0,-Ti.y,Ti.x,0,-ws.y,ws.x,0];return!Wh(n,mo,go,vo,cu)||(n=[1,0,0,0,1,0,0,0,1],!Wh(n,mo,go,vo,cu))?!1:(uu.crossVectors(Mi,Ti),n=[uu.x,uu.y,uu.z],Wh(n,mo,go,vo,cu))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,$r).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize($r).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Xr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Xr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Xr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Xr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Xr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Xr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Xr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Xr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Xr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Xr=[new $,new $,new $,new $,new $,new $,new $,new $],$r=new $,po=new Ac,mo=new $,go=new $,vo=new $,Mi=new $,Ti=new $,ws=new $,rl=new $,cu=new $,uu=new $,Ss=new $;function Wh(t,e,n,r,i){for(let s=0,o=t.length-3;s<=o;s+=3){Ss.fromArray(t,s);const a=i.x*Math.abs(Ss.x)+i.y*Math.abs(Ss.y)+i.z*Math.abs(Ss.z),l=e.dot(Ss),c=n.dot(Ss),u=r.dot(Ss);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const wF=new Ac,il=new $,Xh=new $;class Nv{constructor(e=new $,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):wF.setFromPoints(e).getCenter(r);let i=0;for(let s=0,o=e.length;s<o;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;il.subVectors(e,this.center);const n=il.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(il,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Xh.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(il.copy(e.center).add(Xh)),this.expandByPoint(il.copy(e.center).sub(Xh))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const qr=new $,$h=new $,du=new $,Ai=new $,qh=new $,fu=new $,Yh=new $;class SF{constructor(e=new $,n=new $(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,qr)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=qr.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(qr.copy(this.origin).addScaledVector(this.direction,n),qr.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){$h.copy(e).add(n).multiplyScalar(.5),du.copy(n).sub(e).normalize(),Ai.copy(this.origin).sub($h);const s=e.distanceTo(n)*.5,o=-this.direction.dot(du),a=Ai.dot(this.direction),l=-Ai.dot(du),c=Ai.lengthSq(),u=Math.abs(1-o*o);let f,d,h,g;if(u>0)if(f=o*l-a,d=o*a-l,g=s*u,f>=0)if(d>=-g)if(d<=g){const v=1/u;f*=v,d*=v,h=f*(f+o*d+2*a)+d*(o*f+d+2*l)+c}else d=s,f=Math.max(0,-(o*d+a)),h=-f*f+d*(d+2*l)+c;else d=-s,f=Math.max(0,-(o*d+a)),h=-f*f+d*(d+2*l)+c;else d<=-g?(f=Math.max(0,-(-o*s+a)),d=f>0?-s:Math.min(Math.max(-s,-l),s),h=-f*f+d*(d+2*l)+c):d<=g?(f=0,d=Math.min(Math.max(-s,-l),s),h=d*(d+2*l)+c):(f=Math.max(0,-(o*s+a)),d=f>0?s:Math.min(Math.max(-s,-l),s),h=-f*f+d*(d+2*l)+c);else d=o>0?-s:s,f=Math.max(0,-(o*d+a)),h=-f*f+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy($h).addScaledVector(du,d),h}intersectSphere(e,n){qr.subVectors(e.center,this.origin);const r=qr.dot(this.direction),i=qr.dot(qr)-r*r,s=e.radius*e.radius;if(i>s)return null;const o=Math.sqrt(s-i),a=r-o,l=r+o;return l<0?null:a<0?this.at(l,n):this.at(a,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,o=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,o=(e.min.y-d.y)*u),r>o||s>i||((s>r||isNaN(r))&&(r=s),(o<i||isNaN(i))&&(i=o),f>=0?(a=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(a=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||a>i)||((a>r||r!==r)&&(r=a),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,qr)!==null}intersectTriangle(e,n,r,i,s){qh.subVectors(n,e),fu.subVectors(r,e),Yh.crossVectors(qh,fu);let o=this.direction.dot(Yh),a;if(o>0){if(i)return null;a=1}else if(o<0)a=-1,o=-o;else return null;Ai.subVectors(this.origin,e);const l=a*this.direction.dot(fu.crossVectors(Ai,fu));if(l<0)return null;const c=a*this.direction.dot(qh.cross(Ai));if(c<0||l+c>o)return null;const u=-a*Ai.dot(Yh);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Ut{constructor(e,n,r,i,s,o,a,l,c,u,f,d,h,g,v,m){Ut.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,o,a,l,c,u,f,d,h,g,v,m)}set(e,n,r,i,s,o,a,l,c,u,f,d,h,g,v,m){const p=this.elements;return p[0]=e,p[4]=n,p[8]=r,p[12]=i,p[1]=s,p[5]=o,p[9]=a,p[13]=l,p[2]=c,p[6]=u,p[10]=f,p[14]=d,p[3]=h,p[7]=g,p[11]=v,p[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Ut().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/yo.setFromMatrixColumn(e,0).length(),s=1/yo.setFromMatrixColumn(e,1).length(),o=1/yo.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,o=Math.cos(r),a=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=o*u,h=o*f,g=a*u,v=a*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=h+g*c,n[5]=d-v*c,n[9]=-a*l,n[2]=v-d*c,n[6]=g+h*c,n[10]=o*l}else if(e.order==="YXZ"){const d=l*u,h=l*f,g=c*u,v=c*f;n[0]=d+v*a,n[4]=g*a-h,n[8]=o*c,n[1]=o*f,n[5]=o*u,n[9]=-a,n[2]=h*a-g,n[6]=v+d*a,n[10]=o*l}else if(e.order==="ZXY"){const d=l*u,h=l*f,g=c*u,v=c*f;n[0]=d-v*a,n[4]=-o*f,n[8]=g+h*a,n[1]=h+g*a,n[5]=o*u,n[9]=v-d*a,n[2]=-o*c,n[6]=a,n[10]=o*l}else if(e.order==="ZYX"){const d=o*u,h=o*f,g=a*u,v=a*f;n[0]=l*u,n[4]=g*c-h,n[8]=d*c+v,n[1]=l*f,n[5]=v*c+d,n[9]=h*c-g,n[2]=-c,n[6]=a*l,n[10]=o*l}else if(e.order==="YZX"){const d=o*l,h=o*c,g=a*l,v=a*c;n[0]=l*u,n[4]=v-d*f,n[8]=g*f+h,n[1]=f,n[5]=o*u,n[9]=-a*u,n[2]=-c*u,n[6]=h*f+g,n[10]=d-v*f}else if(e.order==="XZY"){const d=o*l,h=o*c,g=a*l,v=a*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=d*f+v,n[5]=o*u,n[9]=h*f-g,n[2]=g*f-h,n[6]=a*u,n[10]=v*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(bF,e,EF)}lookAt(e,n,r){const i=this.elements;return Ln.subVectors(e,n),Ln.lengthSq()===0&&(Ln.z=1),Ln.normalize(),Ci.crossVectors(r,Ln),Ci.lengthSq()===0&&(Math.abs(r.z)===1?Ln.x+=1e-4:Ln.z+=1e-4,Ln.normalize(),Ci.crossVectors(r,Ln)),Ci.normalize(),hu.crossVectors(Ln,Ci),i[0]=Ci.x,i[4]=hu.x,i[8]=Ln.x,i[1]=Ci.y,i[5]=hu.y,i[9]=Ln.y,i[2]=Ci.z,i[6]=hu.z,i[10]=Ln.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,o=r[0],a=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],h=r[13],g=r[2],v=r[6],m=r[10],p=r[14],y=r[3],x=r[7],w=r[11],S=r[15],M=i[0],T=i[4],C=i[8],E=i[12],A=i[1],k=i[5],I=i[9],O=i[13],L=i[2],z=i[6],H=i[10],j=i[14],N=i[3],V=i[7],W=i[11],U=i[15];return s[0]=o*M+a*A+l*L+c*N,s[4]=o*T+a*k+l*z+c*V,s[8]=o*C+a*I+l*H+c*W,s[12]=o*E+a*O+l*j+c*U,s[1]=u*M+f*A+d*L+h*N,s[5]=u*T+f*k+d*z+h*V,s[9]=u*C+f*I+d*H+h*W,s[13]=u*E+f*O+d*j+h*U,s[2]=g*M+v*A+m*L+p*N,s[6]=g*T+v*k+m*z+p*V,s[10]=g*C+v*I+m*H+p*W,s[14]=g*E+v*O+m*j+p*U,s[3]=y*M+x*A+w*L+S*N,s[7]=y*T+x*k+w*z+S*V,s[11]=y*C+x*I+w*H+S*W,s[15]=y*E+x*O+w*j+S*U,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],h=e[14],g=e[3],v=e[7],m=e[11],p=e[15];return g*(+s*l*f-i*c*f-s*a*d+r*c*d+i*a*h-r*l*h)+v*(+n*l*h-n*c*d+s*o*d-i*o*h+i*c*u-s*l*u)+m*(+n*c*f-n*a*h-s*o*f+r*o*h+s*a*u-r*c*u)+p*(-i*a*u-n*l*f+n*a*d+i*o*f-r*o*d+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],h=e[11],g=e[12],v=e[13],m=e[14],p=e[15],y=f*m*c-v*d*c+v*l*h-a*m*h-f*l*p+a*d*p,x=g*d*c-u*m*c-g*l*h+o*m*h+u*l*p-o*d*p,w=u*v*c-g*f*c+g*a*h-o*v*h-u*a*p+o*f*p,S=g*f*l-u*v*l-g*a*d+o*v*d+u*a*m-o*f*m,M=n*y+r*x+i*w+s*S;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/M;return e[0]=y*T,e[1]=(v*d*s-f*m*s-v*i*h+r*m*h+f*i*p-r*d*p)*T,e[2]=(a*m*s-v*l*s+v*i*c-r*m*c-a*i*p+r*l*p)*T,e[3]=(f*l*s-a*d*s-f*i*c+r*d*c+a*i*h-r*l*h)*T,e[4]=x*T,e[5]=(u*m*s-g*d*s+g*i*h-n*m*h-u*i*p+n*d*p)*T,e[6]=(g*l*s-o*m*s-g*i*c+n*m*c+o*i*p-n*l*p)*T,e[7]=(o*d*s-u*l*s+u*i*c-n*d*c-o*i*h+n*l*h)*T,e[8]=w*T,e[9]=(g*f*s-u*v*s-g*r*h+n*v*h+u*r*p-n*f*p)*T,e[10]=(o*v*s-g*a*s+g*r*c-n*v*c-o*r*p+n*a*p)*T,e[11]=(u*a*s-o*f*s-u*r*c+n*f*c+o*r*h-n*a*h)*T,e[12]=S*T,e[13]=(u*v*i-g*f*i+g*r*d-n*v*d-u*r*m+n*f*m)*T,e[14]=(g*a*i-o*v*i-g*r*l+n*v*l+o*r*m-n*a*m)*T,e[15]=(o*f*i-u*a*i+u*r*l-n*f*l-o*r*d+n*a*d)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+r,c*a-i*l,c*l+i*a,0,c*a+i*l,u*a+r,u*l-i*o,0,c*l-i*a,u*l+i*o,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,o){return this.set(1,r,s,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,o=n._y,a=n._z,l=n._w,c=s+s,u=o+o,f=a+a,d=s*c,h=s*u,g=s*f,v=o*u,m=o*f,p=a*f,y=l*c,x=l*u,w=l*f,S=r.x,M=r.y,T=r.z;return i[0]=(1-(v+p))*S,i[1]=(h+w)*S,i[2]=(g-x)*S,i[3]=0,i[4]=(h-w)*M,i[5]=(1-(d+p))*M,i[6]=(m+y)*M,i[7]=0,i[8]=(g+x)*T,i[9]=(m-y)*T,i[10]=(1-(d+v))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=yo.set(i[0],i[1],i[2]).length();const o=yo.set(i[4],i[5],i[6]).length(),a=yo.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],lr.copy(this);const c=1/s,u=1/o,f=1/a;return lr.elements[0]*=c,lr.elements[1]*=c,lr.elements[2]*=c,lr.elements[4]*=u,lr.elements[5]*=u,lr.elements[6]*=u,lr.elements[8]*=f,lr.elements[9]*=f,lr.elements[10]*=f,n.setFromRotationMatrix(lr),r.x=s,r.y=o,r.z=a,this}makePerspective(e,n,r,i,s,o,a=ai){const l=this.elements,c=2*s/(n-e),u=2*s/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);let h,g;if(a===ai)h=-(o+s)/(o-s),g=-2*o*s/(o-s);else if(a===kd)h=-o/(o-s),g=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,o,a=ai){const l=this.elements,c=1/(n-e),u=1/(r-i),f=1/(o-s),d=(n+e)*c,h=(r+i)*u;let g,v;if(a===ai)g=(o+s)*f,v=-2*f;else if(a===kd)g=s*f,v=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=v,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const yo=new $,lr=new Ut,bF=new $(0,0,0),EF=new $(1,1,1),Ci=new $,hu=new $,Ln=new $,M_=new Ut,T_=new Tc;class Cf{constructor(e=0,n=0,r=0,i=Cf.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],o=i[4],a=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(bn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-bn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(bn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,h),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-bn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(bn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,h));break;case"XZY":this._z=Math.asin(-bn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return M_.makeRotationFromQuaternion(e),this.setFromRotationMatrix(M_,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return T_.setFromEuler(this),this.setFromQuaternion(T_,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Cf.DEFAULT_ORDER="XYZ";class lT{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let MF=0;const A_=new $,xo=new Tc,Yr=new Ut,pu=new $,sl=new $,TF=new $,AF=new Tc,C_=new $(1,0,0),R_=new $(0,1,0),P_=new $(0,0,1),CF={type:"added"},L_={type:"removed"};class an extends Va{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:MF++}),this.uuid=Mc(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=an.DEFAULT_UP.clone();const e=new $,n=new Cf,r=new Tc,i=new $(1,1,1);function s(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Ut},normalMatrix:{value:new Xe}}),this.matrix=new Ut,this.matrixWorld=new Ut,this.matrixAutoUpdate=an.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=an.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new lT,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return xo.setFromAxisAngle(e,n),this.quaternion.multiply(xo),this}rotateOnWorldAxis(e,n){return xo.setFromAxisAngle(e,n),this.quaternion.premultiply(xo),this}rotateX(e){return this.rotateOnAxis(C_,e)}rotateY(e){return this.rotateOnAxis(R_,e)}rotateZ(e){return this.rotateOnAxis(P_,e)}translateOnAxis(e,n){return A_.copy(e).applyQuaternion(this.quaternion),this.position.add(A_.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(C_,e)}translateY(e){return this.translateOnAxis(R_,e)}translateZ(e){return this.translateOnAxis(P_,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Yr.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?pu.copy(e):pu.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),sl.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Yr.lookAt(sl,pu,this.up):Yr.lookAt(pu,sl,this.up),this.quaternion.setFromRotationMatrix(Yr),i&&(Yr.extractRotation(i.matrixWorld),xo.setFromRotationMatrix(Yr),this.quaternion.premultiply(xo.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(CF)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(L_)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(L_)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Yr.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Yr.multiply(e.parent.matrixWorld)),e.applyMatrix4(Yr),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const o=this.children[i].getObjectsByProperty(e,n);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sl,e,TF),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(sl,AF,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,o=i.length;s<o;s++){const a=i[s];a.matrixWorldAutoUpdate===!0&&a.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));i.material=a}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let a=0;a<this.children.length;a++)i.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];i.animations.push(s(e.animations,l))}}if(n){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),d=o(e.skeletons),h=o(e.animations),g=o(e.nodes);a.length>0&&(r.geometries=a),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}an.DEFAULT_UP=new $(0,1,0);an.DEFAULT_MATRIX_AUTO_UPDATE=!0;an.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const cr=new $,Kr=new $,Kh=new $,Qr=new $,_o=new $,wo=new $,N_=new $,Qh=new $,Zh=new $,Jh=new $;let mu=!1;class gr{constructor(e=new $,n=new $,r=new $){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),cr.subVectors(e,n),i.cross(cr);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){cr.subVectors(i,n),Kr.subVectors(r,n),Kh.subVectors(e,n);const o=cr.dot(cr),a=cr.dot(Kr),l=cr.dot(Kh),c=Kr.dot(Kr),u=Kr.dot(Kh),f=o*c-a*a;if(f===0)return s.set(-2,-1,-1);const d=1/f,h=(c*l-a*u)*d,g=(o*u-a*l)*d;return s.set(1-h-g,g,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Qr),Qr.x>=0&&Qr.y>=0&&Qr.x+Qr.y<=1}static getUV(e,n,r,i,s,o,a,l){return mu===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),mu=!0),this.getInterpolation(e,n,r,i,s,o,a,l)}static getInterpolation(e,n,r,i,s,o,a,l){return this.getBarycoord(e,n,r,i,Qr),l.setScalar(0),l.addScaledVector(s,Qr.x),l.addScaledVector(o,Qr.y),l.addScaledVector(a,Qr.z),l}static isFrontFacing(e,n,r,i){return cr.subVectors(r,n),Kr.subVectors(e,n),cr.cross(Kr).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return cr.subVectors(this.c,this.b),Kr.subVectors(this.a,this.b),cr.cross(Kr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return gr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return gr.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return mu===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),mu=!0),gr.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return gr.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return gr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return gr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let o,a;_o.subVectors(i,r),wo.subVectors(s,r),Qh.subVectors(e,r);const l=_o.dot(Qh),c=wo.dot(Qh);if(l<=0&&c<=0)return n.copy(r);Zh.subVectors(e,i);const u=_o.dot(Zh),f=wo.dot(Zh);if(u>=0&&f<=u)return n.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return o=l/(l-u),n.copy(r).addScaledVector(_o,o);Jh.subVectors(e,s);const h=_o.dot(Jh),g=wo.dot(Jh);if(g>=0&&h<=g)return n.copy(s);const v=h*c-l*g;if(v<=0&&c>=0&&g<=0)return a=c/(c-g),n.copy(r).addScaledVector(wo,a);const m=u*g-h*f;if(m<=0&&f-u>=0&&h-g>=0)return N_.subVectors(s,i),a=(f-u)/(f-u+(h-g)),n.copy(i).addScaledVector(N_,a);const p=1/(m+v+d);return o=v*p,a=d*p,n.copy(r).addScaledVector(_o,o).addScaledVector(wo,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let RF=0;class Cc extends Va{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:RF++}),this.uuid=Mc(),this.name="",this.type="Material",this.blending=sa,this.side=hs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=X1,this.blendDst=$1,this.blendEquation=Do,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Im,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=tF,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Fh,this.stencilZFail=Fh,this.stencilZPass=Fh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==sa&&(r.blending=this.blending),this.side!==hs&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=this.alphaHash),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(n){const s=i(e.textures),o=i(e.images);s.length>0&&(r.textures=s),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const cT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ur={h:0,s:0,l:0},gu={h:0,s:0,l:0};function ep(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class rt{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=He){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ar.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=ar.workingColorSpace){return this.r=e,this.g=n,this.b=r,ar.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=ar.workingColorSpace){if(e=uF(e,1),n=bn(n,0,1),r=bn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;this.r=ep(o,s,e+1/3),this.g=ep(o,s,e),this.b=ep(o,s,e-1/3)}return ar.toWorkingColorSpace(this,i),this}setStyle(e,n=He){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=i[1],a=i[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=He){const r=cT[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=oa(e.r),this.g=oa(e.g),this.b=oa(e.b),this}copyLinearToSRGB(e){return this.r=jh(e.r),this.g=jh(e.g),this.b=jh(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=He){return ar.fromWorkingColorSpace(rn.copy(this),e),Math.round(bn(rn.r*255,0,255))*65536+Math.round(bn(rn.g*255,0,255))*256+Math.round(bn(rn.b*255,0,255))}getHexString(e=He){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ar.workingColorSpace){ar.fromWorkingColorSpace(rn.copy(this),n);const r=rn.r,i=rn.g,s=rn.b,o=Math.max(r,i,s),a=Math.min(r,i,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=ar.workingColorSpace){return ar.fromWorkingColorSpace(rn.copy(this),n),e.r=rn.r,e.g=rn.g,e.b=rn.b,e}getStyle(e=He){ar.fromWorkingColorSpace(rn.copy(this),e);const n=rn.r,r=rn.g,i=rn.b;return e!==He?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(ur),ur.h+=e,ur.s+=n,ur.l+=r,this.setHSL(ur.h,ur.s,ur.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(ur),e.getHSL(gu);const r=Bh(ur.h,gu.h,n),i=Bh(ur.s,gu.s,n),s=Bh(ur.l,gu.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const rn=new rt;rt.NAMES=cT;class uT extends Cc{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new rt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Nt=new $,vu=new et;class zr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=__,this.updateRange={offset:0,count:-1},this.gpuType=Wi,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)vu.fromBufferAttribute(this,n),vu.applyMatrix3(e),this.setXY(n,vu.x,vu.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Nt.fromBufferAttribute(this,n),Nt.applyMatrix3(e),this.setXYZ(n,Nt.x,Nt.y,Nt.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Nt.fromBufferAttribute(this,n),Nt.applyMatrix4(e),this.setXYZ(n,Nt.x,Nt.y,Nt.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Nt.fromBufferAttribute(this,n),Nt.applyNormalMatrix(e),this.setXYZ(n,Nt.x,Nt.y,Nt.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Nt.fromBufferAttribute(this,n),Nt.transformDirection(e),this.setXYZ(n,Nt.x,Nt.y,Nt.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=nl(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=_n(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=nl(n,this.array)),n}setX(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=nl(n,this.array)),n}setY(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=nl(n,this.array)),n}setZ(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=nl(n,this.array)),n}setW(e,n){return this.normalized&&(n=_n(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array),i=_n(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=_n(n,this.array),r=_n(r,this.array),i=_n(i,this.array),s=_n(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==__&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class dT extends zr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class fT extends zr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Hn extends zr{constructor(e,n,r){super(new Float32Array(e),n,r)}}let PF=0;const Kn=new Ut,tp=new an,So=new $,Nn=new Ac,ol=new Ac,Gt=new $;class _i extends Va{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:PF++}),this.uuid=Mc(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(iT(e)?fT:dT)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Xe().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Kn.makeRotationFromQuaternion(e),this.applyMatrix4(Kn),this}rotateX(e){return Kn.makeRotationX(e),this.applyMatrix4(Kn),this}rotateY(e){return Kn.makeRotationY(e),this.applyMatrix4(Kn),this}rotateZ(e){return Kn.makeRotationZ(e),this.applyMatrix4(Kn),this}translate(e,n,r){return Kn.makeTranslation(e,n,r),this.applyMatrix4(Kn),this}scale(e,n,r){return Kn.makeScale(e,n,r),this.applyMatrix4(Kn),this}lookAt(e){return tp.lookAt(e),tp.updateMatrix(),this.applyMatrix4(tp.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(So).negate(),this.translate(So.x,So.y,So.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new Hn(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ac);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new $(-1/0,-1/0,-1/0),new $(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Nn.setFromBufferAttribute(s),this.morphTargetsRelative?(Gt.addVectors(this.boundingBox.min,Nn.min),this.boundingBox.expandByPoint(Gt),Gt.addVectors(this.boundingBox.max,Nn.max),this.boundingBox.expandByPoint(Gt)):(this.boundingBox.expandByPoint(Nn.min),this.boundingBox.expandByPoint(Nn.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Nv);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new $,1/0);return}if(e){const r=this.boundingSphere.center;if(Nn.setFromBufferAttribute(e),n)for(let s=0,o=n.length;s<o;s++){const a=n[s];ol.setFromBufferAttribute(a),this.morphTargetsRelative?(Gt.addVectors(Nn.min,ol.min),Nn.expandByPoint(Gt),Gt.addVectors(Nn.max,ol.max),Nn.expandByPoint(Gt)):(Nn.expandByPoint(ol.min),Nn.expandByPoint(ol.max))}Nn.getCenter(r);let i=0;for(let s=0,o=e.count;s<o;s++)Gt.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Gt));if(n)for(let s=0,o=n.length;s<o;s++){const a=n[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Gt.fromBufferAttribute(a,c),l&&(So.fromBufferAttribute(e,c),Gt.add(So)),i=Math.max(i,r.distanceToSquared(Gt))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,o=n.uv.array,a=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new zr(new Float32Array(4*a),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let A=0;A<a;A++)c[A]=new $,u[A]=new $;const f=new $,d=new $,h=new $,g=new et,v=new et,m=new et,p=new $,y=new $;function x(A,k,I){f.fromArray(i,A*3),d.fromArray(i,k*3),h.fromArray(i,I*3),g.fromArray(o,A*2),v.fromArray(o,k*2),m.fromArray(o,I*2),d.sub(f),h.sub(f),v.sub(g),m.sub(g);const O=1/(v.x*m.y-m.x*v.y);isFinite(O)&&(p.copy(d).multiplyScalar(m.y).addScaledVector(h,-v.y).multiplyScalar(O),y.copy(h).multiplyScalar(v.x).addScaledVector(d,-m.x).multiplyScalar(O),c[A].add(p),c[k].add(p),c[I].add(p),u[A].add(y),u[k].add(y),u[I].add(y))}let w=this.groups;w.length===0&&(w=[{start:0,count:r.length}]);for(let A=0,k=w.length;A<k;++A){const I=w[A],O=I.start,L=I.count;for(let z=O,H=O+L;z<H;z+=3)x(r[z+0],r[z+1],r[z+2])}const S=new $,M=new $,T=new $,C=new $;function E(A){T.fromArray(s,A*3),C.copy(T);const k=c[A];S.copy(k),S.sub(T.multiplyScalar(T.dot(k))).normalize(),M.crossVectors(C,k);const O=M.dot(u[A])<0?-1:1;l[A*4]=S.x,l[A*4+1]=S.y,l[A*4+2]=S.z,l[A*4+3]=O}for(let A=0,k=w.length;A<k;++A){const I=w[A],O=I.start,L=I.count;for(let z=O,H=O+L;z<H;z+=3)E(r[z+0]),E(r[z+1]),E(r[z+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new zr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);const i=new $,s=new $,o=new $,a=new $,l=new $,c=new $,u=new $,f=new $;if(e)for(let d=0,h=e.count;d<h;d+=3){const g=e.getX(d+0),v=e.getX(d+1),m=e.getX(d+2);i.fromBufferAttribute(n,g),s.fromBufferAttribute(n,v),o.fromBufferAttribute(n,m),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),a.fromBufferAttribute(r,g),l.fromBufferAttribute(r,v),c.fromBufferAttribute(r,m),a.add(u),l.add(u),c.add(u),r.setXYZ(g,a.x,a.y,a.z),r.setXYZ(v,l.x,l.y,l.z),r.setXYZ(m,c.x,c.y,c.z)}else for(let d=0,h=n.count;d<h;d+=3)i.fromBufferAttribute(n,d+0),s.fromBufferAttribute(n,d+1),o.fromBufferAttribute(n,d+2),u.subVectors(o,s),f.subVectors(i,s),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Gt.fromBufferAttribute(e,n),Gt.normalize(),e.setXYZ(n,Gt.x,Gt.y,Gt.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,d=new c.constructor(l.length*u);let h=0,g=0;for(let v=0,m=l.length;v<m;v++){a.isInterleavedBufferAttribute?h=l[v]*a.data.stride+a.offset:h=l[v]*u;for(let p=0;p<u;p++)d[g++]=c[h++]}return new zr(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new _i,r=this.index.array,i=this.attributes;for(const a in i){const l=i[a],c=e(l,r);n.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const d=c[u],h=e(d,r);l.push(h)}n.morphAttributes[a]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const h=c[f];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let d=0,h=f.length;d<h;d++)u.push(f[d].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const D_=new Ut,bs=new SF,yu=new Nv,I_=new $,bo=new $,Eo=new $,Mo=new $,np=new $,xu=new $,_u=new et,wu=new et,Su=new et,O_=new $,U_=new $,k_=new $,bu=new $,Eu=new $;class Fn extends an{constructor(e=new _i,n=new uT){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=i.length;s<o;s++){const a=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const a=this.morphTargetInfluences;if(s&&a){xu.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(np.fromBufferAttribute(f,e),o?xu.addScaledVector(np,u):xu.addScaledVector(np.sub(n),u))}n.add(xu)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),yu.copy(r.boundingSphere),yu.applyMatrix4(s),bs.copy(e.ray).recast(e.near),!(yu.containsPoint(bs.origin)===!1&&(bs.intersectSphere(yu,I_)===null||bs.origin.distanceToSquared(I_)>(e.far-e.near)**2))&&(D_.copy(s).invert(),bs.copy(e.ray).applyMatrix4(D_),!(r.boundingBox!==null&&bs.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,bs)))}_computeIntersections(e,n,r){let i;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,d=s.groups,h=s.drawRange;if(a!==null)if(Array.isArray(o))for(let g=0,v=d.length;g<v;g++){const m=d[g],p=o[m.materialIndex],y=Math.max(m.start,h.start),x=Math.min(a.count,Math.min(m.start+m.count,h.start+h.count));for(let w=y,S=x;w<S;w+=3){const M=a.getX(w),T=a.getX(w+1),C=a.getX(w+2);i=Mu(this,p,e,r,c,u,f,M,T,C),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=m.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),v=Math.min(a.count,h.start+h.count);for(let m=g,p=v;m<p;m+=3){const y=a.getX(m),x=a.getX(m+1),w=a.getX(m+2);i=Mu(this,o,e,r,c,u,f,y,x,w),i&&(i.faceIndex=Math.floor(m/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,v=d.length;g<v;g++){const m=d[g],p=o[m.materialIndex],y=Math.max(m.start,h.start),x=Math.min(l.count,Math.min(m.start+m.count,h.start+h.count));for(let w=y,S=x;w<S;w+=3){const M=w,T=w+1,C=w+2;i=Mu(this,p,e,r,c,u,f,M,T,C),i&&(i.faceIndex=Math.floor(w/3),i.face.materialIndex=m.materialIndex,n.push(i))}}else{const g=Math.max(0,h.start),v=Math.min(l.count,h.start+h.count);for(let m=g,p=v;m<p;m+=3){const y=m,x=m+1,w=m+2;i=Mu(this,o,e,r,c,u,f,y,x,w),i&&(i.faceIndex=Math.floor(m/3),n.push(i))}}}}function LF(t,e,n,r,i,s,o,a){let l;if(e.side===Cn?l=r.intersectTriangle(o,s,i,!0,a):l=r.intersectTriangle(i,s,o,e.side===hs,a),l===null)return null;Eu.copy(a),Eu.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Eu);return c<n.near||c>n.far?null:{distance:c,point:Eu.clone(),object:t}}function Mu(t,e,n,r,i,s,o,a,l,c){t.getVertexPosition(a,bo),t.getVertexPosition(l,Eo),t.getVertexPosition(c,Mo);const u=LF(t,e,n,r,bo,Eo,Mo,bu);if(u){i&&(_u.fromBufferAttribute(i,a),wu.fromBufferAttribute(i,l),Su.fromBufferAttribute(i,c),u.uv=gr.getInterpolation(bu,bo,Eo,Mo,_u,wu,Su,new et)),s&&(_u.fromBufferAttribute(s,a),wu.fromBufferAttribute(s,l),Su.fromBufferAttribute(s,c),u.uv1=gr.getInterpolation(bu,bo,Eo,Mo,_u,wu,Su,new et),u.uv2=u.uv1),o&&(O_.fromBufferAttribute(o,a),U_.fromBufferAttribute(o,l),k_.fromBufferAttribute(o,c),u.normal=gr.getInterpolation(bu,bo,Eo,Mo,O_,U_,k_,new $),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a,b:l,c,normal:new $,materialIndex:0};gr.getNormal(bo,Eo,Mo,f.normal),u.face=f}return u}class Rc extends _i{constructor(e=1,n=1,r=1,i=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:o};const a=this;i=Math.floor(i),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let d=0,h=0;g("z","y","x",-1,-1,r,n,e,o,s,0),g("z","y","x",1,-1,r,n,-e,o,s,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,s,4),g("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Hn(c,3)),this.setAttribute("normal",new Hn(u,3)),this.setAttribute("uv",new Hn(f,2));function g(v,m,p,y,x,w,S,M,T,C,E){const A=w/T,k=S/C,I=w/2,O=S/2,L=M/2,z=T+1,H=C+1;let j=0,N=0;const V=new $;for(let W=0;W<H;W++){const U=W*k-O;for(let B=0;B<z;B++){const ee=B*A-I;V[v]=ee*y,V[m]=U*x,V[p]=L,c.push(V.x,V.y,V.z),V[v]=0,V[m]=0,V[p]=M>0?1:-1,u.push(V.x,V.y,V.z),f.push(B/T),f.push(1-W/C),j+=1}}for(let W=0;W<C;W++)for(let U=0;U<T;U++){const B=d+U+z*W,ee=d+U+z*(W+1),te=d+(U+1)+z*(W+1),oe=d+(U+1)+z*W;l.push(B,ee,oe),l.push(ee,te,oe),N+=6}a.addGroup(h,N,E),h+=N,d+=j}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Rc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function La(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function dn(t){const e={};for(let n=0;n<t.length;n++){const r=La(t[n]);for(const i in r)e[i]=r[i]}return e}function NF(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function hT(t){return t.getRenderTarget()===null?t.outputColorSpace:Vr}const DF={clone:La,merge:dn};var IF=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,OF=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class no extends Cc{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=IF,this.fragmentShader=OF,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=La(e.uniforms),this.uniformsGroups=NF(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class pT extends an{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Ut,this.projectionMatrix=new Ut,this.projectionMatrixInverse=new Ut,this.coordinateSystem=ai}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class kn extends pT{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Bm*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(zh*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Bm*2*Math.atan(Math.tan(zh*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(zh*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*i/l,n-=o.offsetY*r/c,i*=o.width/l,r*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const To=-90,Ao=1;class UF extends an{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null;const i=new kn(To,Ao,e,n);i.layers=this.layers,this.add(i);const s=new kn(To,Ao,e,n);s.layers=this.layers,this.add(s);const o=new kn(To,Ao,e,n);o.layers=this.layers,this.add(o);const a=new kn(To,Ao,e,n);a.layers=this.layers,this.add(a);const l=new kn(To,Ao,e,n);l.layers=this.layers,this.add(l);const c=new kn(To,Ao,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,o,a,l]=n;for(const c of n)this.remove(c);if(e===ai)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===kd)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const r=this.renderTarget;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[i,s,o,a,l,c]=this.children,u=e.getRenderTarget(),f=e.xr.enabled;e.xr.enabled=!1;const d=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(n,i),e.setRenderTarget(r,1),e.render(n,s),e.setRenderTarget(r,2),e.render(n,o),e.setRenderTarget(r,3),e.render(n,a),e.setRenderTarget(r,4),e.render(n,l),r.texture.generateMipmaps=d,e.setRenderTarget(r,5),e.render(n,c),e.setRenderTarget(u),e.xr.enabled=f,r.texture.needsPMREMUpdate=!0}}class mT extends jn{constructor(e,n,r,i,s,o,a,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Ca,super(e,n,r,i,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class kF extends to{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Il("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===Xs?He:$s),this.texture=new mT(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:er}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Rc(5,5,5),s=new no({name:"CubemapFromEquirect",uniforms:La(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Cn,blending:ns});s.uniforms.tEquirect.value=n;const o=new Fn(i,s),a=n.minFilter;return n.minFilter===lc&&(n.minFilter=er),new UF(1,10,this).update(e,o),n.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(s)}}const rp=new $,FF=new $,zF=new Xe;class Ps{constructor(e=new $(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=rp.subVectors(r,n).cross(FF.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(rp),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||zF.getNormalMatrix(e),i=this.coplanarPoint(rp).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Es=new Nv,Tu=new $;class Dv{constructor(e=new Ps,n=new Ps,r=new Ps,i=new Ps,s=new Ps,o=new Ps){this.planes=[e,n,r,i,s,o]}set(e,n,r,i,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(n),a[2].copy(r),a[3].copy(i),a[4].copy(s),a[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=ai){const r=this.planes,i=e.elements,s=i[0],o=i[1],a=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],h=i[8],g=i[9],v=i[10],m=i[11],p=i[12],y=i[13],x=i[14],w=i[15];if(r[0].setComponents(l-s,d-c,m-h,w-p).normalize(),r[1].setComponents(l+s,d+c,m+h,w+p).normalize(),r[2].setComponents(l+o,d+u,m+g,w+y).normalize(),r[3].setComponents(l-o,d-u,m-g,w-y).normalize(),r[4].setComponents(l-a,d-f,m-v,w-x).normalize(),n===ai)r[5].setComponents(l+a,d+f,m+v,w+x).normalize();else if(n===kd)r[5].setComponents(a,f,v,x).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Es.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),Es.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Es)}intersectsSprite(e){return Es.center.set(0,0,0),Es.radius=.7071067811865476,Es.applyMatrix4(e.matrixWorld),this.intersectsSphere(Es)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Tu.x=i.normal.x>0?e.max.x:e.min.x,Tu.y=i.normal.y>0?e.max.y:e.min.y,Tu.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Tu)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function gT(){let t=null,e=!1,n=null,r=null;function i(s,o){n(s,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function BF(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,d=c.usage,h=t.createBuffer();t.bindBuffer(u,h),t.bufferData(u,f,d),c.onUploadCallback();let g;if(f instanceof Float32Array)g=t.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)g=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else g=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)g=t.SHORT;else if(f instanceof Uint32Array)g=t.UNSIGNED_INT;else if(f instanceof Int32Array)g=t.INT;else if(f instanceof Int8Array)g=t.BYTE;else if(f instanceof Uint8Array)g=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)g=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:h,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const d=u.array,h=u.updateRange;t.bindBuffer(f,c),h.count===-1?t.bufferSubData(f,0,d):(n?t.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d,h.offset,h.count):t.bufferSubData(f,h.offset*d.BYTES_PER_ELEMENT,d.subarray(h.offset,h.offset+h.count)),h.count=-1),u.onUploadCallback()}function o(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function a(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:o,remove:a,update:l}}class Iv extends _i{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,o=n/2,a=Math.floor(r),l=Math.floor(i),c=a+1,u=l+1,f=e/a,d=n/l,h=[],g=[],v=[],m=[];for(let p=0;p<u;p++){const y=p*d-o;for(let x=0;x<c;x++){const w=x*f-s;g.push(w,-y,0),v.push(0,0,1),m.push(x/a),m.push(1-p/l)}}for(let p=0;p<l;p++)for(let y=0;y<a;y++){const x=y+c*p,w=y+c*(p+1),S=y+1+c*(p+1),M=y+1+c*p;h.push(x,w,M),h.push(w,S,M)}this.setIndex(h),this.setAttribute("position",new Hn(g,3)),this.setAttribute("normal",new Hn(v,3)),this.setAttribute("uv",new Hn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Iv(e.width,e.height,e.widthSegments,e.heightSegments)}}var VF=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,jF=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,HF=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,GF=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,WF=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,XF=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,$F=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,qF=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,YF=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,KF=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,QF=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,ZF=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,JF=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,ez=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,tz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,nz=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,rz=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,iz=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,sz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,oz=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,az=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,lz=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,cz=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,uz=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,dz=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,fz=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,hz=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,pz=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,mz="gl_FragColor = linearToOutputTexel( gl_FragColor );",gz=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,vz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,yz=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,xz=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,_z=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,wz=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Sz=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,bz=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Ez=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Mz=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Tz=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Az=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Cz=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Rz=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Pz=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Lz=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Nz=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Dz=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Iz=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Oz=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Uz=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,kz=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,Fz=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,zz=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Bz=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometry.viewDir, geometry.normal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Vz=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,jz=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Hz=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Gz=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Wz=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Xz=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,$z=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,qz=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Yz=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Kz=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Qz=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Zz=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Jz=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,eB=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,tB=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,nB=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,rB=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,iB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,sB=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,oB=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,aB=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,lB=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,cB=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,uB=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,dB=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,fB=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,hB=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,pB=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,mB=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,gB=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,vB=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,yB=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,xB=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,_B=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,wB=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,SB=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,bB=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,EB=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,MB=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,TB=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,AB=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,CB=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,RB=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,PB=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,LB=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,NB=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,DB=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,IB=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,OB=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,UB=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,kB=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const FB=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,zB=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,BB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,VB=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,jB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,HB=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,GB=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,WB=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,XB=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,$B=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,qB=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,YB=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,KB=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,QB=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,ZB=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,JB=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,e4=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,t4=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,n4=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,r4=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,i4=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,s4=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,o4=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,a4=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,l4=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,c4=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,u4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,d4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,f4=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,h4=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,p4=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,m4=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,g4=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,v4=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,je={alphahash_fragment:VF,alphahash_pars_fragment:jF,alphamap_fragment:HF,alphamap_pars_fragment:GF,alphatest_fragment:WF,alphatest_pars_fragment:XF,aomap_fragment:$F,aomap_pars_fragment:qF,begin_vertex:YF,beginnormal_vertex:KF,bsdfs:QF,iridescence_fragment:ZF,bumpmap_pars_fragment:JF,clipping_planes_fragment:ez,clipping_planes_pars_fragment:tz,clipping_planes_pars_vertex:nz,clipping_planes_vertex:rz,color_fragment:iz,color_pars_fragment:sz,color_pars_vertex:oz,color_vertex:az,common:lz,cube_uv_reflection_fragment:cz,defaultnormal_vertex:uz,displacementmap_pars_vertex:dz,displacementmap_vertex:fz,emissivemap_fragment:hz,emissivemap_pars_fragment:pz,colorspace_fragment:mz,colorspace_pars_fragment:gz,envmap_fragment:vz,envmap_common_pars_fragment:yz,envmap_pars_fragment:xz,envmap_pars_vertex:_z,envmap_physical_pars_fragment:Nz,envmap_vertex:wz,fog_vertex:Sz,fog_pars_vertex:bz,fog_fragment:Ez,fog_pars_fragment:Mz,gradientmap_pars_fragment:Tz,lightmap_fragment:Az,lightmap_pars_fragment:Cz,lights_lambert_fragment:Rz,lights_lambert_pars_fragment:Pz,lights_pars_begin:Lz,lights_toon_fragment:Dz,lights_toon_pars_fragment:Iz,lights_phong_fragment:Oz,lights_phong_pars_fragment:Uz,lights_physical_fragment:kz,lights_physical_pars_fragment:Fz,lights_fragment_begin:zz,lights_fragment_maps:Bz,lights_fragment_end:Vz,logdepthbuf_fragment:jz,logdepthbuf_pars_fragment:Hz,logdepthbuf_pars_vertex:Gz,logdepthbuf_vertex:Wz,map_fragment:Xz,map_pars_fragment:$z,map_particle_fragment:qz,map_particle_pars_fragment:Yz,metalnessmap_fragment:Kz,metalnessmap_pars_fragment:Qz,morphcolor_vertex:Zz,morphnormal_vertex:Jz,morphtarget_pars_vertex:eB,morphtarget_vertex:tB,normal_fragment_begin:nB,normal_fragment_maps:rB,normal_pars_fragment:iB,normal_pars_vertex:sB,normal_vertex:oB,normalmap_pars_fragment:aB,clearcoat_normal_fragment_begin:lB,clearcoat_normal_fragment_maps:cB,clearcoat_pars_fragment:uB,iridescence_pars_fragment:dB,opaque_fragment:fB,packing:hB,premultiplied_alpha_fragment:pB,project_vertex:mB,dithering_fragment:gB,dithering_pars_fragment:vB,roughnessmap_fragment:yB,roughnessmap_pars_fragment:xB,shadowmap_pars_fragment:_B,shadowmap_pars_vertex:wB,shadowmap_vertex:SB,shadowmask_pars_fragment:bB,skinbase_vertex:EB,skinning_pars_vertex:MB,skinning_vertex:TB,skinnormal_vertex:AB,specularmap_fragment:CB,specularmap_pars_fragment:RB,tonemapping_fragment:PB,tonemapping_pars_fragment:LB,transmission_fragment:NB,transmission_pars_fragment:DB,uv_pars_fragment:IB,uv_pars_vertex:OB,uv_vertex:UB,worldpos_vertex:kB,background_vert:FB,background_frag:zB,backgroundCube_vert:BB,backgroundCube_frag:VB,cube_vert:jB,cube_frag:HB,depth_vert:GB,depth_frag:WB,distanceRGBA_vert:XB,distanceRGBA_frag:$B,equirect_vert:qB,equirect_frag:YB,linedashed_vert:KB,linedashed_frag:QB,meshbasic_vert:ZB,meshbasic_frag:JB,meshlambert_vert:e4,meshlambert_frag:t4,meshmatcap_vert:n4,meshmatcap_frag:r4,meshnormal_vert:i4,meshnormal_frag:s4,meshphong_vert:o4,meshphong_frag:a4,meshphysical_vert:l4,meshphysical_frag:c4,meshtoon_vert:u4,meshtoon_frag:d4,points_vert:f4,points_frag:h4,shadow_vert:p4,shadow_frag:m4,sprite_vert:g4,sprite_frag:v4},me={common:{diffuse:{value:new rt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Xe},alphaMap:{value:null},alphaMapTransform:{value:new Xe},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Xe}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Xe}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Xe}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Xe},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Xe},normalScale:{value:new et(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Xe},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Xe}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Xe}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Xe}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new rt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new rt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Xe},alphaTest:{value:0},uvTransform:{value:new Xe}},sprite:{diffuse:{value:new rt(16777215)},opacity:{value:1},center:{value:new et(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Xe},alphaMap:{value:null},alphaMapTransform:{value:new Xe},alphaTest:{value:0}}},Dr={basic:{uniforms:dn([me.common,me.specularmap,me.envmap,me.aomap,me.lightmap,me.fog]),vertexShader:je.meshbasic_vert,fragmentShader:je.meshbasic_frag},lambert:{uniforms:dn([me.common,me.specularmap,me.envmap,me.aomap,me.lightmap,me.emissivemap,me.bumpmap,me.normalmap,me.displacementmap,me.fog,me.lights,{emissive:{value:new rt(0)}}]),vertexShader:je.meshlambert_vert,fragmentShader:je.meshlambert_frag},phong:{uniforms:dn([me.common,me.specularmap,me.envmap,me.aomap,me.lightmap,me.emissivemap,me.bumpmap,me.normalmap,me.displacementmap,me.fog,me.lights,{emissive:{value:new rt(0)},specular:{value:new rt(1118481)},shininess:{value:30}}]),vertexShader:je.meshphong_vert,fragmentShader:je.meshphong_frag},standard:{uniforms:dn([me.common,me.envmap,me.aomap,me.lightmap,me.emissivemap,me.bumpmap,me.normalmap,me.displacementmap,me.roughnessmap,me.metalnessmap,me.fog,me.lights,{emissive:{value:new rt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:je.meshphysical_vert,fragmentShader:je.meshphysical_frag},toon:{uniforms:dn([me.common,me.aomap,me.lightmap,me.emissivemap,me.bumpmap,me.normalmap,me.displacementmap,me.gradientmap,me.fog,me.lights,{emissive:{value:new rt(0)}}]),vertexShader:je.meshtoon_vert,fragmentShader:je.meshtoon_frag},matcap:{uniforms:dn([me.common,me.bumpmap,me.normalmap,me.displacementmap,me.fog,{matcap:{value:null}}]),vertexShader:je.meshmatcap_vert,fragmentShader:je.meshmatcap_frag},points:{uniforms:dn([me.points,me.fog]),vertexShader:je.points_vert,fragmentShader:je.points_frag},dashed:{uniforms:dn([me.common,me.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:je.linedashed_vert,fragmentShader:je.linedashed_frag},depth:{uniforms:dn([me.common,me.displacementmap]),vertexShader:je.depth_vert,fragmentShader:je.depth_frag},normal:{uniforms:dn([me.common,me.bumpmap,me.normalmap,me.displacementmap,{opacity:{value:1}}]),vertexShader:je.meshnormal_vert,fragmentShader:je.meshnormal_frag},sprite:{uniforms:dn([me.sprite,me.fog]),vertexShader:je.sprite_vert,fragmentShader:je.sprite_frag},background:{uniforms:{uvTransform:{value:new Xe},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:je.background_vert,fragmentShader:je.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:je.backgroundCube_vert,fragmentShader:je.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:je.cube_vert,fragmentShader:je.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:je.equirect_vert,fragmentShader:je.equirect_frag},distanceRGBA:{uniforms:dn([me.common,me.displacementmap,{referencePosition:{value:new $},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:je.distanceRGBA_vert,fragmentShader:je.distanceRGBA_frag},shadow:{uniforms:dn([me.lights,me.fog,{color:{value:new rt(0)},opacity:{value:1}}]),vertexShader:je.shadow_vert,fragmentShader:je.shadow_frag}};Dr.physical={uniforms:dn([Dr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Xe},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Xe},clearcoatNormalScale:{value:new et(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Xe},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Xe},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Xe},sheen:{value:0},sheenColor:{value:new rt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Xe},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Xe},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Xe},transmissionSamplerSize:{value:new et},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Xe},attenuationDistance:{value:0},attenuationColor:{value:new rt(0)},specularColor:{value:new rt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Xe},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Xe},anisotropyVector:{value:new et},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Xe}}]),vertexShader:je.meshphysical_vert,fragmentShader:je.meshphysical_frag};const Au={r:0,b:0,g:0};function y4(t,e,n,r,i,s,o){const a=new rt(0);let l=s===!0?0:1,c,u,f=null,d=0,h=null;function g(m,p){let y=!1,x=p.isScene===!0?p.background:null;switch(x&&x.isTexture&&(x=(p.backgroundBlurriness>0?n:e).get(x)),x===null?v(a,l):x&&x.isColor&&(v(x,1),y=!0),t.xr.getEnvironmentBlendMode()){case"opaque":y=!0;break;case"additive":r.buffers.color.setClear(0,0,0,1,o),y=!0;break;case"alpha-blend":r.buffers.color.setClear(0,0,0,0,o),y=!0;break}(t.autoClear||y)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),x&&(x.isCubeTexture||x.mapping===Af)?(u===void 0&&(u=new Fn(new Rc(1,1,1),new no({name:"BackgroundCubeMaterial",uniforms:La(Dr.backgroundCube.uniforms),vertexShader:Dr.backgroundCube.vertexShader,fragmentShader:Dr.backgroundCube.fragmentShader,side:Cn,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,T,C){this.matrixWorld.copyPosition(C.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=x,u.material.uniforms.flipEnvMap.value=x.isCubeTexture&&x.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=p.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,u.material.toneMapped=x.colorSpace!==He,(f!==x||d!==x.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,f=x,d=x.version,h=t.toneMapping),u.layers.enableAll(),m.unshift(u,u.geometry,u.material,0,0,null)):x&&x.isTexture&&(c===void 0&&(c=new Fn(new Iv(2,2),new no({name:"BackgroundMaterial",uniforms:La(Dr.background.uniforms),vertexShader:Dr.background.vertexShader,fragmentShader:Dr.background.fragmentShader,side:hs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=x,c.material.uniforms.backgroundIntensity.value=p.backgroundIntensity,c.material.toneMapped=x.colorSpace!==He,x.matrixAutoUpdate===!0&&x.updateMatrix(),c.material.uniforms.uvTransform.value.copy(x.matrix),(f!==x||d!==x.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,f=x,d=x.version,h=t.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null))}function v(m,p){m.getRGB(Au,hT(t)),r.buffers.color.setClear(Au.r,Au.g,Au.b,p,o)}return{getClearColor:function(){return a},setClearColor:function(m,p=1){a.set(m),l=p,v(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(m){l=m,v(a,l)},render:g}}function x4(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),o=r.isWebGL2||s!==null,a={},l=m(null);let c=l,u=!1;function f(L,z,H,j,N){let V=!1;if(o){const W=v(j,H,z);c!==W&&(c=W,h(c.object)),V=p(L,j,H,N),V&&y(L,j,H,N)}else{const W=z.wireframe===!0;(c.geometry!==j.id||c.program!==H.id||c.wireframe!==W)&&(c.geometry=j.id,c.program=H.id,c.wireframe=W,V=!0)}N!==null&&n.update(N,t.ELEMENT_ARRAY_BUFFER),(V||u)&&(u=!1,C(L,z,H,j),N!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(N).buffer))}function d(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function h(L){return r.isWebGL2?t.bindVertexArray(L):s.bindVertexArrayOES(L)}function g(L){return r.isWebGL2?t.deleteVertexArray(L):s.deleteVertexArrayOES(L)}function v(L,z,H){const j=H.wireframe===!0;let N=a[L.id];N===void 0&&(N={},a[L.id]=N);let V=N[z.id];V===void 0&&(V={},N[z.id]=V);let W=V[j];return W===void 0&&(W=m(d()),V[j]=W),W}function m(L){const z=[],H=[],j=[];for(let N=0;N<i;N++)z[N]=0,H[N]=0,j[N]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:z,enabledAttributes:H,attributeDivisors:j,object:L,attributes:{},index:null}}function p(L,z,H,j){const N=c.attributes,V=z.attributes;let W=0;const U=H.getAttributes();for(const B in U)if(U[B].location>=0){const te=N[B];let oe=V[B];if(oe===void 0&&(B==="instanceMatrix"&&L.instanceMatrix&&(oe=L.instanceMatrix),B==="instanceColor"&&L.instanceColor&&(oe=L.instanceColor)),te===void 0||te.attribute!==oe||oe&&te.data!==oe.data)return!0;W++}return c.attributesNum!==W||c.index!==j}function y(L,z,H,j){const N={},V=z.attributes;let W=0;const U=H.getAttributes();for(const B in U)if(U[B].location>=0){let te=V[B];te===void 0&&(B==="instanceMatrix"&&L.instanceMatrix&&(te=L.instanceMatrix),B==="instanceColor"&&L.instanceColor&&(te=L.instanceColor));const oe={};oe.attribute=te,te&&te.data&&(oe.data=te.data),N[B]=oe,W++}c.attributes=N,c.attributesNum=W,c.index=j}function x(){const L=c.newAttributes;for(let z=0,H=L.length;z<H;z++)L[z]=0}function w(L){S(L,0)}function S(L,z){const H=c.newAttributes,j=c.enabledAttributes,N=c.attributeDivisors;H[L]=1,j[L]===0&&(t.enableVertexAttribArray(L),j[L]=1),N[L]!==z&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](L,z),N[L]=z)}function M(){const L=c.newAttributes,z=c.enabledAttributes;for(let H=0,j=z.length;H<j;H++)z[H]!==L[H]&&(t.disableVertexAttribArray(H),z[H]=0)}function T(L,z,H,j,N,V,W){W===!0?t.vertexAttribIPointer(L,z,H,N,V):t.vertexAttribPointer(L,z,H,j,N,V)}function C(L,z,H,j){if(r.isWebGL2===!1&&(L.isInstancedMesh||j.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;x();const N=j.attributes,V=H.getAttributes(),W=z.defaultAttributeValues;for(const U in V){const B=V[U];if(B.location>=0){let ee=N[U];if(ee===void 0&&(U==="instanceMatrix"&&L.instanceMatrix&&(ee=L.instanceMatrix),U==="instanceColor"&&L.instanceColor&&(ee=L.instanceColor)),ee!==void 0){const te=ee.normalized,oe=ee.itemSize,se=n.get(ee);if(se===void 0)continue;const ve=se.buffer,pe=se.type,Ae=se.bytesPerElement,$e=r.isWebGL2===!0&&(pe===t.INT||pe===t.UNSIGNED_INT||ee.gpuType===Y1);if(ee.isInterleavedBufferAttribute){const Me=ee.data,G=Me.stride,Ne=ee.offset;if(Me.isInstancedInterleavedBuffer){for(let he=0;he<B.locationSize;he++)S(B.location+he,Me.meshPerAttribute);L.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=Me.meshPerAttribute*Me.count)}else for(let he=0;he<B.locationSize;he++)w(B.location+he);t.bindBuffer(t.ARRAY_BUFFER,ve);for(let he=0;he<B.locationSize;he++)T(B.location+he,oe/B.locationSize,pe,te,G*Ae,(Ne+oe/B.locationSize*he)*Ae,$e)}else{if(ee.isInstancedBufferAttribute){for(let Me=0;Me<B.locationSize;Me++)S(B.location+Me,ee.meshPerAttribute);L.isInstancedMesh!==!0&&j._maxInstanceCount===void 0&&(j._maxInstanceCount=ee.meshPerAttribute*ee.count)}else for(let Me=0;Me<B.locationSize;Me++)w(B.location+Me);t.bindBuffer(t.ARRAY_BUFFER,ve);for(let Me=0;Me<B.locationSize;Me++)T(B.location+Me,oe/B.locationSize,pe,te,oe*Ae,oe/B.locationSize*Me*Ae,$e)}}else if(W!==void 0){const te=W[U];if(te!==void 0)switch(te.length){case 2:t.vertexAttrib2fv(B.location,te);break;case 3:t.vertexAttrib3fv(B.location,te);break;case 4:t.vertexAttrib4fv(B.location,te);break;default:t.vertexAttrib1fv(B.location,te)}}}}M()}function E(){I();for(const L in a){const z=a[L];for(const H in z){const j=z[H];for(const N in j)g(j[N].object),delete j[N];delete z[H]}delete a[L]}}function A(L){if(a[L.id]===void 0)return;const z=a[L.id];for(const H in z){const j=z[H];for(const N in j)g(j[N].object),delete j[N];delete z[H]}delete a[L.id]}function k(L){for(const z in a){const H=a[z];if(H[L.id]===void 0)continue;const j=H[L.id];for(const N in j)g(j[N].object),delete j[N];delete H[L.id]}}function I(){O(),u=!0,c!==l&&(c=l,h(c.object))}function O(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:I,resetDefaultState:O,dispose:E,releaseStatesOfGeometry:A,releaseStatesOfProgram:k,initAttributes:x,enableAttribute:w,disableUnusedAttributes:M}}function _4(t,e,n,r){const i=r.isWebGL2;let s;function o(c){s=c}function a(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function l(c,u,f){if(f===0)return;let d,h;if(i)d=t,h="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[h](s,c,u,f),n.update(u,s,f)}this.setMode=o,this.render=a,this.renderInstances=l}function w4(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const T=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(T.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(T){if(T==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";T="mediump"}return T==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let a=n.precision!==void 0?n.precision:"highp";const l=s(a);l!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",l,"instead."),a=l);const c=o||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),g=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),v=t.getParameter(t.MAX_VERTEX_ATTRIBS),m=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),p=t.getParameter(t.MAX_VARYING_VECTORS),y=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),x=d>0,w=o||e.has("OES_texture_float"),S=x&&w,M=o?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:o,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:a,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:g,maxAttributes:v,maxVertexUniforms:m,maxVaryings:p,maxFragmentUniforms:y,vertexTextures:x,floatFragmentTextures:w,floatVertexTextures:S,maxSamples:M}}function S4(t){const e=this;let n=null,r=0,i=!1,s=!1;const o=new Ps,a=new Xe,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const h=f.length!==0||d||r!==0||i;return i=d,r=f.length,h},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,d){n=u(f,d,0)},this.setState=function(f,d,h){const g=f.clippingPlanes,v=f.clipIntersection,m=f.clipShadows,p=t.get(f);if(!i||g===null||g.length===0||s&&!m)s?u(null):c();else{const y=s?0:r,x=y*4;let w=p.clippingState||null;l.value=w,w=u(g,d,x,h);for(let S=0;S!==x;++S)w[S]=n[S];p.clippingState=w,this.numIntersection=v?this.numPlanes:0,this.numPlanes+=y}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,h,g){const v=f!==null?f.length:0;let m=null;if(v!==0){if(m=l.value,g!==!0||m===null){const p=h+v*4,y=d.matrixWorldInverse;a.getNormalMatrix(y),(m===null||m.length<p)&&(m=new Float32Array(p));for(let x=0,w=h;x!==v;++x,w+=4)o.copy(f[x]).applyMatrix4(y,a),o.normal.toArray(m,w),m[w+3]=o.constant}l.value=m,l.needsUpdate=!0}return e.numPlanes=v,e.numIntersection=0,m}}function b4(t){let e=new WeakMap;function n(o,a){return a===Om?o.mapping=Ca:a===Um&&(o.mapping=Ra),o}function r(o){if(o&&o.isTexture&&o.isRenderTargetTexture===!1){const a=o.mapping;if(a===Om||a===Um)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new kF(l.height/2);return c.fromEquirectangularTexture(t,o),e.set(o,c),o.addEventListener("dispose",i),n(c.texture,o.mapping)}else return null}}return o}function i(o){const a=o.target;a.removeEventListener("dispose",i);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class vT extends pT{constructor(e=-1,n=1,r=1,i=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,o=r+e,a=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Ko=4,F_=[.125,.215,.35,.446,.526,.582],Ns=20,ip=new vT,z_=new rt;let sp=null;const Ls=(1+Math.sqrt(5))/2,Co=1/Ls,B_=[new $(1,1,1),new $(-1,1,1),new $(1,1,-1),new $(-1,1,-1),new $(0,Ls,Co),new $(0,Ls,-Co),new $(Co,0,Ls),new $(-Co,0,Ls),new $(Ls,Co,0),new $(-Ls,Co,0)];class V_{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){sp=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=G_(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=H_(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(sp),e.scissorTest=!1,Cu(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ca||e.mapping===Ra?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),sp=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:er,minFilter:er,generateMipmaps:!1,type:cc,format:xr,colorSpace:Vr,depthBuffer:!1},i=j_(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=j_(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=E4(s)),this._blurMaterial=M4(s,e,n)}return i}_compileMaterial(e){const n=new Fn(this._lodPlanes[0],e);this._renderer.compile(n,ip)}_sceneToCubeUV(e,n,r,i){const a=new kn(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,d=u.toneMapping;u.getClearColor(z_),u.toneMapping=rs,u.autoClear=!1;const h=new uT({name:"PMREM.Background",side:Cn,depthWrite:!1,depthTest:!1}),g=new Fn(new Rc,h);let v=!1;const m=e.background;m?m.isColor&&(h.color.copy(m),e.background=null,v=!0):(h.color.copy(z_),v=!0);for(let p=0;p<6;p++){const y=p%3;y===0?(a.up.set(0,l[p],0),a.lookAt(c[p],0,0)):y===1?(a.up.set(0,0,l[p]),a.lookAt(0,c[p],0)):(a.up.set(0,l[p],0),a.lookAt(0,0,c[p]));const x=this._cubeSize;Cu(i,y*x,p>2?x:0,x,x),u.setRenderTarget(i),v&&u.render(g,a),u.render(e,a)}g.geometry.dispose(),g.material.dispose(),u.toneMapping=d,u.autoClear=f,e.background=m}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ca||e.mapping===Ra;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=G_()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=H_());const s=i?this._cubemapMaterial:this._equirectMaterial,o=new Fn(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;Cu(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,ip)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),o=B_[(i-1)%B_.length];this._blur(e,i-1,i,s,o)}n.autoClear=r}_blur(e,n,r,i,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",s),this._halfBlur(o,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Fn(this._lodPlanes[i],c),d=c.uniforms,h=this._sizeLods[r]-1,g=isFinite(s)?Math.PI/(2*h):2*Math.PI/(2*Ns-1),v=s/g,m=isFinite(s)?1+Math.floor(u*v):Ns;m>Ns&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Ns}`);const p=[];let y=0;for(let T=0;T<Ns;++T){const C=T/v,E=Math.exp(-C*C/2);p.push(E),T===0?y+=E:T<m&&(y+=2*E)}for(let T=0;T<p.length;T++)p[T]=p[T]/y;d.envMap.value=e.texture,d.samples.value=m,d.weights.value=p,d.latitudinal.value=o==="latitudinal",a&&(d.poleAxis.value=a);const{_lodMax:x}=this;d.dTheta.value=g,d.mipInt.value=x-r;const w=this._sizeLods[i],S=3*w*(i>x-Ko?i-x+Ko:0),M=4*(this._cubeSize-w);Cu(n,S,M,3*w,2*w),l.setRenderTarget(n),l.render(f,ip)}}function E4(t){const e=[],n=[],r=[];let i=t;const s=t-Ko+1+F_.length;for(let o=0;o<s;o++){const a=Math.pow(2,i);n.push(a);let l=1/a;o>t-Ko?l=F_[o-t+Ko-1]:o===0&&(l=0),r.push(l);const c=1/(a-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],h=6,g=6,v=3,m=2,p=1,y=new Float32Array(v*g*h),x=new Float32Array(m*g*h),w=new Float32Array(p*g*h);for(let M=0;M<h;M++){const T=M%3*2/3-1,C=M>2?0:-1,E=[T,C,0,T+2/3,C,0,T+2/3,C+1,0,T,C,0,T+2/3,C+1,0,T,C+1,0];y.set(E,v*g*M),x.set(d,m*g*M);const A=[M,M,M,M,M,M];w.set(A,p*g*M)}const S=new _i;S.setAttribute("position",new zr(y,v)),S.setAttribute("uv",new zr(x,m)),S.setAttribute("faceIndex",new zr(w,p)),e.push(S),i>Ko&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function j_(t,e,n){const r=new to(t,e,n);return r.texture.mapping=Af,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Cu(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function M4(t,e,n){const r=new Float32Array(Ns),i=new $(0,1,0);return new no({name:"SphericalGaussianBlur",defines:{n:Ns,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:Ov(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ns,depthTest:!1,depthWrite:!1})}function H_(){return new no({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:Ov(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ns,depthTest:!1,depthWrite:!1})}function G_(){return new no({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:Ov(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ns,depthTest:!1,depthWrite:!1})}function Ov(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function T4(t){let e=new WeakMap,n=null;function r(a){if(a&&a.isTexture){const l=a.mapping,c=l===Om||l===Um,u=l===Ca||l===Ra;if(c||u)if(a.isRenderTargetTexture&&a.needsPMREMUpdate===!0){a.needsPMREMUpdate=!1;let f=e.get(a);return n===null&&(n=new V_(t)),f=c?n.fromEquirectangular(a,f):n.fromCubemap(a,f),e.set(a,f),f.texture}else{if(e.has(a))return e.get(a).texture;{const f=a.image;if(c&&f&&f.height>0||u&&f&&i(f)){n===null&&(n=new V_(t));const d=c?n.fromEquirectangular(a):n.fromCubemap(a);return e.set(a,d),a.addEventListener("dispose",s),d.texture}else return null}}}return a}function i(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function A4(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function C4(t,e,n,r){const i={},s=new WeakMap;function o(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const g in d.attributes)e.remove(d.attributes[g]);for(const g in d.morphAttributes){const v=d.morphAttributes[g];for(let m=0,p=v.length;m<p;m++)e.remove(v[m])}d.removeEventListener("dispose",o),delete i[d.id];const h=s.get(d);h&&(e.remove(h),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function a(f,d){return i[d.id]===!0||(d.addEventListener("dispose",o),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const g in d)e.update(d[g],t.ARRAY_BUFFER);const h=f.morphAttributes;for(const g in h){const v=h[g];for(let m=0,p=v.length;m<p;m++)e.update(v[m],t.ARRAY_BUFFER)}}function c(f){const d=[],h=f.index,g=f.attributes.position;let v=0;if(h!==null){const y=h.array;v=h.version;for(let x=0,w=y.length;x<w;x+=3){const S=y[x+0],M=y[x+1],T=y[x+2];d.push(S,M,M,T,T,S)}}else if(g!==void 0){const y=g.array;v=g.version;for(let x=0,w=y.length/3-1;x<w;x+=3){const S=x+0,M=x+1,T=x+2;d.push(S,M,M,T,T,S)}}else return;const m=new(iT(d)?fT:dT)(d,1);m.version=v;const p=s.get(f);p&&e.remove(p),s.set(f,m)}function u(f){const d=s.get(f);if(d){const h=f.index;h!==null&&d.version<h.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function R4(t,e,n,r){const i=r.isWebGL2;let s;function o(d){s=d}let a,l;function c(d){a=d.type,l=d.bytesPerElement}function u(d,h){t.drawElements(s,h,a,d*l),n.update(h,s,1)}function f(d,h,g){if(g===0)return;let v,m;if(i)v=t,m="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[m](s,h,a,d*l,g),n.update(h,s,g)}this.setMode=o,this.setIndex=c,this.render=u,this.renderInstances=f}function P4(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,o,a){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=a*(s/3);break;case t.LINES:n.lines+=a*(s/2);break;case t.LINE_STRIP:n.lines+=a*(s-1);break;case t.LINE_LOOP:n.lines+=a*s;break;case t.POINTS:n.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function L4(t,e){return t[0]-e[0]}function N4(t,e){return Math.abs(e[1])-Math.abs(t[1])}function D4(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,o=new vt,a=[];for(let c=0;c<8;c++)a[c]=[c,0];function l(c,u,f){const d=c.morphTargetInfluences;if(e.isWebGL2===!0){const g=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,v=g!==void 0?g.length:0;let m=s.get(u);if(m===void 0||m.count!==v){let z=function(){O.dispose(),s.delete(u),u.removeEventListener("dispose",z)};var h=z;m!==void 0&&m.texture.dispose();const x=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,S=u.morphAttributes.color!==void 0,M=u.morphAttributes.position||[],T=u.morphAttributes.normal||[],C=u.morphAttributes.color||[];let E=0;x===!0&&(E=1),w===!0&&(E=2),S===!0&&(E=3);let A=u.attributes.position.count*E,k=1;A>e.maxTextureSize&&(k=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const I=new Float32Array(A*k*4*v),O=new aT(I,A,k,v);O.type=Wi,O.needsUpdate=!0;const L=E*4;for(let H=0;H<v;H++){const j=M[H],N=T[H],V=C[H],W=A*k*4*H;for(let U=0;U<j.count;U++){const B=U*L;x===!0&&(o.fromBufferAttribute(j,U),I[W+B+0]=o.x,I[W+B+1]=o.y,I[W+B+2]=o.z,I[W+B+3]=0),w===!0&&(o.fromBufferAttribute(N,U),I[W+B+4]=o.x,I[W+B+5]=o.y,I[W+B+6]=o.z,I[W+B+7]=0),S===!0&&(o.fromBufferAttribute(V,U),I[W+B+8]=o.x,I[W+B+9]=o.y,I[W+B+10]=o.z,I[W+B+11]=V.itemSize===4?o.w:1)}}m={count:v,texture:O,size:new et(A,k)},s.set(u,m),u.addEventListener("dispose",z)}let p=0;for(let x=0;x<d.length;x++)p+=d[x];const y=u.morphTargetsRelative?1:1-p;f.getUniforms().setValue(t,"morphTargetBaseInfluence",y),f.getUniforms().setValue(t,"morphTargetInfluences",d),f.getUniforms().setValue(t,"morphTargetsTexture",m.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}else{const g=d===void 0?0:d.length;let v=r[u.id];if(v===void 0||v.length!==g){v=[];for(let w=0;w<g;w++)v[w]=[w,0];r[u.id]=v}for(let w=0;w<g;w++){const S=v[w];S[0]=w,S[1]=d[w]}v.sort(N4);for(let w=0;w<8;w++)w<g&&v[w][1]?(a[w][0]=v[w][0],a[w][1]=v[w][1]):(a[w][0]=Number.MAX_SAFE_INTEGER,a[w][1]=0);a.sort(L4);const m=u.morphAttributes.position,p=u.morphAttributes.normal;let y=0;for(let w=0;w<8;w++){const S=a[w],M=S[0],T=S[1];M!==Number.MAX_SAFE_INTEGER&&T?(m&&u.getAttribute("morphTarget"+w)!==m[M]&&u.setAttribute("morphTarget"+w,m[M]),p&&u.getAttribute("morphNormal"+w)!==p[M]&&u.setAttribute("morphNormal"+w,p[M]),i[w]=T,y+=T):(m&&u.hasAttribute("morphTarget"+w)===!0&&u.deleteAttribute("morphTarget"+w),p&&u.hasAttribute("morphNormal"+w)===!0&&u.deleteAttribute("morphNormal"+w),i[w]=0)}const x=u.morphTargetsRelative?1:1-y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",x),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function I4(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return f}function o(){i=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:o}}const yT=new jn,xT=new aT,_T=new _F,wT=new mT,W_=[],X_=[],$_=new Float32Array(16),q_=new Float32Array(9),Y_=new Float32Array(4);function ja(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=W_[i];if(s===void 0&&(s=new Float32Array(i),W_[i]=s),e!==0){r.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=n,t[o].toArray(s,a)}return s}function Bt(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Vt(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function Rf(t,e){let n=X_[e];n===void 0&&(n=new Int32Array(e),X_[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function O4(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function U4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bt(n,e))return;t.uniform2fv(this.addr,e),Vt(n,e)}}function k4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Bt(n,e))return;t.uniform3fv(this.addr,e),Vt(n,e)}}function F4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bt(n,e))return;t.uniform4fv(this.addr,e),Vt(n,e)}}function z4(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Bt(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Vt(n,e)}else{if(Bt(n,r))return;Y_.set(r),t.uniformMatrix2fv(this.addr,!1,Y_),Vt(n,r)}}function B4(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Bt(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Vt(n,e)}else{if(Bt(n,r))return;q_.set(r),t.uniformMatrix3fv(this.addr,!1,q_),Vt(n,r)}}function V4(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Bt(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Vt(n,e)}else{if(Bt(n,r))return;$_.set(r),t.uniformMatrix4fv(this.addr,!1,$_),Vt(n,r)}}function j4(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function H4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bt(n,e))return;t.uniform2iv(this.addr,e),Vt(n,e)}}function G4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Bt(n,e))return;t.uniform3iv(this.addr,e),Vt(n,e)}}function W4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bt(n,e))return;t.uniform4iv(this.addr,e),Vt(n,e)}}function X4(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function $4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Bt(n,e))return;t.uniform2uiv(this.addr,e),Vt(n,e)}}function q4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Bt(n,e))return;t.uniform3uiv(this.addr,e),Vt(n,e)}}function Y4(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Bt(n,e))return;t.uniform4uiv(this.addr,e),Vt(n,e)}}function K4(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||yT,i)}function Q4(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||_T,i)}function Z4(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||wT,i)}function J4(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||xT,i)}function eV(t){switch(t){case 5126:return O4;case 35664:return U4;case 35665:return k4;case 35666:return F4;case 35674:return z4;case 35675:return B4;case 35676:return V4;case 5124:case 35670:return j4;case 35667:case 35671:return H4;case 35668:case 35672:return G4;case 35669:case 35673:return W4;case 5125:return X4;case 36294:return $4;case 36295:return q4;case 36296:return Y4;case 35678:case 36198:case 36298:case 36306:case 35682:return K4;case 35679:case 36299:case 36307:return Q4;case 35680:case 36300:case 36308:case 36293:return Z4;case 36289:case 36303:case 36311:case 36292:return J4}}function tV(t,e){t.uniform1fv(this.addr,e)}function nV(t,e){const n=ja(e,this.size,2);t.uniform2fv(this.addr,n)}function rV(t,e){const n=ja(e,this.size,3);t.uniform3fv(this.addr,n)}function iV(t,e){const n=ja(e,this.size,4);t.uniform4fv(this.addr,n)}function sV(t,e){const n=ja(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function oV(t,e){const n=ja(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function aV(t,e){const n=ja(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function lV(t,e){t.uniform1iv(this.addr,e)}function cV(t,e){t.uniform2iv(this.addr,e)}function uV(t,e){t.uniform3iv(this.addr,e)}function dV(t,e){t.uniform4iv(this.addr,e)}function fV(t,e){t.uniform1uiv(this.addr,e)}function hV(t,e){t.uniform2uiv(this.addr,e)}function pV(t,e){t.uniform3uiv(this.addr,e)}function mV(t,e){t.uniform4uiv(this.addr,e)}function gV(t,e,n){const r=this.cache,i=e.length,s=Rf(n,i);Bt(r,s)||(t.uniform1iv(this.addr,s),Vt(r,s));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||yT,s[o])}function vV(t,e,n){const r=this.cache,i=e.length,s=Rf(n,i);Bt(r,s)||(t.uniform1iv(this.addr,s),Vt(r,s));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||_T,s[o])}function yV(t,e,n){const r=this.cache,i=e.length,s=Rf(n,i);Bt(r,s)||(t.uniform1iv(this.addr,s),Vt(r,s));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||wT,s[o])}function xV(t,e,n){const r=this.cache,i=e.length,s=Rf(n,i);Bt(r,s)||(t.uniform1iv(this.addr,s),Vt(r,s));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||xT,s[o])}function _V(t){switch(t){case 5126:return tV;case 35664:return nV;case 35665:return rV;case 35666:return iV;case 35674:return sV;case 35675:return oV;case 35676:return aV;case 5124:case 35670:return lV;case 35667:case 35671:return cV;case 35668:case 35672:return uV;case 35669:case 35673:return dV;case 5125:return fV;case 36294:return hV;case 36295:return pV;case 36296:return mV;case 35678:case 36198:case 36298:case 36306:case 35682:return gV;case 35679:case 36299:case 36307:return vV;case 35680:case 36300:case 36308:case 36293:return yV;case 36289:case 36303:case 36311:case 36292:return xV}}class wV{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=eV(n.type)}}class SV{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=_V(n.type)}}class bV{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,o=i.length;s!==o;++s){const a=i[s];a.setValue(e,n[a.id],r)}}}const op=/(\w+)(\])?(\[|\.)?/g;function K_(t,e){t.seq.push(e),t.map[e.id]=e}function EV(t,e,n){const r=t.name,i=r.length;for(op.lastIndex=0;;){const s=op.exec(r),o=op.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===i){K_(n,c===void 0?new wV(a,t,e):new SV(a,t,e));break}else{let f=n.map[a];f===void 0&&(f=new bV(a),K_(n,f)),n=f}}}class $u{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),o=e.getUniformLocation(n,s.name);EV(s,o,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,o=n.length;s!==o;++s){const a=n[s],l=r[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function Q_(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let MV=0;function TV(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let o=i;o<s;o++){const a=o+1;r.push(`${a===e?">":" "} ${a}: ${n[o]}`)}return r.join(`
`)}function AV(t){switch(t){case Vr:return["Linear","( value )"];case He:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function Z_(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const o=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+TV(t.getShaderSource(e),o)}else return i}function CV(t,e){const n=AV(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function RV(t,e){let n;switch(e){case kk:n="Linear";break;case Fk:n="Reinhard";break;case zk:n="OptimizedCineon";break;case Bk:n="ACESFilmic";break;case Vk:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function PV(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(yl).join(`
`)}function LV(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function NV(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),o=s.name;let a=1;s.type===t.FLOAT_MAT2&&(a=2),s.type===t.FLOAT_MAT3&&(a=3),s.type===t.FLOAT_MAT4&&(a=4),n[o]={type:s.type,location:t.getAttribLocation(e,o),locationSize:a}}return n}function yl(t){return t!==""}function J_(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function ew(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const DV=/^[ \t]*#include +<([\w\d./]+)>/gm;function jm(t){return t.replace(DV,OV)}const IV=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function OV(t,e){let n=je[e];if(n===void 0){const r=IV.get(e);if(r!==void 0)n=je[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return jm(n)}const UV=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function tw(t){return t.replace(UV,kV)}function kV(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function nw(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function FV(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===W1?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===mk?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ei&&(e="SHADOWMAP_TYPE_VSM"),e}function zV(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ca:case Ra:e="ENVMAP_TYPE_CUBE";break;case Af:e="ENVMAP_TYPE_CUBE_UV";break}return e}function BV(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ra:e="ENVMAP_MODE_REFRACTION";break}return e}function VV(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Pv:e="ENVMAP_BLENDING_MULTIPLY";break;case Ok:e="ENVMAP_BLENDING_MIX";break;case Uk:e="ENVMAP_BLENDING_ADD";break}return e}function jV(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function HV(t,e,n,r){const i=t.getContext(),s=n.defines;let o=n.vertexShader,a=n.fragmentShader;const l=FV(n),c=zV(n),u=BV(n),f=VV(n),d=jV(n),h=n.isWebGL2?"":PV(n),g=LV(s),v=i.createProgram();let m,p,y=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(yl).join(`
`),m.length>0&&(m+=`
`),p=[h,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(yl).join(`
`),p.length>0&&(p+=`
`)):(m=[nw(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(yl).join(`
`),p=[h,nw(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==rs?"#define TONE_MAPPING":"",n.toneMapping!==rs?je.tonemapping_pars_fragment:"",n.toneMapping!==rs?RV("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",je.colorspace_pars_fragment,CV("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(yl).join(`
`)),o=jm(o),o=J_(o,n),o=ew(o,n),a=jm(a),a=J_(a,n),a=ew(a,n),o=tw(o),a=tw(a),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(y=`#version 300 es
`,m=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,p=["#define varying in",n.glslVersion===w_?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===w_?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+p);const x=y+m+o,w=y+p+a,S=Q_(i,i.VERTEX_SHADER,x),M=Q_(i,i.FRAGMENT_SHADER,w);if(i.attachShader(v,S),i.attachShader(v,M),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v),t.debug.checkShaderErrors){const E=i.getProgramInfoLog(v).trim(),A=i.getShaderInfoLog(S).trim(),k=i.getShaderInfoLog(M).trim();let I=!0,O=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(I=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,v,S,M);else{const L=Z_(i,S,"vertex"),z=Z_(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Program Info Log: `+E+`
`+L+`
`+z)}else E!==""?console.warn("THREE.WebGLProgram: Program Info Log:",E):(A===""||k==="")&&(O=!1);O&&(this.diagnostics={runnable:I,programLog:E,vertexShader:{log:A,prefix:m},fragmentShader:{log:k,prefix:p}})}i.deleteShader(S),i.deleteShader(M);let T;this.getUniforms=function(){return T===void 0&&(T=new $u(i,v)),T};let C;return this.getAttributes=function(){return C===void 0&&(C=NV(i,v)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=MV++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=S,this.fragmentShader=M,this}let GV=0;class WV{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new XV(e),n.set(e,r)),r}}class XV{constructor(e){this.id=GV++,this.code=e,this.usedTimes=0}}function $V(t,e,n,r,i,s,o){const a=new lT,l=new WV,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let h=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function v(E){return E===0?"uv":`uv${E}`}function m(E,A,k,I,O){const L=I.fog,z=O.geometry,H=E.isMeshStandardMaterial?I.environment:null,j=(E.isMeshStandardMaterial?n:e).get(E.envMap||H),N=j&&j.mapping===Af?j.image.height:null,V=g[E.type];E.precision!==null&&(h=i.getMaxPrecision(E.precision),h!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",h,"instead."));const W=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,U=W!==void 0?W.length:0;let B=0;z.morphAttributes.position!==void 0&&(B=1),z.morphAttributes.normal!==void 0&&(B=2),z.morphAttributes.color!==void 0&&(B=3);let ee,te,oe,se;if(V){const ct=Dr[V];ee=ct.vertexShader,te=ct.fragmentShader}else ee=E.vertexShader,te=E.fragmentShader,l.update(E),oe=l.getVertexShaderID(E),se=l.getFragmentShaderID(E);const ve=t.getRenderTarget(),pe=O.isInstancedMesh===!0,Ae=!!E.map,$e=!!E.matcap,Me=!!j,G=!!E.aoMap,Ne=!!E.lightMap,he=!!E.bumpMap,Te=!!E.normalMap,be=!!E.displacementMap,tt=!!E.emissiveMap,Ge=!!E.metalnessMap,Ce=!!E.roughnessMap,Qe=E.anisotropy>0,kt=E.clearcoat>0,Ht=E.iridescence>0,D=E.sheen>0,R=E.transmission>0,K=Qe&&!!E.anisotropyMap,ce=kt&&!!E.clearcoatMap,ie=kt&&!!E.clearcoatNormalMap,de=kt&&!!E.clearcoatRoughnessMap,Ee=Ht&&!!E.iridescenceMap,fe=Ht&&!!E.iridescenceThicknessMap,Q=D&&!!E.sheenColorMap,Pe=D&&!!E.sheenRoughnessMap,Re=!!E.specularMap,Le=!!E.specularColorMap,we=!!E.specularIntensityMap,ye=R&&!!E.transmissionMap,We=R&&!!E.thicknessMap,xe=!!E.gradientMap,F=!!E.alphaMap,re=E.alphaTest>0,Y=!!E.alphaHash,le=!!E.extensions,ge=!!z.attributes.uv1,Ze=!!z.attributes.uv2,yt=!!z.attributes.uv3;let Rt=rs;return E.toneMapped&&(ve===null||ve.isXRRenderTarget===!0)&&(Rt=t.toneMapping),{isWebGL2:u,shaderID:V,shaderType:E.type,shaderName:E.name,vertexShader:ee,fragmentShader:te,defines:E.defines,customVertexShaderID:oe,customFragmentShaderID:se,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:h,instancing:pe,instancingColor:pe&&O.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:ve===null?t.outputColorSpace:ve.isXRRenderTarget===!0?ve.texture.colorSpace:Vr,map:Ae,matcap:$e,envMap:Me,envMapMode:Me&&j.mapping,envMapCubeUVHeight:N,aoMap:G,lightMap:Ne,bumpMap:he,normalMap:Te,displacementMap:d&&be,emissiveMap:tt,normalMapObjectSpace:Te&&E.normalMapType===eF,normalMapTangentSpace:Te&&E.normalMapType===nT,metalnessMap:Ge,roughnessMap:Ce,anisotropy:Qe,anisotropyMap:K,clearcoat:kt,clearcoatMap:ce,clearcoatNormalMap:ie,clearcoatRoughnessMap:de,iridescence:Ht,iridescenceMap:Ee,iridescenceThicknessMap:fe,sheen:D,sheenColorMap:Q,sheenRoughnessMap:Pe,specularMap:Re,specularColorMap:Le,specularIntensityMap:we,transmission:R,transmissionMap:ye,thicknessMap:We,gradientMap:xe,opaque:E.transparent===!1&&E.blending===sa,alphaMap:F,alphaTest:re,alphaHash:Y,combine:E.combine,mapUv:Ae&&v(E.map.channel),aoMapUv:G&&v(E.aoMap.channel),lightMapUv:Ne&&v(E.lightMap.channel),bumpMapUv:he&&v(E.bumpMap.channel),normalMapUv:Te&&v(E.normalMap.channel),displacementMapUv:be&&v(E.displacementMap.channel),emissiveMapUv:tt&&v(E.emissiveMap.channel),metalnessMapUv:Ge&&v(E.metalnessMap.channel),roughnessMapUv:Ce&&v(E.roughnessMap.channel),anisotropyMapUv:K&&v(E.anisotropyMap.channel),clearcoatMapUv:ce&&v(E.clearcoatMap.channel),clearcoatNormalMapUv:ie&&v(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:de&&v(E.clearcoatRoughnessMap.channel),iridescenceMapUv:Ee&&v(E.iridescenceMap.channel),iridescenceThicknessMapUv:fe&&v(E.iridescenceThicknessMap.channel),sheenColorMapUv:Q&&v(E.sheenColorMap.channel),sheenRoughnessMapUv:Pe&&v(E.sheenRoughnessMap.channel),specularMapUv:Re&&v(E.specularMap.channel),specularColorMapUv:Le&&v(E.specularColorMap.channel),specularIntensityMapUv:we&&v(E.specularIntensityMap.channel),transmissionMapUv:ye&&v(E.transmissionMap.channel),thicknessMapUv:We&&v(E.thicknessMap.channel),alphaMapUv:F&&v(E.alphaMap.channel),vertexTangents:!!z.attributes.tangent&&(Te||Qe),vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,vertexUv1s:ge,vertexUv2s:Ze,vertexUv3s:yt,pointsUvs:O.isPoints===!0&&!!z.attributes.uv&&(Ae||F),fog:!!L,useFog:E.fog===!0,fogExp2:L&&L.isFogExp2,flatShading:E.flatShading===!0,sizeAttenuation:E.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:O.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:U,morphTextureStride:B,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:E.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:Rt,useLegacyLights:t._useLegacyLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===ri,flipSided:E.side===Cn,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:le&&E.extensions.derivatives===!0,extensionFragDepth:le&&E.extensions.fragDepth===!0,extensionDrawBuffers:le&&E.extensions.drawBuffers===!0,extensionShaderTextureLOD:le&&E.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function p(E){const A=[];if(E.shaderID?A.push(E.shaderID):(A.push(E.customVertexShaderID),A.push(E.customFragmentShaderID)),E.defines!==void 0)for(const k in E.defines)A.push(k),A.push(E.defines[k]);return E.isRawShaderMaterial===!1&&(y(A,E),x(A,E),A.push(t.outputColorSpace)),A.push(E.customProgramCacheKey),A.join()}function y(E,A){E.push(A.precision),E.push(A.outputColorSpace),E.push(A.envMapMode),E.push(A.envMapCubeUVHeight),E.push(A.mapUv),E.push(A.alphaMapUv),E.push(A.lightMapUv),E.push(A.aoMapUv),E.push(A.bumpMapUv),E.push(A.normalMapUv),E.push(A.displacementMapUv),E.push(A.emissiveMapUv),E.push(A.metalnessMapUv),E.push(A.roughnessMapUv),E.push(A.anisotropyMapUv),E.push(A.clearcoatMapUv),E.push(A.clearcoatNormalMapUv),E.push(A.clearcoatRoughnessMapUv),E.push(A.iridescenceMapUv),E.push(A.iridescenceThicknessMapUv),E.push(A.sheenColorMapUv),E.push(A.sheenRoughnessMapUv),E.push(A.specularMapUv),E.push(A.specularColorMapUv),E.push(A.specularIntensityMapUv),E.push(A.transmissionMapUv),E.push(A.thicknessMapUv),E.push(A.combine),E.push(A.fogExp2),E.push(A.sizeAttenuation),E.push(A.morphTargetsCount),E.push(A.morphAttributeCount),E.push(A.numDirLights),E.push(A.numPointLights),E.push(A.numSpotLights),E.push(A.numSpotLightMaps),E.push(A.numHemiLights),E.push(A.numRectAreaLights),E.push(A.numDirLightShadows),E.push(A.numPointLightShadows),E.push(A.numSpotLightShadows),E.push(A.numSpotLightShadowsWithMaps),E.push(A.shadowMapType),E.push(A.toneMapping),E.push(A.numClippingPlanes),E.push(A.numClipIntersection),E.push(A.depthPacking)}function x(E,A){a.disableAll(),A.isWebGL2&&a.enable(0),A.supportsVertexTextures&&a.enable(1),A.instancing&&a.enable(2),A.instancingColor&&a.enable(3),A.matcap&&a.enable(4),A.envMap&&a.enable(5),A.normalMapObjectSpace&&a.enable(6),A.normalMapTangentSpace&&a.enable(7),A.clearcoat&&a.enable(8),A.iridescence&&a.enable(9),A.alphaTest&&a.enable(10),A.vertexColors&&a.enable(11),A.vertexAlphas&&a.enable(12),A.vertexUv1s&&a.enable(13),A.vertexUv2s&&a.enable(14),A.vertexUv3s&&a.enable(15),A.vertexTangents&&a.enable(16),A.anisotropy&&a.enable(17),E.push(a.mask),a.disableAll(),A.fog&&a.enable(0),A.useFog&&a.enable(1),A.flatShading&&a.enable(2),A.logarithmicDepthBuffer&&a.enable(3),A.skinning&&a.enable(4),A.morphTargets&&a.enable(5),A.morphNormals&&a.enable(6),A.morphColors&&a.enable(7),A.premultipliedAlpha&&a.enable(8),A.shadowMapEnabled&&a.enable(9),A.useLegacyLights&&a.enable(10),A.doubleSided&&a.enable(11),A.flipSided&&a.enable(12),A.useDepthPacking&&a.enable(13),A.dithering&&a.enable(14),A.transmission&&a.enable(15),A.sheen&&a.enable(16),A.opaque&&a.enable(17),A.pointsUvs&&a.enable(18),E.push(a.mask)}function w(E){const A=g[E.type];let k;if(A){const I=Dr[A];k=DF.clone(I.uniforms)}else k=E.uniforms;return k}function S(E,A){let k;for(let I=0,O=c.length;I<O;I++){const L=c[I];if(L.cacheKey===A){k=L,++k.usedTimes;break}}return k===void 0&&(k=new HV(t,A,E,s),c.push(k)),k}function M(E){if(--E.usedTimes===0){const A=c.indexOf(E);c[A]=c[c.length-1],c.pop(),E.destroy()}}function T(E){l.remove(E)}function C(){l.dispose()}return{getParameters:m,getProgramCacheKey:p,getUniforms:w,acquireProgram:S,releaseProgram:M,releaseShaderCache:T,programs:c,dispose:C}}function qV(){let t=new WeakMap;function e(s){let o=t.get(s);return o===void 0&&(o={},t.set(s,o)),o}function n(s){t.delete(s)}function r(s,o,a){t.get(s)[o]=a}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function YV(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function rw(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function iw(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function o(f,d,h,g,v,m){let p=t[e];return p===void 0?(p={id:f.id,object:f,geometry:d,material:h,groupOrder:g,renderOrder:f.renderOrder,z:v,group:m},t[e]=p):(p.id=f.id,p.object=f,p.geometry=d,p.material=h,p.groupOrder=g,p.renderOrder=f.renderOrder,p.z=v,p.group=m),e++,p}function a(f,d,h,g,v,m){const p=o(f,d,h,g,v,m);h.transmission>0?r.push(p):h.transparent===!0?i.push(p):n.push(p)}function l(f,d,h,g,v,m){const p=o(f,d,h,g,v,m);h.transmission>0?r.unshift(p):h.transparent===!0?i.unshift(p):n.unshift(p)}function c(f,d){n.length>1&&n.sort(f||YV),r.length>1&&r.sort(d||rw),i.length>1&&i.sort(d||rw)}function u(){for(let f=e,d=t.length;f<d;f++){const h=t[f];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:a,unshift:l,finish:u,sort:c}}function KV(){let t=new WeakMap;function e(r,i){const s=t.get(r);let o;return s===void 0?(o=new iw,t.set(r,[o])):i>=s.length?(o=new iw,s.push(o)):o=s[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function QV(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new $,color:new rt};break;case"SpotLight":n={position:new $,direction:new $,color:new rt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new $,color:new rt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new $,skyColor:new rt,groundColor:new rt};break;case"RectAreaLight":n={color:new rt,position:new $,halfWidth:new $,halfHeight:new $};break}return t[e.id]=n,n}}}function ZV(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new et,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let JV=0;function e5(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function t5(t,e){const n=new QV,r=ZV(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new $);const s=new $,o=new Ut,a=new Ut;function l(u,f){let d=0,h=0,g=0;for(let k=0;k<9;k++)i.probe[k].set(0,0,0);let v=0,m=0,p=0,y=0,x=0,w=0,S=0,M=0,T=0,C=0;u.sort(e5);const E=f===!0?Math.PI:1;for(let k=0,I=u.length;k<I;k++){const O=u[k],L=O.color,z=O.intensity,H=O.distance,j=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)d+=L.r*z*E,h+=L.g*z*E,g+=L.b*z*E;else if(O.isLightProbe)for(let N=0;N<9;N++)i.probe[N].addScaledVector(O.sh.coefficients[N],z);else if(O.isDirectionalLight){const N=n.get(O);if(N.color.copy(O.color).multiplyScalar(O.intensity*E),O.castShadow){const V=O.shadow,W=r.get(O);W.shadowBias=V.bias,W.shadowNormalBias=V.normalBias,W.shadowRadius=V.radius,W.shadowMapSize=V.mapSize,i.directionalShadow[v]=W,i.directionalShadowMap[v]=j,i.directionalShadowMatrix[v]=O.shadow.matrix,w++}i.directional[v]=N,v++}else if(O.isSpotLight){const N=n.get(O);N.position.setFromMatrixPosition(O.matrixWorld),N.color.copy(L).multiplyScalar(z*E),N.distance=H,N.coneCos=Math.cos(O.angle),N.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),N.decay=O.decay,i.spot[p]=N;const V=O.shadow;if(O.map&&(i.spotLightMap[T]=O.map,T++,V.updateMatrices(O),O.castShadow&&C++),i.spotLightMatrix[p]=V.matrix,O.castShadow){const W=r.get(O);W.shadowBias=V.bias,W.shadowNormalBias=V.normalBias,W.shadowRadius=V.radius,W.shadowMapSize=V.mapSize,i.spotShadow[p]=W,i.spotShadowMap[p]=j,M++}p++}else if(O.isRectAreaLight){const N=n.get(O);N.color.copy(L).multiplyScalar(z),N.halfWidth.set(O.width*.5,0,0),N.halfHeight.set(0,O.height*.5,0),i.rectArea[y]=N,y++}else if(O.isPointLight){const N=n.get(O);if(N.color.copy(O.color).multiplyScalar(O.intensity*E),N.distance=O.distance,N.decay=O.decay,O.castShadow){const V=O.shadow,W=r.get(O);W.shadowBias=V.bias,W.shadowNormalBias=V.normalBias,W.shadowRadius=V.radius,W.shadowMapSize=V.mapSize,W.shadowCameraNear=V.camera.near,W.shadowCameraFar=V.camera.far,i.pointShadow[m]=W,i.pointShadowMap[m]=j,i.pointShadowMatrix[m]=O.shadow.matrix,S++}i.point[m]=N,m++}else if(O.isHemisphereLight){const N=n.get(O);N.skyColor.copy(O.color).multiplyScalar(z*E),N.groundColor.copy(O.groundColor).multiplyScalar(z*E),i.hemi[x]=N,x++}}y>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=me.LTC_FLOAT_1,i.rectAreaLTC2=me.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=me.LTC_HALF_1,i.rectAreaLTC2=me.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=h,i.ambient[2]=g;const A=i.hash;(A.directionalLength!==v||A.pointLength!==m||A.spotLength!==p||A.rectAreaLength!==y||A.hemiLength!==x||A.numDirectionalShadows!==w||A.numPointShadows!==S||A.numSpotShadows!==M||A.numSpotMaps!==T)&&(i.directional.length=v,i.spot.length=p,i.rectArea.length=y,i.point.length=m,i.hemi.length=x,i.directionalShadow.length=w,i.directionalShadowMap.length=w,i.pointShadow.length=S,i.pointShadowMap.length=S,i.spotShadow.length=M,i.spotShadowMap.length=M,i.directionalShadowMatrix.length=w,i.pointShadowMatrix.length=S,i.spotLightMatrix.length=M+T-C,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=C,A.directionalLength=v,A.pointLength=m,A.spotLength=p,A.rectAreaLength=y,A.hemiLength=x,A.numDirectionalShadows=w,A.numPointShadows=S,A.numSpotShadows=M,A.numSpotMaps=T,i.version=JV++)}function c(u,f){let d=0,h=0,g=0,v=0,m=0;const p=f.matrixWorldInverse;for(let y=0,x=u.length;y<x;y++){const w=u[y];if(w.isDirectionalLight){const S=i.directional[d];S.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(s),S.direction.transformDirection(p),d++}else if(w.isSpotLight){const S=i.spot[g];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(p),S.direction.setFromMatrixPosition(w.matrixWorld),s.setFromMatrixPosition(w.target.matrixWorld),S.direction.sub(s),S.direction.transformDirection(p),g++}else if(w.isRectAreaLight){const S=i.rectArea[v];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(p),a.identity(),o.copy(w.matrixWorld),o.premultiply(p),a.extractRotation(o),S.halfWidth.set(w.width*.5,0,0),S.halfHeight.set(0,w.height*.5,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),v++}else if(w.isPointLight){const S=i.point[h];S.position.setFromMatrixPosition(w.matrixWorld),S.position.applyMatrix4(p),h++}else if(w.isHemisphereLight){const S=i.hemi[m];S.direction.setFromMatrixPosition(w.matrixWorld),S.direction.transformDirection(p),m++}}}return{setup:l,setupView:c,state:i}}function sw(t,e){const n=new t5(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function o(f){r.push(f)}function a(f){i.push(f)}function l(f){n.setup(r,f)}function c(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:o,pushShadow:a}}function n5(t,e){let n=new WeakMap;function r(s,o=0){const a=n.get(s);let l;return a===void 0?(l=new sw(t,e),n.set(s,[l])):o>=a.length?(l=new sw(t,e),a.push(l)):l=a[o],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class r5 extends Cc{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Zk,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class i5 extends Cc{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const s5=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,o5=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function a5(t,e,n){let r=new Dv;const i=new et,s=new et,o=new vt,a=new r5({depthPacking:Jk}),l=new i5,c={},u=n.maxTextureSize,f={[hs]:Cn,[Cn]:hs,[ri]:ri},d=new no({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new et},radius:{value:4}},vertexShader:s5,fragmentShader:o5}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const g=new _i;g.setAttribute("position",new zr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const v=new Fn(g,d),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=W1;let p=this.type;this.render=function(S,M,T){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||S.length===0)return;const C=t.getRenderTarget(),E=t.getActiveCubeFace(),A=t.getActiveMipmapLevel(),k=t.state;k.setBlending(ns),k.buffers.color.setClear(1,1,1,1),k.buffers.depth.setTest(!0),k.setScissorTest(!1);const I=p!==ei&&this.type===ei,O=p===ei&&this.type!==ei;for(let L=0,z=S.length;L<z;L++){const H=S[L],j=H.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",H,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;i.copy(j.mapSize);const N=j.getFrameExtents();if(i.multiply(N),s.copy(j.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/N.x),i.x=s.x*N.x,j.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/N.y),i.y=s.y*N.y,j.mapSize.y=s.y)),j.map===null||I===!0||O===!0){const W=this.type!==ei?{minFilter:mn,magFilter:mn}:{};j.map!==null&&j.map.dispose(),j.map=new to(i.x,i.y,W),j.map.texture.name=H.name+".shadowMap",j.camera.updateProjectionMatrix()}t.setRenderTarget(j.map),t.clear();const V=j.getViewportCount();for(let W=0;W<V;W++){const U=j.getViewport(W);o.set(s.x*U.x,s.y*U.y,s.x*U.z,s.y*U.w),k.viewport(o),j.updateMatrices(H,W),r=j.getFrustum(),w(M,T,j.camera,H,this.type)}j.isPointLightShadow!==!0&&this.type===ei&&y(j,T),j.needsUpdate=!1}p=this.type,m.needsUpdate=!1,t.setRenderTarget(C,E,A)};function y(S,M){const T=e.update(v);d.defines.VSM_SAMPLES!==S.blurSamples&&(d.defines.VSM_SAMPLES=S.blurSamples,h.defines.VSM_SAMPLES=S.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),S.mapPass===null&&(S.mapPass=new to(i.x,i.y)),d.uniforms.shadow_pass.value=S.map.texture,d.uniforms.resolution.value=S.mapSize,d.uniforms.radius.value=S.radius,t.setRenderTarget(S.mapPass),t.clear(),t.renderBufferDirect(M,null,T,d,v,null),h.uniforms.shadow_pass.value=S.mapPass.texture,h.uniforms.resolution.value=S.mapSize,h.uniforms.radius.value=S.radius,t.setRenderTarget(S.map),t.clear(),t.renderBufferDirect(M,null,T,h,v,null)}function x(S,M,T,C){let E=null;const A=T.isPointLight===!0?S.customDistanceMaterial:S.customDepthMaterial;if(A!==void 0)E=A;else if(E=T.isPointLight===!0?l:a,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0){const k=E.uuid,I=M.uuid;let O=c[k];O===void 0&&(O={},c[k]=O);let L=O[I];L===void 0&&(L=E.clone(),O[I]=L),E=L}if(E.visible=M.visible,E.wireframe=M.wireframe,C===ei?E.side=M.shadowSide!==null?M.shadowSide:M.side:E.side=M.shadowSide!==null?M.shadowSide:f[M.side],E.alphaMap=M.alphaMap,E.alphaTest=M.alphaTest,E.map=M.map,E.clipShadows=M.clipShadows,E.clippingPlanes=M.clippingPlanes,E.clipIntersection=M.clipIntersection,E.displacementMap=M.displacementMap,E.displacementScale=M.displacementScale,E.displacementBias=M.displacementBias,E.wireframeLinewidth=M.wireframeLinewidth,E.linewidth=M.linewidth,T.isPointLight===!0&&E.isMeshDistanceMaterial===!0){const k=t.properties.get(E);k.light=T}return E}function w(S,M,T,C,E){if(S.visible===!1)return;if(S.layers.test(M.layers)&&(S.isMesh||S.isLine||S.isPoints)&&(S.castShadow||S.receiveShadow&&E===ei)&&(!S.frustumCulled||r.intersectsObject(S))){S.modelViewMatrix.multiplyMatrices(T.matrixWorldInverse,S.matrixWorld);const I=e.update(S),O=S.material;if(Array.isArray(O)){const L=I.groups;for(let z=0,H=L.length;z<H;z++){const j=L[z],N=O[j.materialIndex];if(N&&N.visible){const V=x(S,N,C,E);t.renderBufferDirect(T,null,I,V,S,j)}}}else if(O.visible){const L=x(S,O,C,E);t.renderBufferDirect(T,null,I,L,S,null)}}const k=S.children;for(let I=0,O=k.length;I<O;I++)w(k[I],M,T,C,E)}}function l5(t,e,n){const r=n.isWebGL2;function i(){let F=!1;const re=new vt;let Y=null;const le=new vt(0,0,0,0);return{setMask:function(ge){Y!==ge&&!F&&(t.colorMask(ge,ge,ge,ge),Y=ge)},setLocked:function(ge){F=ge},setClear:function(ge,Ze,yt,Rt,wi){wi===!0&&(ge*=Rt,Ze*=Rt,yt*=Rt),re.set(ge,Ze,yt,Rt),le.equals(re)===!1&&(t.clearColor(ge,Ze,yt,Rt),le.copy(re))},reset:function(){F=!1,Y=null,le.set(-1,0,0,0)}}}function s(){let F=!1,re=null,Y=null,le=null;return{setTest:function(ge){ge?ve(t.DEPTH_TEST):pe(t.DEPTH_TEST)},setMask:function(ge){re!==ge&&!F&&(t.depthMask(ge),re=ge)},setFunc:function(ge){if(Y!==ge){switch(ge){case Ck:t.depthFunc(t.NEVER);break;case Rk:t.depthFunc(t.ALWAYS);break;case Pk:t.depthFunc(t.LESS);break;case Im:t.depthFunc(t.LEQUAL);break;case Lk:t.depthFunc(t.EQUAL);break;case Nk:t.depthFunc(t.GEQUAL);break;case Dk:t.depthFunc(t.GREATER);break;case Ik:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Y=ge}},setLocked:function(ge){F=ge},setClear:function(ge){le!==ge&&(t.clearDepth(ge),le=ge)},reset:function(){F=!1,re=null,Y=null,le=null}}}function o(){let F=!1,re=null,Y=null,le=null,ge=null,Ze=null,yt=null,Rt=null,wi=null;return{setTest:function(ct){F||(ct?ve(t.STENCIL_TEST):pe(t.STENCIL_TEST))},setMask:function(ct){re!==ct&&!F&&(t.stencilMask(ct),re=ct)},setFunc:function(ct,Tr,cn){(Y!==ct||le!==Tr||ge!==cn)&&(t.stencilFunc(ct,Tr,cn),Y=ct,le=Tr,ge=cn)},setOp:function(ct,Tr,cn){(Ze!==ct||yt!==Tr||Rt!==cn)&&(t.stencilOp(ct,Tr,cn),Ze=ct,yt=Tr,Rt=cn)},setLocked:function(ct){F=ct},setClear:function(ct){wi!==ct&&(t.clearStencil(ct),wi=ct)},reset:function(){F=!1,re=null,Y=null,le=null,ge=null,Ze=null,yt=null,Rt=null,wi=null}}}const a=new i,l=new s,c=new o,u=new WeakMap,f=new WeakMap;let d={},h={},g=new WeakMap,v=[],m=null,p=!1,y=null,x=null,w=null,S=null,M=null,T=null,C=null,E=!1,A=null,k=null,I=null,O=null,L=null;const z=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let H=!1,j=0;const N=t.getParameter(t.VERSION);N.indexOf("WebGL")!==-1?(j=parseFloat(/^WebGL (\d)/.exec(N)[1]),H=j>=1):N.indexOf("OpenGL ES")!==-1&&(j=parseFloat(/^OpenGL ES (\d)/.exec(N)[1]),H=j>=2);let V=null,W={};const U=t.getParameter(t.SCISSOR_BOX),B=t.getParameter(t.VIEWPORT),ee=new vt().fromArray(U),te=new vt().fromArray(B);function oe(F,re,Y,le){const ge=new Uint8Array(4),Ze=t.createTexture();t.bindTexture(F,Ze),t.texParameteri(F,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(F,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let yt=0;yt<Y;yt++)r&&(F===t.TEXTURE_3D||F===t.TEXTURE_2D_ARRAY)?t.texImage3D(re,0,t.RGBA,1,1,le,0,t.RGBA,t.UNSIGNED_BYTE,ge):t.texImage2D(re+yt,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,ge);return Ze}const se={};se[t.TEXTURE_2D]=oe(t.TEXTURE_2D,t.TEXTURE_2D,1),se[t.TEXTURE_CUBE_MAP]=oe(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(se[t.TEXTURE_2D_ARRAY]=oe(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),se[t.TEXTURE_3D]=oe(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),l.setClear(1),c.setClear(0),ve(t.DEPTH_TEST),l.setFunc(Im),be(!1),tt(Gx),ve(t.CULL_FACE),he(ns);function ve(F){d[F]!==!0&&(t.enable(F),d[F]=!0)}function pe(F){d[F]!==!1&&(t.disable(F),d[F]=!1)}function Ae(F,re){return h[F]!==re?(t.bindFramebuffer(F,re),h[F]=re,r&&(F===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=re),F===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=re)),!0):!1}function $e(F,re){let Y=v,le=!1;if(F)if(Y=g.get(re),Y===void 0&&(Y=[],g.set(re,Y)),F.isWebGLMultipleRenderTargets){const ge=F.texture;if(Y.length!==ge.length||Y[0]!==t.COLOR_ATTACHMENT0){for(let Ze=0,yt=ge.length;Ze<yt;Ze++)Y[Ze]=t.COLOR_ATTACHMENT0+Ze;Y.length=ge.length,le=!0}}else Y[0]!==t.COLOR_ATTACHMENT0&&(Y[0]=t.COLOR_ATTACHMENT0,le=!0);else Y[0]!==t.BACK&&(Y[0]=t.BACK,le=!0);le&&(n.isWebGL2?t.drawBuffers(Y):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Y))}function Me(F){return m!==F?(t.useProgram(F),m=F,!0):!1}const G={[Do]:t.FUNC_ADD,[vk]:t.FUNC_SUBTRACT,[yk]:t.FUNC_REVERSE_SUBTRACT};if(r)G[qx]=t.MIN,G[Yx]=t.MAX;else{const F=e.get("EXT_blend_minmax");F!==null&&(G[qx]=F.MIN_EXT,G[Yx]=F.MAX_EXT)}const Ne={[xk]:t.ZERO,[_k]:t.ONE,[wk]:t.SRC_COLOR,[X1]:t.SRC_ALPHA,[Ak]:t.SRC_ALPHA_SATURATE,[Mk]:t.DST_COLOR,[bk]:t.DST_ALPHA,[Sk]:t.ONE_MINUS_SRC_COLOR,[$1]:t.ONE_MINUS_SRC_ALPHA,[Tk]:t.ONE_MINUS_DST_COLOR,[Ek]:t.ONE_MINUS_DST_ALPHA};function he(F,re,Y,le,ge,Ze,yt,Rt){if(F===ns){p===!0&&(pe(t.BLEND),p=!1);return}if(p===!1&&(ve(t.BLEND),p=!0),F!==gk){if(F!==y||Rt!==E){if((x!==Do||M!==Do)&&(t.blendEquation(t.FUNC_ADD),x=Do,M=Do),Rt)switch(F){case sa:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Wx:t.blendFunc(t.ONE,t.ONE);break;case Xx:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case $x:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",F);break}else switch(F){case sa:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case Wx:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case Xx:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case $x:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",F);break}w=null,S=null,T=null,C=null,y=F,E=Rt}return}ge=ge||re,Ze=Ze||Y,yt=yt||le,(re!==x||ge!==M)&&(t.blendEquationSeparate(G[re],G[ge]),x=re,M=ge),(Y!==w||le!==S||Ze!==T||yt!==C)&&(t.blendFuncSeparate(Ne[Y],Ne[le],Ne[Ze],Ne[yt]),w=Y,S=le,T=Ze,C=yt),y=F,E=!1}function Te(F,re){F.side===ri?pe(t.CULL_FACE):ve(t.CULL_FACE);let Y=F.side===Cn;re&&(Y=!Y),be(Y),F.blending===sa&&F.transparent===!1?he(ns):he(F.blending,F.blendEquation,F.blendSrc,F.blendDst,F.blendEquationAlpha,F.blendSrcAlpha,F.blendDstAlpha,F.premultipliedAlpha),l.setFunc(F.depthFunc),l.setTest(F.depthTest),l.setMask(F.depthWrite),a.setMask(F.colorWrite);const le=F.stencilWrite;c.setTest(le),le&&(c.setMask(F.stencilWriteMask),c.setFunc(F.stencilFunc,F.stencilRef,F.stencilFuncMask),c.setOp(F.stencilFail,F.stencilZFail,F.stencilZPass)),Ce(F.polygonOffset,F.polygonOffsetFactor,F.polygonOffsetUnits),F.alphaToCoverage===!0?ve(t.SAMPLE_ALPHA_TO_COVERAGE):pe(t.SAMPLE_ALPHA_TO_COVERAGE)}function be(F){A!==F&&(F?t.frontFace(t.CW):t.frontFace(t.CCW),A=F)}function tt(F){F!==hk?(ve(t.CULL_FACE),F!==k&&(F===Gx?t.cullFace(t.BACK):F===pk?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):pe(t.CULL_FACE),k=F}function Ge(F){F!==I&&(H&&t.lineWidth(F),I=F)}function Ce(F,re,Y){F?(ve(t.POLYGON_OFFSET_FILL),(O!==re||L!==Y)&&(t.polygonOffset(re,Y),O=re,L=Y)):pe(t.POLYGON_OFFSET_FILL)}function Qe(F){F?ve(t.SCISSOR_TEST):pe(t.SCISSOR_TEST)}function kt(F){F===void 0&&(F=t.TEXTURE0+z-1),V!==F&&(t.activeTexture(F),V=F)}function Ht(F,re,Y){Y===void 0&&(V===null?Y=t.TEXTURE0+z-1:Y=V);let le=W[Y];le===void 0&&(le={type:void 0,texture:void 0},W[Y]=le),(le.type!==F||le.texture!==re)&&(V!==Y&&(t.activeTexture(Y),V=Y),t.bindTexture(F,re||se[F]),le.type=F,le.texture=re)}function D(){const F=W[V];F!==void 0&&F.type!==void 0&&(t.bindTexture(F.type,null),F.type=void 0,F.texture=void 0)}function R(){try{t.compressedTexImage2D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function K(){try{t.compressedTexImage3D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function ce(){try{t.texSubImage2D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function ie(){try{t.texSubImage3D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function de(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function Ee(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function fe(){try{t.texStorage2D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function Q(){try{t.texStorage3D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function Pe(){try{t.texImage2D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function Re(){try{t.texImage3D.apply(t,arguments)}catch(F){console.error("THREE.WebGLState:",F)}}function Le(F){ee.equals(F)===!1&&(t.scissor(F.x,F.y,F.z,F.w),ee.copy(F))}function we(F){te.equals(F)===!1&&(t.viewport(F.x,F.y,F.z,F.w),te.copy(F))}function ye(F,re){let Y=f.get(re);Y===void 0&&(Y=new WeakMap,f.set(re,Y));let le=Y.get(F);le===void 0&&(le=t.getUniformBlockIndex(re,F.name),Y.set(F,le))}function We(F,re){const le=f.get(re).get(F);u.get(re)!==le&&(t.uniformBlockBinding(re,le,F.__bindingPointIndex),u.set(re,le))}function xe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},V=null,W={},h={},g=new WeakMap,v=[],m=null,p=!1,y=null,x=null,w=null,S=null,M=null,T=null,C=null,E=!1,A=null,k=null,I=null,O=null,L=null,ee.set(0,0,t.canvas.width,t.canvas.height),te.set(0,0,t.canvas.width,t.canvas.height),a.reset(),l.reset(),c.reset()}return{buffers:{color:a,depth:l,stencil:c},enable:ve,disable:pe,bindFramebuffer:Ae,drawBuffers:$e,useProgram:Me,setBlending:he,setMaterial:Te,setFlipSided:be,setCullFace:tt,setLineWidth:Ge,setPolygonOffset:Ce,setScissorTest:Qe,activeTexture:kt,bindTexture:Ht,unbindTexture:D,compressedTexImage2D:R,compressedTexImage3D:K,texImage2D:Pe,texImage3D:Re,updateUBOMapping:ye,uniformBlockBinding:We,texStorage2D:fe,texStorage3D:Q,texSubImage2D:ce,texSubImage3D:ie,compressedTexSubImage2D:de,compressedTexSubImage3D:Ee,scissor:Le,viewport:we,reset:xe}}function c5(t,e,n,r,i,s,o){const a=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let v;const m=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function y(D,R){return p?new OffscreenCanvas(D,R):Fd("canvas")}function x(D,R,K,ce){let ie=1;if((D.width>ce||D.height>ce)&&(ie=ce/Math.max(D.width,D.height)),ie<1||R===!0)if(typeof HTMLImageElement<"u"&&D instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&D instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&D instanceof ImageBitmap){const de=R?Vm:Math.floor,Ee=de(ie*D.width),fe=de(ie*D.height);v===void 0&&(v=y(Ee,fe));const Q=K?y(Ee,fe):v;return Q.width=Ee,Q.height=fe,Q.getContext("2d").drawImage(D,0,0,Ee,fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+D.width+"x"+D.height+") to ("+Ee+"x"+fe+")."),Q}else return"data"in D&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+D.width+"x"+D.height+")."),D;return D}function w(D){return S_(D.width)&&S_(D.height)}function S(D){return a?!1:D.wrapS!==yr||D.wrapT!==yr||D.minFilter!==mn&&D.minFilter!==er}function M(D,R){return D.generateMipmaps&&R&&D.minFilter!==mn&&D.minFilter!==er}function T(D){t.generateMipmap(D)}function C(D,R,K,ce,ie=!1){if(a===!1)return R;if(D!==null){if(t[D]!==void 0)return t[D];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+D+"'")}let de=R;return R===t.RED&&(K===t.FLOAT&&(de=t.R32F),K===t.HALF_FLOAT&&(de=t.R16F),K===t.UNSIGNED_BYTE&&(de=t.R8)),R===t.RED_INTEGER&&(K===t.UNSIGNED_BYTE&&(de=t.R8UI),K===t.UNSIGNED_SHORT&&(de=t.R16UI),K===t.UNSIGNED_INT&&(de=t.R32UI),K===t.BYTE&&(de=t.R8I),K===t.SHORT&&(de=t.R16I),K===t.INT&&(de=t.R32I)),R===t.RG&&(K===t.FLOAT&&(de=t.RG32F),K===t.HALF_FLOAT&&(de=t.RG16F),K===t.UNSIGNED_BYTE&&(de=t.RG8)),R===t.RGBA&&(K===t.FLOAT&&(de=t.RGBA32F),K===t.HALF_FLOAT&&(de=t.RGBA16F),K===t.UNSIGNED_BYTE&&(de=ce===He&&ie===!1?t.SRGB8_ALPHA8:t.RGBA8),K===t.UNSIGNED_SHORT_4_4_4_4&&(de=t.RGBA4),K===t.UNSIGNED_SHORT_5_5_5_1&&(de=t.RGB5_A1)),(de===t.R16F||de===t.R32F||de===t.RG16F||de===t.RG32F||de===t.RGBA16F||de===t.RGBA32F)&&e.get("EXT_color_buffer_float"),de}function E(D,R,K){return M(D,K)===!0||D.isFramebufferTexture&&D.minFilter!==mn&&D.minFilter!==er?Math.log2(Math.max(R.width,R.height))+1:D.mipmaps!==void 0&&D.mipmaps.length>0?D.mipmaps.length:D.isCompressedTexture&&Array.isArray(D.image)?R.mipmaps.length:1}function A(D){return D===mn||D===Kx||D===Nh?t.NEAREST:t.LINEAR}function k(D){const R=D.target;R.removeEventListener("dispose",k),O(R),R.isVideoTexture&&g.delete(R)}function I(D){const R=D.target;R.removeEventListener("dispose",I),z(R)}function O(D){const R=r.get(D);if(R.__webglInit===void 0)return;const K=D.source,ce=m.get(K);if(ce){const ie=ce[R.__cacheKey];ie.usedTimes--,ie.usedTimes===0&&L(D),Object.keys(ce).length===0&&m.delete(K)}r.remove(D)}function L(D){const R=r.get(D);t.deleteTexture(R.__webglTexture);const K=D.source,ce=m.get(K);delete ce[R.__cacheKey],o.memory.textures--}function z(D){const R=D.texture,K=r.get(D),ce=r.get(R);if(ce.__webglTexture!==void 0&&(t.deleteTexture(ce.__webglTexture),o.memory.textures--),D.depthTexture&&D.depthTexture.dispose(),D.isWebGLCubeRenderTarget)for(let ie=0;ie<6;ie++){if(Array.isArray(K.__webglFramebuffer[ie]))for(let de=0;de<K.__webglFramebuffer[ie].length;de++)t.deleteFramebuffer(K.__webglFramebuffer[ie][de]);else t.deleteFramebuffer(K.__webglFramebuffer[ie]);K.__webglDepthbuffer&&t.deleteRenderbuffer(K.__webglDepthbuffer[ie])}else{if(Array.isArray(K.__webglFramebuffer))for(let ie=0;ie<K.__webglFramebuffer.length;ie++)t.deleteFramebuffer(K.__webglFramebuffer[ie]);else t.deleteFramebuffer(K.__webglFramebuffer);if(K.__webglDepthbuffer&&t.deleteRenderbuffer(K.__webglDepthbuffer),K.__webglMultisampledFramebuffer&&t.deleteFramebuffer(K.__webglMultisampledFramebuffer),K.__webglColorRenderbuffer)for(let ie=0;ie<K.__webglColorRenderbuffer.length;ie++)K.__webglColorRenderbuffer[ie]&&t.deleteRenderbuffer(K.__webglColorRenderbuffer[ie]);K.__webglDepthRenderbuffer&&t.deleteRenderbuffer(K.__webglDepthRenderbuffer)}if(D.isWebGLMultipleRenderTargets)for(let ie=0,de=R.length;ie<de;ie++){const Ee=r.get(R[ie]);Ee.__webglTexture&&(t.deleteTexture(Ee.__webglTexture),o.memory.textures--),r.remove(R[ie])}r.remove(R),r.remove(D)}let H=0;function j(){H=0}function N(){const D=H;return D>=l&&console.warn("THREE.WebGLTextures: Trying to use "+D+" texture units while this GPU supports only "+l),H+=1,D}function V(D){const R=[];return R.push(D.wrapS),R.push(D.wrapT),R.push(D.wrapR||0),R.push(D.magFilter),R.push(D.minFilter),R.push(D.anisotropy),R.push(D.internalFormat),R.push(D.format),R.push(D.type),R.push(D.generateMipmaps),R.push(D.premultiplyAlpha),R.push(D.flipY),R.push(D.unpackAlignment),R.push(D.colorSpace),R.join()}function W(D,R){const K=r.get(D);if(D.isVideoTexture&&kt(D),D.isRenderTargetTexture===!1&&D.version>0&&K.__version!==D.version){const ce=D.image;if(ce===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ce.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{Ae(K,D,R);return}}n.bindTexture(t.TEXTURE_2D,K.__webglTexture,t.TEXTURE0+R)}function U(D,R){const K=r.get(D);if(D.version>0&&K.__version!==D.version){Ae(K,D,R);return}n.bindTexture(t.TEXTURE_2D_ARRAY,K.__webglTexture,t.TEXTURE0+R)}function B(D,R){const K=r.get(D);if(D.version>0&&K.__version!==D.version){Ae(K,D,R);return}n.bindTexture(t.TEXTURE_3D,K.__webglTexture,t.TEXTURE0+R)}function ee(D,R){const K=r.get(D);if(D.version>0&&K.__version!==D.version){$e(K,D,R);return}n.bindTexture(t.TEXTURE_CUBE_MAP,K.__webglTexture,t.TEXTURE0+R)}const te={[km]:t.REPEAT,[yr]:t.CLAMP_TO_EDGE,[Fm]:t.MIRRORED_REPEAT},oe={[mn]:t.NEAREST,[Kx]:t.NEAREST_MIPMAP_NEAREST,[Nh]:t.NEAREST_MIPMAP_LINEAR,[er]:t.LINEAR,[jk]:t.LINEAR_MIPMAP_NEAREST,[lc]:t.LINEAR_MIPMAP_LINEAR},se={[nF]:t.NEVER,[cF]:t.ALWAYS,[rF]:t.LESS,[sF]:t.LEQUAL,[iF]:t.EQUAL,[lF]:t.GEQUAL,[oF]:t.GREATER,[aF]:t.NOTEQUAL};function ve(D,R,K){if(K?(t.texParameteri(D,t.TEXTURE_WRAP_S,te[R.wrapS]),t.texParameteri(D,t.TEXTURE_WRAP_T,te[R.wrapT]),(D===t.TEXTURE_3D||D===t.TEXTURE_2D_ARRAY)&&t.texParameteri(D,t.TEXTURE_WRAP_R,te[R.wrapR]),t.texParameteri(D,t.TEXTURE_MAG_FILTER,oe[R.magFilter]),t.texParameteri(D,t.TEXTURE_MIN_FILTER,oe[R.minFilter])):(t.texParameteri(D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(D===t.TEXTURE_3D||D===t.TEXTURE_2D_ARRAY)&&t.texParameteri(D,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(R.wrapS!==yr||R.wrapT!==yr)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(D,t.TEXTURE_MAG_FILTER,A(R.magFilter)),t.texParameteri(D,t.TEXTURE_MIN_FILTER,A(R.minFilter)),R.minFilter!==mn&&R.minFilter!==er&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),R.compareFunction&&(t.texParameteri(D,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(D,t.TEXTURE_COMPARE_FUNC,se[R.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const ce=e.get("EXT_texture_filter_anisotropic");if(R.magFilter===mn||R.minFilter!==Nh&&R.minFilter!==lc||R.type===Wi&&e.has("OES_texture_float_linear")===!1||a===!1&&R.type===cc&&e.has("OES_texture_half_float_linear")===!1)return;(R.anisotropy>1||r.get(R).__currentAnisotropy)&&(t.texParameterf(D,ce.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(R.anisotropy,i.getMaxAnisotropy())),r.get(R).__currentAnisotropy=R.anisotropy)}}function pe(D,R){let K=!1;D.__webglInit===void 0&&(D.__webglInit=!0,R.addEventListener("dispose",k));const ce=R.source;let ie=m.get(ce);ie===void 0&&(ie={},m.set(ce,ie));const de=V(R);if(de!==D.__cacheKey){ie[de]===void 0&&(ie[de]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,K=!0),ie[de].usedTimes++;const Ee=ie[D.__cacheKey];Ee!==void 0&&(ie[D.__cacheKey].usedTimes--,Ee.usedTimes===0&&L(R)),D.__cacheKey=de,D.__webglTexture=ie[de].texture}return K}function Ae(D,R,K){let ce=t.TEXTURE_2D;(R.isDataArrayTexture||R.isCompressedArrayTexture)&&(ce=t.TEXTURE_2D_ARRAY),R.isData3DTexture&&(ce=t.TEXTURE_3D);const ie=pe(D,R),de=R.source;n.bindTexture(ce,D.__webglTexture,t.TEXTURE0+K);const Ee=r.get(de);if(de.version!==Ee.__version||ie===!0){n.activeTexture(t.TEXTURE0+K),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,R.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,R.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const fe=S(R)&&w(R.image)===!1;let Q=x(R.image,fe,!1,u);Q=Ht(R,Q);const Pe=w(Q)||a,Re=s.convert(R.format,R.colorSpace);let Le=s.convert(R.type),we=C(R.internalFormat,Re,Le,R.colorSpace);ve(ce,R,Pe);let ye;const We=R.mipmaps,xe=a&&R.isVideoTexture!==!0,F=Ee.__version===void 0||ie===!0,re=E(R,Q,Pe);if(R.isDepthTexture)we=t.DEPTH_COMPONENT,a?R.type===Wi?we=t.DEPTH_COMPONENT32F:R.type===Gi?we=t.DEPTH_COMPONENT24:R.type===Gs?we=t.DEPTH24_STENCIL8:we=t.DEPTH_COMPONENT16:R.type===Wi&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),R.format===Ws&&we===t.DEPTH_COMPONENT&&R.type!==Lv&&R.type!==Gi&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),R.type=Gi,Le=s.convert(R.type)),R.format===Pa&&we===t.DEPTH_COMPONENT&&(we=t.DEPTH_STENCIL,R.type!==Gs&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),R.type=Gs,Le=s.convert(R.type))),F&&(xe?n.texStorage2D(t.TEXTURE_2D,1,we,Q.width,Q.height):n.texImage2D(t.TEXTURE_2D,0,we,Q.width,Q.height,0,Re,Le,null));else if(R.isDataTexture)if(We.length>0&&Pe){xe&&F&&n.texStorage2D(t.TEXTURE_2D,re,we,We[0].width,We[0].height);for(let Y=0,le=We.length;Y<le;Y++)ye=We[Y],xe?n.texSubImage2D(t.TEXTURE_2D,Y,0,0,ye.width,ye.height,Re,Le,ye.data):n.texImage2D(t.TEXTURE_2D,Y,we,ye.width,ye.height,0,Re,Le,ye.data);R.generateMipmaps=!1}else xe?(F&&n.texStorage2D(t.TEXTURE_2D,re,we,Q.width,Q.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Q.width,Q.height,Re,Le,Q.data)):n.texImage2D(t.TEXTURE_2D,0,we,Q.width,Q.height,0,Re,Le,Q.data);else if(R.isCompressedTexture)if(R.isCompressedArrayTexture){xe&&F&&n.texStorage3D(t.TEXTURE_2D_ARRAY,re,we,We[0].width,We[0].height,Q.depth);for(let Y=0,le=We.length;Y<le;Y++)ye=We[Y],R.format!==xr?Re!==null?xe?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Y,0,0,0,ye.width,ye.height,Q.depth,Re,ye.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Y,we,ye.width,ye.height,Q.depth,0,ye.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xe?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Y,0,0,0,ye.width,ye.height,Q.depth,Re,Le,ye.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Y,we,ye.width,ye.height,Q.depth,0,Re,Le,ye.data)}else{xe&&F&&n.texStorage2D(t.TEXTURE_2D,re,we,We[0].width,We[0].height);for(let Y=0,le=We.length;Y<le;Y++)ye=We[Y],R.format!==xr?Re!==null?xe?n.compressedTexSubImage2D(t.TEXTURE_2D,Y,0,0,ye.width,ye.height,Re,ye.data):n.compressedTexImage2D(t.TEXTURE_2D,Y,we,ye.width,ye.height,0,ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):xe?n.texSubImage2D(t.TEXTURE_2D,Y,0,0,ye.width,ye.height,Re,Le,ye.data):n.texImage2D(t.TEXTURE_2D,Y,we,ye.width,ye.height,0,Re,Le,ye.data)}else if(R.isDataArrayTexture)xe?(F&&n.texStorage3D(t.TEXTURE_2D_ARRAY,re,we,Q.width,Q.height,Q.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Q.width,Q.height,Q.depth,Re,Le,Q.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,we,Q.width,Q.height,Q.depth,0,Re,Le,Q.data);else if(R.isData3DTexture)xe?(F&&n.texStorage3D(t.TEXTURE_3D,re,we,Q.width,Q.height,Q.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Q.width,Q.height,Q.depth,Re,Le,Q.data)):n.texImage3D(t.TEXTURE_3D,0,we,Q.width,Q.height,Q.depth,0,Re,Le,Q.data);else if(R.isFramebufferTexture){if(F)if(xe)n.texStorage2D(t.TEXTURE_2D,re,we,Q.width,Q.height);else{let Y=Q.width,le=Q.height;for(let ge=0;ge<re;ge++)n.texImage2D(t.TEXTURE_2D,ge,we,Y,le,0,Re,Le,null),Y>>=1,le>>=1}}else if(We.length>0&&Pe){xe&&F&&n.texStorage2D(t.TEXTURE_2D,re,we,We[0].width,We[0].height);for(let Y=0,le=We.length;Y<le;Y++)ye=We[Y],xe?n.texSubImage2D(t.TEXTURE_2D,Y,0,0,Re,Le,ye):n.texImage2D(t.TEXTURE_2D,Y,we,Re,Le,ye);R.generateMipmaps=!1}else xe?(F&&n.texStorage2D(t.TEXTURE_2D,re,we,Q.width,Q.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Re,Le,Q)):n.texImage2D(t.TEXTURE_2D,0,we,Re,Le,Q);M(R,Pe)&&T(ce),Ee.__version=de.version,R.onUpdate&&R.onUpdate(R)}D.__version=R.version}function $e(D,R,K){if(R.image.length!==6)return;const ce=pe(D,R),ie=R.source;n.bindTexture(t.TEXTURE_CUBE_MAP,D.__webglTexture,t.TEXTURE0+K);const de=r.get(ie);if(ie.version!==de.__version||ce===!0){n.activeTexture(t.TEXTURE0+K),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,R.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,R.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Ee=R.isCompressedTexture||R.image[0].isCompressedTexture,fe=R.image[0]&&R.image[0].isDataTexture,Q=[];for(let Y=0;Y<6;Y++)!Ee&&!fe?Q[Y]=x(R.image[Y],!1,!0,c):Q[Y]=fe?R.image[Y].image:R.image[Y],Q[Y]=Ht(R,Q[Y]);const Pe=Q[0],Re=w(Pe)||a,Le=s.convert(R.format,R.colorSpace),we=s.convert(R.type),ye=C(R.internalFormat,Le,we,R.colorSpace),We=a&&R.isVideoTexture!==!0,xe=de.__version===void 0||ce===!0;let F=E(R,Pe,Re);ve(t.TEXTURE_CUBE_MAP,R,Re);let re;if(Ee){We&&xe&&n.texStorage2D(t.TEXTURE_CUBE_MAP,F,ye,Pe.width,Pe.height);for(let Y=0;Y<6;Y++){re=Q[Y].mipmaps;for(let le=0;le<re.length;le++){const ge=re[le];R.format!==xr?Le!==null?We?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,le,0,0,ge.width,ge.height,Le,ge.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,le,ye,ge.width,ge.height,0,ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):We?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,le,0,0,ge.width,ge.height,Le,we,ge.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,le,ye,ge.width,ge.height,0,Le,we,ge.data)}}}else{re=R.mipmaps,We&&xe&&(re.length>0&&F++,n.texStorage2D(t.TEXTURE_CUBE_MAP,F,ye,Q[0].width,Q[0].height));for(let Y=0;Y<6;Y++)if(fe){We?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,0,0,0,Q[Y].width,Q[Y].height,Le,we,Q[Y].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,0,ye,Q[Y].width,Q[Y].height,0,Le,we,Q[Y].data);for(let le=0;le<re.length;le++){const Ze=re[le].image[Y].image;We?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,le+1,0,0,Ze.width,Ze.height,Le,we,Ze.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,le+1,ye,Ze.width,Ze.height,0,Le,we,Ze.data)}}else{We?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,0,0,0,Le,we,Q[Y]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,0,ye,Le,we,Q[Y]);for(let le=0;le<re.length;le++){const ge=re[le];We?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,le+1,0,0,Le,we,ge.image[Y]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Y,le+1,ye,Le,we,ge.image[Y])}}}M(R,Re)&&T(t.TEXTURE_CUBE_MAP),de.__version=ie.version,R.onUpdate&&R.onUpdate(R)}D.__version=R.version}function Me(D,R,K,ce,ie,de){const Ee=s.convert(K.format,K.colorSpace),fe=s.convert(K.type),Q=C(K.internalFormat,Ee,fe,K.colorSpace);if(!r.get(R).__hasExternalTextures){const Re=Math.max(1,R.width>>de),Le=Math.max(1,R.height>>de);ie===t.TEXTURE_3D||ie===t.TEXTURE_2D_ARRAY?n.texImage3D(ie,de,Q,Re,Le,R.depth,0,Ee,fe,null):n.texImage2D(ie,de,Q,Re,Le,0,Ee,fe,null)}n.bindFramebuffer(t.FRAMEBUFFER,D),Qe(R)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ce,ie,r.get(K).__webglTexture,0,Ce(R)):(ie===t.TEXTURE_2D||ie>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ie<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ce,ie,r.get(K).__webglTexture,de),n.bindFramebuffer(t.FRAMEBUFFER,null)}function G(D,R,K){if(t.bindRenderbuffer(t.RENDERBUFFER,D),R.depthBuffer&&!R.stencilBuffer){let ce=t.DEPTH_COMPONENT16;if(K||Qe(R)){const ie=R.depthTexture;ie&&ie.isDepthTexture&&(ie.type===Wi?ce=t.DEPTH_COMPONENT32F:ie.type===Gi&&(ce=t.DEPTH_COMPONENT24));const de=Ce(R);Qe(R)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,de,ce,R.width,R.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,de,ce,R.width,R.height)}else t.renderbufferStorage(t.RENDERBUFFER,ce,R.width,R.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,D)}else if(R.depthBuffer&&R.stencilBuffer){const ce=Ce(R);K&&Qe(R)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ce,t.DEPTH24_STENCIL8,R.width,R.height):Qe(R)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ce,t.DEPTH24_STENCIL8,R.width,R.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,R.width,R.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,D)}else{const ce=R.isWebGLMultipleRenderTargets===!0?R.texture:[R.texture];for(let ie=0;ie<ce.length;ie++){const de=ce[ie],Ee=s.convert(de.format,de.colorSpace),fe=s.convert(de.type),Q=C(de.internalFormat,Ee,fe,de.colorSpace),Pe=Ce(R);K&&Qe(R)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Pe,Q,R.width,R.height):Qe(R)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Pe,Q,R.width,R.height):t.renderbufferStorage(t.RENDERBUFFER,Q,R.width,R.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Ne(D,R){if(R&&R.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,D),!(R.depthTexture&&R.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(R.depthTexture).__webglTexture||R.depthTexture.image.width!==R.width||R.depthTexture.image.height!==R.height)&&(R.depthTexture.image.width=R.width,R.depthTexture.image.height=R.height,R.depthTexture.needsUpdate=!0),W(R.depthTexture,0);const ce=r.get(R.depthTexture).__webglTexture,ie=Ce(R);if(R.depthTexture.format===Ws)Qe(R)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ce,0,ie):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ce,0);else if(R.depthTexture.format===Pa)Qe(R)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ce,0,ie):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ce,0);else throw new Error("Unknown depthTexture format")}function he(D){const R=r.get(D),K=D.isWebGLCubeRenderTarget===!0;if(D.depthTexture&&!R.__autoAllocateDepthBuffer){if(K)throw new Error("target.depthTexture not supported in Cube render targets");Ne(R.__webglFramebuffer,D)}else if(K){R.__webglDepthbuffer=[];for(let ce=0;ce<6;ce++)n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer[ce]),R.__webglDepthbuffer[ce]=t.createRenderbuffer(),G(R.__webglDepthbuffer[ce],D,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,R.__webglFramebuffer),R.__webglDepthbuffer=t.createRenderbuffer(),G(R.__webglDepthbuffer,D,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Te(D,R,K){const ce=r.get(D);R!==void 0&&Me(ce.__webglFramebuffer,D,D.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),K!==void 0&&he(D)}function be(D){const R=D.texture,K=r.get(D),ce=r.get(R);D.addEventListener("dispose",I),D.isWebGLMultipleRenderTargets!==!0&&(ce.__webglTexture===void 0&&(ce.__webglTexture=t.createTexture()),ce.__version=R.version,o.memory.textures++);const ie=D.isWebGLCubeRenderTarget===!0,de=D.isWebGLMultipleRenderTargets===!0,Ee=w(D)||a;if(ie){K.__webglFramebuffer=[];for(let fe=0;fe<6;fe++)if(a&&R.mipmaps&&R.mipmaps.length>0){K.__webglFramebuffer[fe]=[];for(let Q=0;Q<R.mipmaps.length;Q++)K.__webglFramebuffer[fe][Q]=t.createFramebuffer()}else K.__webglFramebuffer[fe]=t.createFramebuffer()}else{if(a&&R.mipmaps&&R.mipmaps.length>0){K.__webglFramebuffer=[];for(let fe=0;fe<R.mipmaps.length;fe++)K.__webglFramebuffer[fe]=t.createFramebuffer()}else K.__webglFramebuffer=t.createFramebuffer();if(de)if(i.drawBuffers){const fe=D.texture;for(let Q=0,Pe=fe.length;Q<Pe;Q++){const Re=r.get(fe[Q]);Re.__webglTexture===void 0&&(Re.__webglTexture=t.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&D.samples>0&&Qe(D)===!1){const fe=de?R:[R];K.__webglMultisampledFramebuffer=t.createFramebuffer(),K.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,K.__webglMultisampledFramebuffer);for(let Q=0;Q<fe.length;Q++){const Pe=fe[Q];K.__webglColorRenderbuffer[Q]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,K.__webglColorRenderbuffer[Q]);const Re=s.convert(Pe.format,Pe.colorSpace),Le=s.convert(Pe.type),we=C(Pe.internalFormat,Re,Le,Pe.colorSpace,D.isXRRenderTarget===!0),ye=Ce(D);t.renderbufferStorageMultisample(t.RENDERBUFFER,ye,we,D.width,D.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Q,t.RENDERBUFFER,K.__webglColorRenderbuffer[Q])}t.bindRenderbuffer(t.RENDERBUFFER,null),D.depthBuffer&&(K.__webglDepthRenderbuffer=t.createRenderbuffer(),G(K.__webglDepthRenderbuffer,D,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ie){n.bindTexture(t.TEXTURE_CUBE_MAP,ce.__webglTexture),ve(t.TEXTURE_CUBE_MAP,R,Ee);for(let fe=0;fe<6;fe++)if(a&&R.mipmaps&&R.mipmaps.length>0)for(let Q=0;Q<R.mipmaps.length;Q++)Me(K.__webglFramebuffer[fe][Q],D,R,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+fe,Q);else Me(K.__webglFramebuffer[fe],D,R,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+fe,0);M(R,Ee)&&T(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(de){const fe=D.texture;for(let Q=0,Pe=fe.length;Q<Pe;Q++){const Re=fe[Q],Le=r.get(Re);n.bindTexture(t.TEXTURE_2D,Le.__webglTexture),ve(t.TEXTURE_2D,Re,Ee),Me(K.__webglFramebuffer,D,Re,t.COLOR_ATTACHMENT0+Q,t.TEXTURE_2D,0),M(Re,Ee)&&T(t.TEXTURE_2D)}n.unbindTexture()}else{let fe=t.TEXTURE_2D;if((D.isWebGL3DRenderTarget||D.isWebGLArrayRenderTarget)&&(a?fe=D.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(fe,ce.__webglTexture),ve(fe,R,Ee),a&&R.mipmaps&&R.mipmaps.length>0)for(let Q=0;Q<R.mipmaps.length;Q++)Me(K.__webglFramebuffer[Q],D,R,t.COLOR_ATTACHMENT0,fe,Q);else Me(K.__webglFramebuffer,D,R,t.COLOR_ATTACHMENT0,fe,0);M(R,Ee)&&T(fe),n.unbindTexture()}D.depthBuffer&&he(D)}function tt(D){const R=w(D)||a,K=D.isWebGLMultipleRenderTargets===!0?D.texture:[D.texture];for(let ce=0,ie=K.length;ce<ie;ce++){const de=K[ce];if(M(de,R)){const Ee=D.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,fe=r.get(de).__webglTexture;n.bindTexture(Ee,fe),T(Ee),n.unbindTexture()}}}function Ge(D){if(a&&D.samples>0&&Qe(D)===!1){const R=D.isWebGLMultipleRenderTargets?D.texture:[D.texture],K=D.width,ce=D.height;let ie=t.COLOR_BUFFER_BIT;const de=[],Ee=D.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,fe=r.get(D),Q=D.isWebGLMultipleRenderTargets===!0;if(Q)for(let Pe=0;Pe<R.length;Pe++)n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Pe,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Pe,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,fe.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,fe.__webglFramebuffer);for(let Pe=0;Pe<R.length;Pe++){de.push(t.COLOR_ATTACHMENT0+Pe),D.depthBuffer&&de.push(Ee);const Re=fe.__ignoreDepthValues!==void 0?fe.__ignoreDepthValues:!1;if(Re===!1&&(D.depthBuffer&&(ie|=t.DEPTH_BUFFER_BIT),D.stencilBuffer&&(ie|=t.STENCIL_BUFFER_BIT)),Q&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,fe.__webglColorRenderbuffer[Pe]),Re===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[Ee]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[Ee])),Q){const Le=r.get(R[Pe]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Le,0)}t.blitFramebuffer(0,0,K,ce,0,0,K,ce,ie,t.NEAREST),h&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,de)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Q)for(let Pe=0;Pe<R.length;Pe++){n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Pe,t.RENDERBUFFER,fe.__webglColorRenderbuffer[Pe]);const Re=r.get(R[Pe]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,fe.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Pe,t.TEXTURE_2D,Re,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,fe.__webglMultisampledFramebuffer)}}function Ce(D){return Math.min(f,D.samples)}function Qe(D){const R=r.get(D);return a&&D.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&R.__useRenderToTexture!==!1}function kt(D){const R=o.render.frame;g.get(D)!==R&&(g.set(D,R),D.update())}function Ht(D,R){const K=D.colorSpace,ce=D.format,ie=D.type;return D.isCompressedTexture===!0||D.format===zm||K!==Vr&&K!==$s&&(K===He?a===!1?e.has("EXT_sRGB")===!0&&ce===xr?(D.format=zm,D.minFilter=er,D.generateMipmaps=!1):R=sT.sRGBToLinear(R):(ce!==xr||ie!==is)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",K)),R}this.allocateTextureUnit=N,this.resetTextureUnits=j,this.setTexture2D=W,this.setTexture2DArray=U,this.setTexture3D=B,this.setTextureCube=ee,this.rebindTextures=Te,this.setupRenderTarget=be,this.updateRenderTargetMipmap=tt,this.updateMultisampleRenderTarget=Ge,this.setupDepthRenderbuffer=he,this.setupFrameBufferTexture=Me,this.useMultisampledRTT=Qe}function u5(t,e,n){const r=n.isWebGL2;function i(s,o=$s){let a;if(s===is)return t.UNSIGNED_BYTE;if(s===K1)return t.UNSIGNED_SHORT_4_4_4_4;if(s===Q1)return t.UNSIGNED_SHORT_5_5_5_1;if(s===Hk)return t.BYTE;if(s===Gk)return t.SHORT;if(s===Lv)return t.UNSIGNED_SHORT;if(s===Y1)return t.INT;if(s===Gi)return t.UNSIGNED_INT;if(s===Wi)return t.FLOAT;if(s===cc)return r?t.HALF_FLOAT:(a=e.get("OES_texture_half_float"),a!==null?a.HALF_FLOAT_OES:null);if(s===Wk)return t.ALPHA;if(s===xr)return t.RGBA;if(s===Xk)return t.LUMINANCE;if(s===$k)return t.LUMINANCE_ALPHA;if(s===Ws)return t.DEPTH_COMPONENT;if(s===Pa)return t.DEPTH_STENCIL;if(s===zm)return a=e.get("EXT_sRGB"),a!==null?a.SRGB_ALPHA_EXT:null;if(s===qk)return t.RED;if(s===Z1)return t.RED_INTEGER;if(s===Yk)return t.RG;if(s===J1)return t.RG_INTEGER;if(s===eT)return t.RGBA_INTEGER;if(s===Dh||s===Ih||s===Oh||s===Uh)if(o===He)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(s===Dh)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Ih)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Oh)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===Uh)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(s===Dh)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Ih)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Oh)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===Uh)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===Qx||s===Zx||s===Jx||s===e_)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(s===Qx)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===Zx)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===Jx)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===e_)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===Kk)return a=e.get("WEBGL_compressed_texture_etc1"),a!==null?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===t_||s===n_)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(s===t_)return o===He?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(s===n_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===r_||s===i_||s===s_||s===o_||s===a_||s===l_||s===c_||s===u_||s===d_||s===f_||s===h_||s===p_||s===m_||s===g_)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(s===r_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===i_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===s_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===o_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===a_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===l_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===c_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===u_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===d_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===f_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===h_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===p_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===m_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===g_)return o===He?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===kh)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(s===kh)return o===He?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(s===Qk||s===v_||s===y_||s===x_)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(s===kh)return a.COMPRESSED_RED_RGTC1_EXT;if(s===v_)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===y_)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===x_)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===Gs?r?t.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),a!==null?a.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class d5 extends kn{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class xl extends an{constructor(){super(),this.isGroup=!0,this.type="Group"}}const f5={type:"move"};class ap{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new xl,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new xl,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new xl,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const v of e.hand.values()){const m=n.getJointPose(v,r),p=this._getHandJoint(c,v);m!==null&&(p.matrix.fromArray(m.transform.matrix),p.matrix.decompose(p.position,p.rotation,p.scale),p.matrixWorldNeedsUpdate=!0,p.jointRadius=m.radius),p.visible=m!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),h=.02,g=.005;c.inputState.pinching&&d>h+g?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=h-g&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(a.matrix.fromArray(i.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,i.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(i.linearVelocity)):a.hasLinearVelocity=!1,i.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(i.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(f5)))}return a!==null&&(a.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new xl;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class h5 extends jn{constructor(e,n,r,i,s,o,a,l,c,u){if(u=u!==void 0?u:Ws,u!==Ws&&u!==Pa)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===Ws&&(r=Gi),r===void 0&&u===Pa&&(r=Gs),super(null,i,s,o,a,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=a!==void 0?a:mn,this.minFilter=l!==void 0?l:mn,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class p5 extends Va{constructor(e,n){super();const r=this;let i=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,d=null,h=null,g=null;const v=n.getContextAttributes();let m=null,p=null;const y=[],x=[],w=new kn;w.layers.enable(1),w.viewport=new vt;const S=new kn;S.layers.enable(2),S.viewport=new vt;const M=[w,S],T=new d5;T.layers.enable(1),T.layers.enable(2);let C=null,E=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(U){let B=y[U];return B===void 0&&(B=new ap,y[U]=B),B.getTargetRaySpace()},this.getControllerGrip=function(U){let B=y[U];return B===void 0&&(B=new ap,y[U]=B),B.getGripSpace()},this.getHand=function(U){let B=y[U];return B===void 0&&(B=new ap,y[U]=B),B.getHandSpace()};function A(U){const B=x.indexOf(U.inputSource);if(B===-1)return;const ee=y[B];ee!==void 0&&(ee.update(U.inputSource,U.frame,c||o),ee.dispatchEvent({type:U.type,data:U.inputSource}))}function k(){i.removeEventListener("select",A),i.removeEventListener("selectstart",A),i.removeEventListener("selectend",A),i.removeEventListener("squeeze",A),i.removeEventListener("squeezestart",A),i.removeEventListener("squeezeend",A),i.removeEventListener("end",k),i.removeEventListener("inputsourceschange",I);for(let U=0;U<y.length;U++){const B=x[U];B!==null&&(x[U]=null,y[U].disconnect(B))}C=null,E=null,e.setRenderTarget(m),h=null,d=null,f=null,i=null,p=null,W.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(U){s=U,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(U){a=U,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(U){c=U},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(U){if(i=U,i!==null){if(m=e.getRenderTarget(),i.addEventListener("select",A),i.addEventListener("selectstart",A),i.addEventListener("selectend",A),i.addEventListener("squeeze",A),i.addEventListener("squeezestart",A),i.addEventListener("squeezeend",A),i.addEventListener("end",k),i.addEventListener("inputsourceschange",I),v.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const B={antialias:i.renderState.layers===void 0?v.antialias:!0,alpha:!0,depth:v.depth,stencil:v.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(i,n,B),i.updateRenderState({baseLayer:h}),p=new to(h.framebufferWidth,h.framebufferHeight,{format:xr,type:is,colorSpace:e.outputColorSpace,stencilBuffer:v.stencil})}else{let B=null,ee=null,te=null;v.depth&&(te=v.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,B=v.stencil?Pa:Ws,ee=v.stencil?Gs:Gi);const oe={colorFormat:n.RGBA8,depthFormat:te,scaleFactor:s};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(oe),i.updateRenderState({layers:[d]}),p=new to(d.textureWidth,d.textureHeight,{format:xr,type:is,depthTexture:new h5(d.textureWidth,d.textureHeight,ee,void 0,void 0,void 0,void 0,void 0,void 0,B),stencilBuffer:v.stencil,colorSpace:e.outputColorSpace,samples:v.antialias?4:0});const se=e.properties.get(p);se.__ignoreDepthValues=d.ignoreDepthValues}p.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await i.requestReferenceSpace(a),W.setContext(i),W.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function I(U){for(let B=0;B<U.removed.length;B++){const ee=U.removed[B],te=x.indexOf(ee);te>=0&&(x[te]=null,y[te].disconnect(ee))}for(let B=0;B<U.added.length;B++){const ee=U.added[B];let te=x.indexOf(ee);if(te===-1){for(let se=0;se<y.length;se++)if(se>=x.length){x.push(ee),te=se;break}else if(x[se]===null){x[se]=ee,te=se;break}if(te===-1)break}const oe=y[te];oe&&oe.connect(ee)}}const O=new $,L=new $;function z(U,B,ee){O.setFromMatrixPosition(B.matrixWorld),L.setFromMatrixPosition(ee.matrixWorld);const te=O.distanceTo(L),oe=B.projectionMatrix.elements,se=ee.projectionMatrix.elements,ve=oe[14]/(oe[10]-1),pe=oe[14]/(oe[10]+1),Ae=(oe[9]+1)/oe[5],$e=(oe[9]-1)/oe[5],Me=(oe[8]-1)/oe[0],G=(se[8]+1)/se[0],Ne=ve*Me,he=ve*G,Te=te/(-Me+G),be=Te*-Me;B.matrixWorld.decompose(U.position,U.quaternion,U.scale),U.translateX(be),U.translateZ(Te),U.matrixWorld.compose(U.position,U.quaternion,U.scale),U.matrixWorldInverse.copy(U.matrixWorld).invert();const tt=ve+Te,Ge=pe+Te,Ce=Ne-be,Qe=he+(te-be),kt=Ae*pe/Ge*tt,Ht=$e*pe/Ge*tt;U.projectionMatrix.makePerspective(Ce,Qe,kt,Ht,tt,Ge),U.projectionMatrixInverse.copy(U.projectionMatrix).invert()}function H(U,B){B===null?U.matrixWorld.copy(U.matrix):U.matrixWorld.multiplyMatrices(B.matrixWorld,U.matrix),U.matrixWorldInverse.copy(U.matrixWorld).invert()}this.updateCamera=function(U){if(i===null)return;T.near=S.near=w.near=U.near,T.far=S.far=w.far=U.far,(C!==T.near||E!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),C=T.near,E=T.far);const B=U.parent,ee=T.cameras;H(T,B);for(let te=0;te<ee.length;te++)H(ee[te],B);ee.length===2?z(T,w,S):T.projectionMatrix.copy(w.projectionMatrix),j(U,T,B)};function j(U,B,ee){ee===null?U.matrix.copy(B.matrixWorld):(U.matrix.copy(ee.matrixWorld),U.matrix.invert(),U.matrix.multiply(B.matrixWorld)),U.matrix.decompose(U.position,U.quaternion,U.scale),U.updateMatrixWorld(!0);const te=U.children;for(let oe=0,se=te.length;oe<se;oe++)te[oe].updateMatrixWorld(!0);U.projectionMatrix.copy(B.projectionMatrix),U.projectionMatrixInverse.copy(B.projectionMatrixInverse),U.isPerspectiveCamera&&(U.fov=Bm*2*Math.atan(1/U.projectionMatrix.elements[5]),U.zoom=1)}this.getCamera=function(){return T},this.getFoveation=function(){if(!(d===null&&h===null))return l},this.setFoveation=function(U){l=U,d!==null&&(d.fixedFoveation=U),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=U)};let N=null;function V(U,B){if(u=B.getViewerPose(c||o),g=B,u!==null){const ee=u.views;h!==null&&(e.setRenderTargetFramebuffer(p,h.framebuffer),e.setRenderTarget(p));let te=!1;ee.length!==T.cameras.length&&(T.cameras.length=0,te=!0);for(let oe=0;oe<ee.length;oe++){const se=ee[oe];let ve=null;if(h!==null)ve=h.getViewport(se);else{const Ae=f.getViewSubImage(d,se);ve=Ae.viewport,oe===0&&(e.setRenderTargetTextures(p,Ae.colorTexture,d.ignoreDepthValues?void 0:Ae.depthStencilTexture),e.setRenderTarget(p))}let pe=M[oe];pe===void 0&&(pe=new kn,pe.layers.enable(oe),pe.viewport=new vt,M[oe]=pe),pe.matrix.fromArray(se.transform.matrix),pe.matrix.decompose(pe.position,pe.quaternion,pe.scale),pe.projectionMatrix.fromArray(se.projectionMatrix),pe.projectionMatrixInverse.copy(pe.projectionMatrix).invert(),pe.viewport.set(ve.x,ve.y,ve.width,ve.height),oe===0&&(T.matrix.copy(pe.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),te===!0&&T.cameras.push(pe)}}for(let ee=0;ee<y.length;ee++){const te=x[ee],oe=y[ee];te!==null&&oe!==void 0&&oe.update(te,B,c||o)}N&&N(U,B),B.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:B}),g=null}const W=new gT;W.setAnimationLoop(V),this.setAnimationLoop=function(U){N=U},this.dispose=function(){}}}function m5(t,e){function n(m,p){m.matrixAutoUpdate===!0&&m.updateMatrix(),p.value.copy(m.matrix)}function r(m,p){p.color.getRGB(m.fogColor.value,hT(t)),p.isFog?(m.fogNear.value=p.near,m.fogFar.value=p.far):p.isFogExp2&&(m.fogDensity.value=p.density)}function i(m,p,y,x,w){p.isMeshBasicMaterial||p.isMeshLambertMaterial?s(m,p):p.isMeshToonMaterial?(s(m,p),f(m,p)):p.isMeshPhongMaterial?(s(m,p),u(m,p)):p.isMeshStandardMaterial?(s(m,p),d(m,p),p.isMeshPhysicalMaterial&&h(m,p,w)):p.isMeshMatcapMaterial?(s(m,p),g(m,p)):p.isMeshDepthMaterial?s(m,p):p.isMeshDistanceMaterial?(s(m,p),v(m,p)):p.isMeshNormalMaterial?s(m,p):p.isLineBasicMaterial?(o(m,p),p.isLineDashedMaterial&&a(m,p)):p.isPointsMaterial?l(m,p,y,x):p.isSpriteMaterial?c(m,p):p.isShadowMaterial?(m.color.value.copy(p.color),m.opacity.value=p.opacity):p.isShaderMaterial&&(p.uniformsNeedUpdate=!1)}function s(m,p){m.opacity.value=p.opacity,p.color&&m.diffuse.value.copy(p.color),p.emissive&&m.emissive.value.copy(p.emissive).multiplyScalar(p.emissiveIntensity),p.map&&(m.map.value=p.map,n(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.bumpMap&&(m.bumpMap.value=p.bumpMap,n(p.bumpMap,m.bumpMapTransform),m.bumpScale.value=p.bumpScale,p.side===Cn&&(m.bumpScale.value*=-1)),p.normalMap&&(m.normalMap.value=p.normalMap,n(p.normalMap,m.normalMapTransform),m.normalScale.value.copy(p.normalScale),p.side===Cn&&m.normalScale.value.negate()),p.displacementMap&&(m.displacementMap.value=p.displacementMap,n(p.displacementMap,m.displacementMapTransform),m.displacementScale.value=p.displacementScale,m.displacementBias.value=p.displacementBias),p.emissiveMap&&(m.emissiveMap.value=p.emissiveMap,n(p.emissiveMap,m.emissiveMapTransform)),p.specularMap&&(m.specularMap.value=p.specularMap,n(p.specularMap,m.specularMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest);const y=e.get(p).envMap;if(y&&(m.envMap.value=y,m.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=p.reflectivity,m.ior.value=p.ior,m.refractionRatio.value=p.refractionRatio),p.lightMap){m.lightMap.value=p.lightMap;const x=t._useLegacyLights===!0?Math.PI:1;m.lightMapIntensity.value=p.lightMapIntensity*x,n(p.lightMap,m.lightMapTransform)}p.aoMap&&(m.aoMap.value=p.aoMap,m.aoMapIntensity.value=p.aoMapIntensity,n(p.aoMap,m.aoMapTransform))}function o(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,p.map&&(m.map.value=p.map,n(p.map,m.mapTransform))}function a(m,p){m.dashSize.value=p.dashSize,m.totalSize.value=p.dashSize+p.gapSize,m.scale.value=p.scale}function l(m,p,y,x){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.size.value=p.size*y,m.scale.value=x*.5,p.map&&(m.map.value=p.map,n(p.map,m.uvTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}function c(m,p){m.diffuse.value.copy(p.color),m.opacity.value=p.opacity,m.rotation.value=p.rotation,p.map&&(m.map.value=p.map,n(p.map,m.mapTransform)),p.alphaMap&&(m.alphaMap.value=p.alphaMap,n(p.alphaMap,m.alphaMapTransform)),p.alphaTest>0&&(m.alphaTest.value=p.alphaTest)}function u(m,p){m.specular.value.copy(p.specular),m.shininess.value=Math.max(p.shininess,1e-4)}function f(m,p){p.gradientMap&&(m.gradientMap.value=p.gradientMap)}function d(m,p){m.metalness.value=p.metalness,p.metalnessMap&&(m.metalnessMap.value=p.metalnessMap,n(p.metalnessMap,m.metalnessMapTransform)),m.roughness.value=p.roughness,p.roughnessMap&&(m.roughnessMap.value=p.roughnessMap,n(p.roughnessMap,m.roughnessMapTransform)),e.get(p).envMap&&(m.envMapIntensity.value=p.envMapIntensity)}function h(m,p,y){m.ior.value=p.ior,p.sheen>0&&(m.sheenColor.value.copy(p.sheenColor).multiplyScalar(p.sheen),m.sheenRoughness.value=p.sheenRoughness,p.sheenColorMap&&(m.sheenColorMap.value=p.sheenColorMap,n(p.sheenColorMap,m.sheenColorMapTransform)),p.sheenRoughnessMap&&(m.sheenRoughnessMap.value=p.sheenRoughnessMap,n(p.sheenRoughnessMap,m.sheenRoughnessMapTransform))),p.clearcoat>0&&(m.clearcoat.value=p.clearcoat,m.clearcoatRoughness.value=p.clearcoatRoughness,p.clearcoatMap&&(m.clearcoatMap.value=p.clearcoatMap,n(p.clearcoatMap,m.clearcoatMapTransform)),p.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=p.clearcoatRoughnessMap,n(p.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),p.clearcoatNormalMap&&(m.clearcoatNormalMap.value=p.clearcoatNormalMap,n(p.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(p.clearcoatNormalScale),p.side===Cn&&m.clearcoatNormalScale.value.negate())),p.iridescence>0&&(m.iridescence.value=p.iridescence,m.iridescenceIOR.value=p.iridescenceIOR,m.iridescenceThicknessMinimum.value=p.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=p.iridescenceThicknessRange[1],p.iridescenceMap&&(m.iridescenceMap.value=p.iridescenceMap,n(p.iridescenceMap,m.iridescenceMapTransform)),p.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=p.iridescenceThicknessMap,n(p.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),p.transmission>0&&(m.transmission.value=p.transmission,m.transmissionSamplerMap.value=y.texture,m.transmissionSamplerSize.value.set(y.width,y.height),p.transmissionMap&&(m.transmissionMap.value=p.transmissionMap,n(p.transmissionMap,m.transmissionMapTransform)),m.thickness.value=p.thickness,p.thicknessMap&&(m.thicknessMap.value=p.thicknessMap,n(p.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=p.attenuationDistance,m.attenuationColor.value.copy(p.attenuationColor)),p.anisotropy>0&&(m.anisotropyVector.value.set(p.anisotropy*Math.cos(p.anisotropyRotation),p.anisotropy*Math.sin(p.anisotropyRotation)),p.anisotropyMap&&(m.anisotropyMap.value=p.anisotropyMap,n(p.anisotropyMap,m.anisotropyMapTransform))),m.specularIntensity.value=p.specularIntensity,m.specularColor.value.copy(p.specularColor),p.specularColorMap&&(m.specularColorMap.value=p.specularColorMap,n(p.specularColorMap,m.specularColorMapTransform)),p.specularIntensityMap&&(m.specularIntensityMap.value=p.specularIntensityMap,n(p.specularIntensityMap,m.specularIntensityMapTransform))}function g(m,p){p.matcap&&(m.matcap.value=p.matcap)}function v(m,p){const y=e.get(p).light;m.referencePosition.value.setFromMatrixPosition(y.matrixWorld),m.nearDistance.value=y.shadow.camera.near,m.farDistance.value=y.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function g5(t,e,n,r){let i={},s={},o=[];const a=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(y,x){const w=x.program;r.uniformBlockBinding(y,w)}function c(y,x){let w=i[y.id];w===void 0&&(g(y),w=u(y),i[y.id]=w,y.addEventListener("dispose",m));const S=x.program;r.updateUBOMapping(y,S);const M=e.render.frame;s[y.id]!==M&&(d(y),s[y.id]=M)}function u(y){const x=f();y.__bindingPointIndex=x;const w=t.createBuffer(),S=y.__size,M=y.usage;return t.bindBuffer(t.UNIFORM_BUFFER,w),t.bufferData(t.UNIFORM_BUFFER,S,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,x,w),w}function f(){for(let y=0;y<a;y++)if(o.indexOf(y)===-1)return o.push(y),y;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(y){const x=i[y.id],w=y.uniforms,S=y.__cache;t.bindBuffer(t.UNIFORM_BUFFER,x);for(let M=0,T=w.length;M<T;M++){const C=w[M];if(h(C,M,S)===!0){const E=C.__offset,A=Array.isArray(C.value)?C.value:[C.value];let k=0;for(let I=0;I<A.length;I++){const O=A[I],L=v(O);typeof O=="number"?(C.__data[0]=O,t.bufferSubData(t.UNIFORM_BUFFER,E+k,C.__data)):O.isMatrix3?(C.__data[0]=O.elements[0],C.__data[1]=O.elements[1],C.__data[2]=O.elements[2],C.__data[3]=O.elements[0],C.__data[4]=O.elements[3],C.__data[5]=O.elements[4],C.__data[6]=O.elements[5],C.__data[7]=O.elements[0],C.__data[8]=O.elements[6],C.__data[9]=O.elements[7],C.__data[10]=O.elements[8],C.__data[11]=O.elements[0]):(O.toArray(C.__data,k),k+=L.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,E,C.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(y,x,w){const S=y.value;if(w[x]===void 0){if(typeof S=="number")w[x]=S;else{const M=Array.isArray(S)?S:[S],T=[];for(let C=0;C<M.length;C++)T.push(M[C].clone());w[x]=T}return!0}else if(typeof S=="number"){if(w[x]!==S)return w[x]=S,!0}else{const M=Array.isArray(w[x])?w[x]:[w[x]],T=Array.isArray(S)?S:[S];for(let C=0;C<M.length;C++){const E=M[C];if(E.equals(T[C])===!1)return E.copy(T[C]),!0}}return!1}function g(y){const x=y.uniforms;let w=0;const S=16;let M=0;for(let T=0,C=x.length;T<C;T++){const E=x[T],A={boundary:0,storage:0},k=Array.isArray(E.value)?E.value:[E.value];for(let I=0,O=k.length;I<O;I++){const L=k[I],z=v(L);A.boundary+=z.boundary,A.storage+=z.storage}if(E.__data=new Float32Array(A.storage/Float32Array.BYTES_PER_ELEMENT),E.__offset=w,T>0){M=w%S;const I=S-M;M!==0&&I-A.boundary<0&&(w+=S-M,E.__offset=w)}w+=A.storage}return M=w%S,M>0&&(w+=S-M),y.__size=w,y.__cache={},this}function v(y){const x={boundary:0,storage:0};return typeof y=="number"?(x.boundary=4,x.storage=4):y.isVector2?(x.boundary=8,x.storage=8):y.isVector3||y.isColor?(x.boundary=16,x.storage=12):y.isVector4?(x.boundary=16,x.storage=16):y.isMatrix3?(x.boundary=48,x.storage=48):y.isMatrix4?(x.boundary=64,x.storage=64):y.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",y),x}function m(y){const x=y.target;x.removeEventListener("dispose",m);const w=o.indexOf(x.__bindingPointIndex);o.splice(w,1),t.deleteBuffer(i[x.id]),delete i[x.id],delete s[x.id]}function p(){for(const y in i)t.deleteBuffer(i[y]);o=[],i={},s={}}return{bind:l,update:c,dispose:p}}function v5(){const t=Fd("canvas");return t.style.display="block",t}class ST{constructor(e={}){const{canvas:n=v5(),context:r=null,depth:i=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let d;r!==null?d=r.getContextAttributes().alpha:d=o;const h=new Uint32Array(4),g=new Int32Array(4);let v=null,m=null;const p=[],y=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=He,this._useLegacyLights=!1,this.toneMapping=rs,this.toneMappingExposure=1;const x=this;let w=!1,S=0,M=0,T=null,C=-1,E=null;const A=new vt,k=new vt;let I=null;const O=new rt(0);let L=0,z=n.width,H=n.height,j=1,N=null,V=null;const W=new vt(0,0,z,H),U=new vt(0,0,z,H);let B=!1;const ee=new Dv;let te=!1,oe=!1,se=null;const ve=new Ut,pe=new et,Ae=new $,$e={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Me(){return T===null?j:1}let G=r;function Ne(P,q){for(let J=0;J<P.length;J++){const X=P[J],Z=n.getContext(X,q);if(Z!==null)return Z}return null}try{const P={alpha:!0,depth:i,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${Rv}`),n.addEventListener("webglcontextlost",re,!1),n.addEventListener("webglcontextrestored",Y,!1),n.addEventListener("webglcontextcreationerror",le,!1),G===null){const q=["webgl2","webgl","experimental-webgl"];if(x.isWebGL1Renderer===!0&&q.shift(),G=Ne(q,P),G===null)throw Ne(q)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&G instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),G.getShaderPrecisionFormat===void 0&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(P){throw console.error("THREE.WebGLRenderer: "+P.message),P}let he,Te,be,tt,Ge,Ce,Qe,kt,Ht,D,R,K,ce,ie,de,Ee,fe,Q,Pe,Re,Le,we,ye,We;function xe(){he=new A4(G),Te=new w4(G,he,e),he.init(Te),we=new u5(G,he,Te),be=new l5(G,he,Te),tt=new P4(G),Ge=new qV,Ce=new c5(G,he,be,Ge,Te,we,tt),Qe=new b4(x),kt=new T4(x),Ht=new BF(G,Te),ye=new x4(G,he,Ht,Te),D=new C4(G,Ht,tt,ye),R=new I4(G,D,Ht,tt),Pe=new D4(G,Te,Ce),Ee=new S4(Ge),K=new $V(x,Qe,kt,he,Te,ye,Ee),ce=new m5(x,Ge),ie=new KV,de=new n5(he,Te),Q=new y4(x,Qe,kt,be,R,d,l),fe=new a5(x,R,Te),We=new g5(G,tt,Te,be),Re=new _4(G,he,tt,Te),Le=new R4(G,he,tt,Te),tt.programs=K.programs,x.capabilities=Te,x.extensions=he,x.properties=Ge,x.renderLists=ie,x.shadowMap=fe,x.state=be,x.info=tt}xe();const F=new p5(x,G);this.xr=F,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const P=he.get("WEBGL_lose_context");P&&P.loseContext()},this.forceContextRestore=function(){const P=he.get("WEBGL_lose_context");P&&P.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(P){P!==void 0&&(j=P,this.setSize(z,H,!1))},this.getSize=function(P){return P.set(z,H)},this.setSize=function(P,q,J=!0){if(F.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=P,H=q,n.width=Math.floor(P*j),n.height=Math.floor(q*j),J===!0&&(n.style.width=P+"px",n.style.height=q+"px"),this.setViewport(0,0,P,q)},this.getDrawingBufferSize=function(P){return P.set(z*j,H*j).floor()},this.setDrawingBufferSize=function(P,q,J){z=P,H=q,j=J,n.width=Math.floor(P*J),n.height=Math.floor(q*J),this.setViewport(0,0,P,q)},this.getCurrentViewport=function(P){return P.copy(A)},this.getViewport=function(P){return P.copy(W)},this.setViewport=function(P,q,J,X){P.isVector4?W.set(P.x,P.y,P.z,P.w):W.set(P,q,J,X),be.viewport(A.copy(W).multiplyScalar(j).floor())},this.getScissor=function(P){return P.copy(U)},this.setScissor=function(P,q,J,X){P.isVector4?U.set(P.x,P.y,P.z,P.w):U.set(P,q,J,X),be.scissor(k.copy(U).multiplyScalar(j).floor())},this.getScissorTest=function(){return B},this.setScissorTest=function(P){be.setScissorTest(B=P)},this.setOpaqueSort=function(P){N=P},this.setTransparentSort=function(P){V=P},this.getClearColor=function(P){return P.copy(Q.getClearColor())},this.setClearColor=function(){Q.setClearColor.apply(Q,arguments)},this.getClearAlpha=function(){return Q.getClearAlpha()},this.setClearAlpha=function(){Q.setClearAlpha.apply(Q,arguments)},this.clear=function(P=!0,q=!0,J=!0){let X=0;if(P){let Z=!1;if(T!==null){const Se=T.texture.format;Z=Se===eT||Se===J1||Se===Z1}if(Z){const Se=T.texture.type,De=Se===is||Se===Gi||Se===Lv||Se===Gs||Se===K1||Se===Q1,Ue=Q.getClearColor(),ke=Q.getClearAlpha(),qe=Ue.r,Oe=Ue.g,Be=Ue.b;De?(h[0]=qe,h[1]=Oe,h[2]=Be,h[3]=ke,G.clearBufferuiv(G.COLOR,0,h)):(g[0]=qe,g[1]=Oe,g[2]=Be,g[3]=ke,G.clearBufferiv(G.COLOR,0,g))}else X|=G.COLOR_BUFFER_BIT}q&&(X|=G.DEPTH_BUFFER_BIT),J&&(X|=G.STENCIL_BUFFER_BIT),G.clear(X)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",re,!1),n.removeEventListener("webglcontextrestored",Y,!1),n.removeEventListener("webglcontextcreationerror",le,!1),ie.dispose(),de.dispose(),Ge.dispose(),Qe.dispose(),kt.dispose(),R.dispose(),ye.dispose(),We.dispose(),K.dispose(),F.dispose(),F.removeEventListener("sessionstart",ct),F.removeEventListener("sessionend",Tr),se&&(se.dispose(),se=null),cn.stop()};function re(P){P.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),w=!0}function Y(){console.log("THREE.WebGLRenderer: Context Restored."),w=!1;const P=tt.autoReset,q=fe.enabled,J=fe.autoUpdate,X=fe.needsUpdate,Z=fe.type;xe(),tt.autoReset=P,fe.enabled=q,fe.autoUpdate=J,fe.needsUpdate=X,fe.type=Z}function le(P){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",P.statusMessage)}function ge(P){const q=P.target;q.removeEventListener("dispose",ge),Ze(q)}function Ze(P){yt(P),Ge.remove(P)}function yt(P){const q=Ge.get(P).programs;q!==void 0&&(q.forEach(function(J){K.releaseProgram(J)}),P.isShaderMaterial&&K.releaseShaderCache(P))}this.renderBufferDirect=function(P,q,J,X,Z,Se){q===null&&(q=$e);const De=Z.isMesh&&Z.matrixWorld.determinant()<0,Ue=YT(P,q,J,X,Z);be.setMaterial(X,De);let ke=J.index,qe=1;if(X.wireframe===!0){if(ke=D.getWireframeAttribute(J),ke===void 0)return;qe=2}const Oe=J.drawRange,Be=J.attributes.position;let bt=Oe.start*qe,Tt=(Oe.start+Oe.count)*qe;Se!==null&&(bt=Math.max(bt,Se.start*qe),Tt=Math.min(Tt,(Se.start+Se.count)*qe)),ke!==null?(bt=Math.max(bt,0),Tt=Math.min(Tt,ke.count)):Be!=null&&(bt=Math.max(bt,0),Tt=Math.min(Tt,Be.count));const qn=Tt-bt;if(qn<0||qn===1/0)return;ye.setup(Z,X,Ue,J,ke);let Gr,Pt=Re;if(ke!==null&&(Gr=Ht.get(ke),Pt=Le,Pt.setIndex(Gr)),Z.isMesh)X.wireframe===!0?(be.setLineWidth(X.wireframeLinewidth*Me()),Pt.setMode(G.LINES)):Pt.setMode(G.TRIANGLES);else if(Z.isLine){let Ke=X.linewidth;Ke===void 0&&(Ke=1),be.setLineWidth(Ke*Me()),Z.isLineSegments?Pt.setMode(G.LINES):Z.isLineLoop?Pt.setMode(G.LINE_LOOP):Pt.setMode(G.LINE_STRIP)}else Z.isPoints?Pt.setMode(G.POINTS):Z.isSprite&&Pt.setMode(G.TRIANGLES);if(Z.isInstancedMesh)Pt.renderInstances(bt,qn,Z.count);else if(J.isInstancedBufferGeometry){const Ke=J._maxInstanceCount!==void 0?J._maxInstanceCount:1/0,Nf=Math.min(J.instanceCount,Ke);Pt.renderInstances(bt,qn,Nf)}else Pt.render(bt,qn)},this.compile=function(P,q){function J(X,Z,Se){X.transparent===!0&&X.side===ri&&X.forceSinglePass===!1?(X.side=Cn,X.needsUpdate=!0,Dc(X,Z,Se),X.side=hs,X.needsUpdate=!0,Dc(X,Z,Se),X.side=ri):Dc(X,Z,Se)}m=de.get(P),m.init(),y.push(m),P.traverseVisible(function(X){X.isLight&&X.layers.test(q.layers)&&(m.pushLight(X),X.castShadow&&m.pushShadow(X))}),m.setupLights(x._useLegacyLights),P.traverse(function(X){const Z=X.material;if(Z)if(Array.isArray(Z))for(let Se=0;Se<Z.length;Se++){const De=Z[Se];J(De,P,X)}else J(Z,P,X)}),y.pop(),m=null};let Rt=null;function wi(P){Rt&&Rt(P)}function ct(){cn.stop()}function Tr(){cn.start()}const cn=new gT;cn.setAnimationLoop(wi),typeof self<"u"&&cn.setContext(self),this.setAnimationLoop=function(P){Rt=P,F.setAnimationLoop(P),P===null?cn.stop():cn.start()},F.addEventListener("sessionstart",ct),F.addEventListener("sessionend",Tr),this.render=function(P,q){if(q!==void 0&&q.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(w===!0)return;P.matrixWorldAutoUpdate===!0&&P.updateMatrixWorld(),q.parent===null&&q.matrixWorldAutoUpdate===!0&&q.updateMatrixWorld(),F.enabled===!0&&F.isPresenting===!0&&(F.cameraAutoUpdate===!0&&F.updateCamera(q),q=F.getCamera()),P.isScene===!0&&P.onBeforeRender(x,P,q,T),m=de.get(P,y.length),m.init(),y.push(m),ve.multiplyMatrices(q.projectionMatrix,q.matrixWorldInverse),ee.setFromProjectionMatrix(ve),oe=this.localClippingEnabled,te=Ee.init(this.clippingPlanes,oe),v=ie.get(P,p.length),v.init(),p.push(v),jv(P,q,0,x.sortObjects),v.finish(),x.sortObjects===!0&&v.sort(N,V),this.info.render.frame++,te===!0&&Ee.beginShadows();const J=m.state.shadowsArray;if(fe.render(J,P,q),te===!0&&Ee.endShadows(),this.info.autoReset===!0&&this.info.reset(),Q.render(v,P),m.setupLights(x._useLegacyLights),q.isArrayCamera){const X=q.cameras;for(let Z=0,Se=X.length;Z<Se;Z++){const De=X[Z];Hv(v,P,De,De.viewport)}}else Hv(v,P,q);T!==null&&(Ce.updateMultisampleRenderTarget(T),Ce.updateRenderTargetMipmap(T)),P.isScene===!0&&P.onAfterRender(x,P,q),ye.resetDefaultState(),C=-1,E=null,y.pop(),y.length>0?m=y[y.length-1]:m=null,p.pop(),p.length>0?v=p[p.length-1]:v=null};function jv(P,q,J,X){if(P.visible===!1)return;if(P.layers.test(q.layers)){if(P.isGroup)J=P.renderOrder;else if(P.isLOD)P.autoUpdate===!0&&P.update(q);else if(P.isLight)m.pushLight(P),P.castShadow&&m.pushShadow(P);else if(P.isSprite){if(!P.frustumCulled||ee.intersectsSprite(P)){X&&Ae.setFromMatrixPosition(P.matrixWorld).applyMatrix4(ve);const De=R.update(P),Ue=P.material;Ue.visible&&v.push(P,De,Ue,J,Ae.z,null)}}else if((P.isMesh||P.isLine||P.isPoints)&&(!P.frustumCulled||ee.intersectsObject(P))){const De=R.update(P),Ue=P.material;if(X&&(P.boundingSphere!==void 0?(P.boundingSphere===null&&P.computeBoundingSphere(),Ae.copy(P.boundingSphere.center)):(De.boundingSphere===null&&De.computeBoundingSphere(),Ae.copy(De.boundingSphere.center)),Ae.applyMatrix4(P.matrixWorld).applyMatrix4(ve)),Array.isArray(Ue)){const ke=De.groups;for(let qe=0,Oe=ke.length;qe<Oe;qe++){const Be=ke[qe],bt=Ue[Be.materialIndex];bt&&bt.visible&&v.push(P,De,bt,J,Ae.z,Be)}}else Ue.visible&&v.push(P,De,Ue,J,Ae.z,null)}}const Se=P.children;for(let De=0,Ue=Se.length;De<Ue;De++)jv(Se[De],q,J,X)}function Hv(P,q,J,X){const Z=P.opaque,Se=P.transmissive,De=P.transparent;m.setupLightsView(J),te===!0&&Ee.setGlobalState(x.clippingPlanes,J),Se.length>0&&qT(Z,Se,q,J),X&&be.viewport(A.copy(X)),Z.length>0&&Nc(Z,q,J),Se.length>0&&Nc(Se,q,J),De.length>0&&Nc(De,q,J),be.buffers.depth.setTest(!0),be.buffers.depth.setMask(!0),be.buffers.color.setMask(!0),be.setPolygonOffset(!1)}function qT(P,q,J,X){const Z=Te.isWebGL2;se===null&&(se=new to(1,1,{generateMipmaps:!0,type:he.has("EXT_color_buffer_half_float")?cc:is,minFilter:lc,samples:Z?4:0})),x.getDrawingBufferSize(pe),Z?se.setSize(pe.x,pe.y):se.setSize(Vm(pe.x),Vm(pe.y));const Se=x.getRenderTarget();x.setRenderTarget(se),x.getClearColor(O),L=x.getClearAlpha(),L<1&&x.setClearColor(16777215,.5),x.clear();const De=x.toneMapping;x.toneMapping=rs,Nc(P,J,X),Ce.updateMultisampleRenderTarget(se),Ce.updateRenderTargetMipmap(se);let Ue=!1;for(let ke=0,qe=q.length;ke<qe;ke++){const Oe=q[ke],Be=Oe.object,bt=Oe.geometry,Tt=Oe.material,qn=Oe.group;if(Tt.side===ri&&Be.layers.test(X.layers)){const Gr=Tt.side;Tt.side=Cn,Tt.needsUpdate=!0,Gv(Be,J,X,bt,Tt,qn),Tt.side=Gr,Tt.needsUpdate=!0,Ue=!0}}Ue===!0&&(Ce.updateMultisampleRenderTarget(se),Ce.updateRenderTargetMipmap(se)),x.setRenderTarget(Se),x.setClearColor(O,L),x.toneMapping=De}function Nc(P,q,J){const X=q.isScene===!0?q.overrideMaterial:null;for(let Z=0,Se=P.length;Z<Se;Z++){const De=P[Z],Ue=De.object,ke=De.geometry,qe=X===null?De.material:X,Oe=De.group;Ue.layers.test(J.layers)&&Gv(Ue,q,J,ke,qe,Oe)}}function Gv(P,q,J,X,Z,Se){P.onBeforeRender(x,q,J,X,Z,Se),P.modelViewMatrix.multiplyMatrices(J.matrixWorldInverse,P.matrixWorld),P.normalMatrix.getNormalMatrix(P.modelViewMatrix),Z.onBeforeRender(x,q,J,X,P,Se),Z.transparent===!0&&Z.side===ri&&Z.forceSinglePass===!1?(Z.side=Cn,Z.needsUpdate=!0,x.renderBufferDirect(J,q,X,Z,P,Se),Z.side=hs,Z.needsUpdate=!0,x.renderBufferDirect(J,q,X,Z,P,Se),Z.side=ri):x.renderBufferDirect(J,q,X,Z,P,Se),P.onAfterRender(x,q,J,X,Z,Se)}function Dc(P,q,J){q.isScene!==!0&&(q=$e);const X=Ge.get(P),Z=m.state.lights,Se=m.state.shadowsArray,De=Z.state.version,Ue=K.getParameters(P,Z.state,Se,q,J),ke=K.getProgramCacheKey(Ue);let qe=X.programs;X.environment=P.isMeshStandardMaterial?q.environment:null,X.fog=q.fog,X.envMap=(P.isMeshStandardMaterial?kt:Qe).get(P.envMap||X.environment),qe===void 0&&(P.addEventListener("dispose",ge),qe=new Map,X.programs=qe);let Oe=qe.get(ke);if(Oe!==void 0){if(X.currentProgram===Oe&&X.lightsStateVersion===De)return Wv(P,Ue),Oe}else Ue.uniforms=K.getUniforms(P),P.onBuild(J,Ue,x),P.onBeforeCompile(Ue,x),Oe=K.acquireProgram(Ue,ke),qe.set(ke,Oe),X.uniforms=Ue.uniforms;const Be=X.uniforms;(!P.isShaderMaterial&&!P.isRawShaderMaterial||P.clipping===!0)&&(Be.clippingPlanes=Ee.uniform),Wv(P,Ue),X.needsLights=QT(P),X.lightsStateVersion=De,X.needsLights&&(Be.ambientLightColor.value=Z.state.ambient,Be.lightProbe.value=Z.state.probe,Be.directionalLights.value=Z.state.directional,Be.directionalLightShadows.value=Z.state.directionalShadow,Be.spotLights.value=Z.state.spot,Be.spotLightShadows.value=Z.state.spotShadow,Be.rectAreaLights.value=Z.state.rectArea,Be.ltc_1.value=Z.state.rectAreaLTC1,Be.ltc_2.value=Z.state.rectAreaLTC2,Be.pointLights.value=Z.state.point,Be.pointLightShadows.value=Z.state.pointShadow,Be.hemisphereLights.value=Z.state.hemi,Be.directionalShadowMap.value=Z.state.directionalShadowMap,Be.directionalShadowMatrix.value=Z.state.directionalShadowMatrix,Be.spotShadowMap.value=Z.state.spotShadowMap,Be.spotLightMatrix.value=Z.state.spotLightMatrix,Be.spotLightMap.value=Z.state.spotLightMap,Be.pointShadowMap.value=Z.state.pointShadowMap,Be.pointShadowMatrix.value=Z.state.pointShadowMatrix);const bt=Oe.getUniforms(),Tt=$u.seqWithValue(bt.seq,Be);return X.currentProgram=Oe,X.uniformsList=Tt,Oe}function Wv(P,q){const J=Ge.get(P);J.outputColorSpace=q.outputColorSpace,J.instancing=q.instancing,J.instancingColor=q.instancingColor,J.skinning=q.skinning,J.morphTargets=q.morphTargets,J.morphNormals=q.morphNormals,J.morphColors=q.morphColors,J.morphTargetsCount=q.morphTargetsCount,J.numClippingPlanes=q.numClippingPlanes,J.numIntersection=q.numClipIntersection,J.vertexAlphas=q.vertexAlphas,J.vertexTangents=q.vertexTangents,J.toneMapping=q.toneMapping}function YT(P,q,J,X,Z){q.isScene!==!0&&(q=$e),Ce.resetTextureUnits();const Se=q.fog,De=X.isMeshStandardMaterial?q.environment:null,Ue=T===null?x.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:Vr,ke=(X.isMeshStandardMaterial?kt:Qe).get(X.envMap||De),qe=X.vertexColors===!0&&!!J.attributes.color&&J.attributes.color.itemSize===4,Oe=!!J.attributes.tangent&&(!!X.normalMap||X.anisotropy>0),Be=!!J.morphAttributes.position,bt=!!J.morphAttributes.normal,Tt=!!J.morphAttributes.color;let qn=rs;X.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(qn=x.toneMapping);const Gr=J.morphAttributes.position||J.morphAttributes.normal||J.morphAttributes.color,Pt=Gr!==void 0?Gr.length:0,Ke=Ge.get(X),Nf=m.state.lights;if(te===!0&&(oe===!0||P!==E)){const Pn=P===E&&X.id===C;Ee.setState(X,P,Pn)}let Lt=!1;X.version===Ke.__version?(Ke.needsLights&&Ke.lightsStateVersion!==Nf.state.version||Ke.outputColorSpace!==Ue||Z.isInstancedMesh&&Ke.instancing===!1||!Z.isInstancedMesh&&Ke.instancing===!0||Z.isSkinnedMesh&&Ke.skinning===!1||!Z.isSkinnedMesh&&Ke.skinning===!0||Z.isInstancedMesh&&Ke.instancingColor===!0&&Z.instanceColor===null||Z.isInstancedMesh&&Ke.instancingColor===!1&&Z.instanceColor!==null||Ke.envMap!==ke||X.fog===!0&&Ke.fog!==Se||Ke.numClippingPlanes!==void 0&&(Ke.numClippingPlanes!==Ee.numPlanes||Ke.numIntersection!==Ee.numIntersection)||Ke.vertexAlphas!==qe||Ke.vertexTangents!==Oe||Ke.morphTargets!==Be||Ke.morphNormals!==bt||Ke.morphColors!==Tt||Ke.toneMapping!==qn||Te.isWebGL2===!0&&Ke.morphTargetsCount!==Pt)&&(Lt=!0):(Lt=!0,Ke.__version=X.version);let ys=Ke.currentProgram;Lt===!0&&(ys=Dc(X,q,Z));let Xv=!1,Ha=!1,Df=!1;const un=ys.getUniforms(),xs=Ke.uniforms;if(be.useProgram(ys.program)&&(Xv=!0,Ha=!0,Df=!0),X.id!==C&&(C=X.id,Ha=!0),Xv||E!==P){if(un.setValue(G,"projectionMatrix",P.projectionMatrix),Te.logarithmicDepthBuffer&&un.setValue(G,"logDepthBufFC",2/(Math.log(P.far+1)/Math.LN2)),E!==P&&(E=P,Ha=!0,Df=!0),X.isShaderMaterial||X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshStandardMaterial||X.envMap){const Pn=un.map.cameraPosition;Pn!==void 0&&Pn.setValue(G,Ae.setFromMatrixPosition(P.matrixWorld))}(X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshLambertMaterial||X.isMeshBasicMaterial||X.isMeshStandardMaterial||X.isShaderMaterial)&&un.setValue(G,"isOrthographic",P.isOrthographicCamera===!0),(X.isMeshPhongMaterial||X.isMeshToonMaterial||X.isMeshLambertMaterial||X.isMeshBasicMaterial||X.isMeshStandardMaterial||X.isShaderMaterial||X.isShadowMaterial||Z.isSkinnedMesh)&&un.setValue(G,"viewMatrix",P.matrixWorldInverse)}if(Z.isSkinnedMesh){un.setOptional(G,Z,"bindMatrix"),un.setOptional(G,Z,"bindMatrixInverse");const Pn=Z.skeleton;Pn&&(Te.floatVertexTextures?(Pn.boneTexture===null&&Pn.computeBoneTexture(),un.setValue(G,"boneTexture",Pn.boneTexture,Ce),un.setValue(G,"boneTextureSize",Pn.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const If=J.morphAttributes;if((If.position!==void 0||If.normal!==void 0||If.color!==void 0&&Te.isWebGL2===!0)&&Pe.update(Z,J,ys),(Ha||Ke.receiveShadow!==Z.receiveShadow)&&(Ke.receiveShadow=Z.receiveShadow,un.setValue(G,"receiveShadow",Z.receiveShadow)),X.isMeshGouraudMaterial&&X.envMap!==null&&(xs.envMap.value=ke,xs.flipEnvMap.value=ke.isCubeTexture&&ke.isRenderTargetTexture===!1?-1:1),Ha&&(un.setValue(G,"toneMappingExposure",x.toneMappingExposure),Ke.needsLights&&KT(xs,Df),Se&&X.fog===!0&&ce.refreshFogUniforms(xs,Se),ce.refreshMaterialUniforms(xs,X,j,H,se),$u.upload(G,Ke.uniformsList,xs,Ce)),X.isShaderMaterial&&X.uniformsNeedUpdate===!0&&($u.upload(G,Ke.uniformsList,xs,Ce),X.uniformsNeedUpdate=!1),X.isSpriteMaterial&&un.setValue(G,"center",Z.center),un.setValue(G,"modelViewMatrix",Z.modelViewMatrix),un.setValue(G,"normalMatrix",Z.normalMatrix),un.setValue(G,"modelMatrix",Z.matrixWorld),X.isShaderMaterial||X.isRawShaderMaterial){const Pn=X.uniformsGroups;for(let Of=0,ZT=Pn.length;Of<ZT;Of++)if(Te.isWebGL2){const $v=Pn[Of];We.update($v,ys),We.bind($v,ys)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return ys}function KT(P,q){P.ambientLightColor.needsUpdate=q,P.lightProbe.needsUpdate=q,P.directionalLights.needsUpdate=q,P.directionalLightShadows.needsUpdate=q,P.pointLights.needsUpdate=q,P.pointLightShadows.needsUpdate=q,P.spotLights.needsUpdate=q,P.spotLightShadows.needsUpdate=q,P.rectAreaLights.needsUpdate=q,P.hemisphereLights.needsUpdate=q}function QT(P){return P.isMeshLambertMaterial||P.isMeshToonMaterial||P.isMeshPhongMaterial||P.isMeshStandardMaterial||P.isShadowMaterial||P.isShaderMaterial&&P.lights===!0}this.getActiveCubeFace=function(){return S},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(P,q,J){Ge.get(P.texture).__webglTexture=q,Ge.get(P.depthTexture).__webglTexture=J;const X=Ge.get(P);X.__hasExternalTextures=!0,X.__hasExternalTextures&&(X.__autoAllocateDepthBuffer=J===void 0,X.__autoAllocateDepthBuffer||he.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),X.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(P,q){const J=Ge.get(P);J.__webglFramebuffer=q,J.__useDefaultFramebuffer=q===void 0},this.setRenderTarget=function(P,q=0,J=0){T=P,S=q,M=J;let X=!0,Z=null,Se=!1,De=!1;if(P){const ke=Ge.get(P);ke.__useDefaultFramebuffer!==void 0?(be.bindFramebuffer(G.FRAMEBUFFER,null),X=!1):ke.__webglFramebuffer===void 0?Ce.setupRenderTarget(P):ke.__hasExternalTextures&&Ce.rebindTextures(P,Ge.get(P.texture).__webglTexture,Ge.get(P.depthTexture).__webglTexture);const qe=P.texture;(qe.isData3DTexture||qe.isDataArrayTexture||qe.isCompressedArrayTexture)&&(De=!0);const Oe=Ge.get(P).__webglFramebuffer;P.isWebGLCubeRenderTarget?(Array.isArray(Oe[q])?Z=Oe[q][J]:Z=Oe[q],Se=!0):Te.isWebGL2&&P.samples>0&&Ce.useMultisampledRTT(P)===!1?Z=Ge.get(P).__webglMultisampledFramebuffer:Array.isArray(Oe)?Z=Oe[J]:Z=Oe,A.copy(P.viewport),k.copy(P.scissor),I=P.scissorTest}else A.copy(W).multiplyScalar(j).floor(),k.copy(U).multiplyScalar(j).floor(),I=B;if(be.bindFramebuffer(G.FRAMEBUFFER,Z)&&Te.drawBuffers&&X&&be.drawBuffers(P,Z),be.viewport(A),be.scissor(k),be.setScissorTest(I),Se){const ke=Ge.get(P.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+q,ke.__webglTexture,J)}else if(De){const ke=Ge.get(P.texture),qe=q||0;G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,ke.__webglTexture,J||0,qe)}C=-1},this.readRenderTargetPixels=function(P,q,J,X,Z,Se,De){if(!(P&&P.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Ue=Ge.get(P).__webglFramebuffer;if(P.isWebGLCubeRenderTarget&&De!==void 0&&(Ue=Ue[De]),Ue){be.bindFramebuffer(G.FRAMEBUFFER,Ue);try{const ke=P.texture,qe=ke.format,Oe=ke.type;if(qe!==xr&&we.convert(qe)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Be=Oe===cc&&(he.has("EXT_color_buffer_half_float")||Te.isWebGL2&&he.has("EXT_color_buffer_float"));if(Oe!==is&&we.convert(Oe)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Oe===Wi&&(Te.isWebGL2||he.has("OES_texture_float")||he.has("WEBGL_color_buffer_float")))&&!Be){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}q>=0&&q<=P.width-X&&J>=0&&J<=P.height-Z&&G.readPixels(q,J,X,Z,we.convert(qe),we.convert(Oe),Se)}finally{const ke=T!==null?Ge.get(T).__webglFramebuffer:null;be.bindFramebuffer(G.FRAMEBUFFER,ke)}}},this.copyFramebufferToTexture=function(P,q,J=0){const X=Math.pow(2,-J),Z=Math.floor(q.image.width*X),Se=Math.floor(q.image.height*X);Ce.setTexture2D(q,0),G.copyTexSubImage2D(G.TEXTURE_2D,J,0,0,P.x,P.y,Z,Se),be.unbindTexture()},this.copyTextureToTexture=function(P,q,J,X=0){const Z=q.image.width,Se=q.image.height,De=we.convert(J.format),Ue=we.convert(J.type);Ce.setTexture2D(J,0),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,J.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,J.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,J.unpackAlignment),q.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,X,P.x,P.y,Z,Se,De,Ue,q.image.data):q.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,X,P.x,P.y,q.mipmaps[0].width,q.mipmaps[0].height,De,q.mipmaps[0].data):G.texSubImage2D(G.TEXTURE_2D,X,P.x,P.y,De,Ue,q.image),X===0&&J.generateMipmaps&&G.generateMipmap(G.TEXTURE_2D),be.unbindTexture()},this.copyTextureToTexture3D=function(P,q,J,X,Z=0){if(x.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Se=P.max.x-P.min.x+1,De=P.max.y-P.min.y+1,Ue=P.max.z-P.min.z+1,ke=we.convert(X.format),qe=we.convert(X.type);let Oe;if(X.isData3DTexture)Ce.setTexture3D(X,0),Oe=G.TEXTURE_3D;else if(X.isDataArrayTexture)Ce.setTexture2DArray(X,0),Oe=G.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,X.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,X.unpackAlignment);const Be=G.getParameter(G.UNPACK_ROW_LENGTH),bt=G.getParameter(G.UNPACK_IMAGE_HEIGHT),Tt=G.getParameter(G.UNPACK_SKIP_PIXELS),qn=G.getParameter(G.UNPACK_SKIP_ROWS),Gr=G.getParameter(G.UNPACK_SKIP_IMAGES),Pt=J.isCompressedTexture?J.mipmaps[0]:J.image;G.pixelStorei(G.UNPACK_ROW_LENGTH,Pt.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,Pt.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,P.min.x),G.pixelStorei(G.UNPACK_SKIP_ROWS,P.min.y),G.pixelStorei(G.UNPACK_SKIP_IMAGES,P.min.z),J.isDataTexture||J.isData3DTexture?G.texSubImage3D(Oe,Z,q.x,q.y,q.z,Se,De,Ue,ke,qe,Pt.data):J.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(Oe,Z,q.x,q.y,q.z,Se,De,Ue,ke,Pt.data)):G.texSubImage3D(Oe,Z,q.x,q.y,q.z,Se,De,Ue,ke,qe,Pt),G.pixelStorei(G.UNPACK_ROW_LENGTH,Be),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,bt),G.pixelStorei(G.UNPACK_SKIP_PIXELS,Tt),G.pixelStorei(G.UNPACK_SKIP_ROWS,qn),G.pixelStorei(G.UNPACK_SKIP_IMAGES,Gr),Z===0&&X.generateMipmaps&&G.generateMipmap(Oe),be.unbindTexture()},this.initTexture=function(P){P.isCubeTexture?Ce.setTextureCube(P,0):P.isData3DTexture?Ce.setTexture3D(P,0):P.isDataArrayTexture||P.isCompressedArrayTexture?Ce.setTexture2DArray(P,0):Ce.setTexture2D(P,0),be.unbindTexture()},this.resetState=function(){S=0,M=0,T=null,be.reset(),ye.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return ai}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===He?Xs:tT}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Xs?He:Vr}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class y5 extends ST{}y5.prototype.isWebGL1Renderer=!0;class x5 extends an{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class Uv extends _i{constructor(e=1,n=1,r=1,i=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],d=[],h=[];let g=0;const v=[],m=r/2;let p=0;y(),o===!1&&(e>0&&x(!0),n>0&&x(!1)),this.setIndex(u),this.setAttribute("position",new Hn(f,3)),this.setAttribute("normal",new Hn(d,3)),this.setAttribute("uv",new Hn(h,2));function y(){const w=new $,S=new $;let M=0;const T=(n-e)/r;for(let C=0;C<=s;C++){const E=[],A=C/s,k=A*(n-e)+e;for(let I=0;I<=i;I++){const O=I/i,L=O*l+a,z=Math.sin(L),H=Math.cos(L);S.x=k*z,S.y=-A*r+m,S.z=k*H,f.push(S.x,S.y,S.z),w.set(z,T,H).normalize(),d.push(w.x,w.y,w.z),h.push(O,1-A),E.push(g++)}v.push(E)}for(let C=0;C<i;C++)for(let E=0;E<s;E++){const A=v[E][C],k=v[E+1][C],I=v[E+1][C+1],O=v[E][C+1];u.push(A,k,O),u.push(k,I,O),M+=6}c.addGroup(p,M,0),p+=M}function x(w){const S=g,M=new et,T=new $;let C=0;const E=w===!0?e:n,A=w===!0?1:-1;for(let I=1;I<=i;I++)f.push(0,m*A,0),d.push(0,A,0),h.push(.5,.5),g++;const k=g;for(let I=0;I<=i;I++){const L=I/i*l+a,z=Math.cos(L),H=Math.sin(L);T.x=E*H,T.y=m*A,T.z=E*z,f.push(T.x,T.y,T.z),d.push(0,A,0),M.x=z*.5+.5,M.y=H*.5*A+.5,h.push(M.x,M.y),g++}for(let I=0;I<i;I++){const O=S+I,L=k+I;w===!0?u.push(L,L+1,O):u.push(L+1,L,O),C+=3}c.addGroup(p,C,w===!0?1:2),p+=C}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Uv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class zd extends _i{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:o,thetaLength:a},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new $,d=new $,h=[],g=[],v=[],m=[];for(let p=0;p<=r;p++){const y=[],x=p/r;let w=0;p===0&&o===0?w=.5/n:p===r&&l===Math.PI&&(w=-.5/n);for(let S=0;S<=n;S++){const M=S/n;f.x=-e*Math.cos(i+M*s)*Math.sin(o+x*a),f.y=e*Math.cos(o+x*a),f.z=e*Math.sin(i+M*s)*Math.sin(o+x*a),g.push(f.x,f.y,f.z),d.copy(f).normalize(),v.push(d.x,d.y,d.z),m.push(M+w,1-x),y.push(c++)}u.push(y)}for(let p=0;p<r;p++)for(let y=0;y<n;y++){const x=u[p][y+1],w=u[p][y],S=u[p+1][y],M=u[p+1][y+1];(p!==0||o>0)&&h.push(x,w,M),(p!==r-1||l<Math.PI)&&h.push(w,S,M)}this.setIndex(h),this.setAttribute("position",new Hn(g,3)),this.setAttribute("normal",new Hn(v,3)),this.setAttribute("uv",new Hn(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new zd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class Ms extends Cc{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new rt(16777215),this.specular=new rt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new rt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=nT,this.normalScale=new et(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Pv,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class kv extends an{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new rt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}const lp=new Ut,ow=new $,aw=new $;class bT{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new et(512,512),this.map=null,this.mapPass=null,this.matrix=new Ut,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Dv,this._frameExtents=new et(1,1),this._viewportCount=1,this._viewports=[new vt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;ow.setFromMatrixPosition(e.matrixWorld),n.position.copy(ow),aw.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(aw),n.updateMatrixWorld(),lp.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lp),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(lp)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}const lw=new Ut,al=new $,cp=new $;class _5 extends bT{constructor(){super(new kn(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new et(4,2),this._viewportCount=6,this._viewports=[new vt(2,1,1,1),new vt(0,1,1,1),new vt(3,1,1,1),new vt(1,1,1,1),new vt(3,0,1,1),new vt(1,0,1,1)],this._cubeDirections=[new $(1,0,0),new $(-1,0,0),new $(0,0,1),new $(0,0,-1),new $(0,1,0),new $(0,-1,0)],this._cubeUps=[new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,1,0),new $(0,0,1),new $(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),al.setFromMatrixPosition(e.matrixWorld),r.position.copy(al),cp.copy(r.position),cp.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(cp),r.updateMatrixWorld(),i.makeTranslation(-al.x,-al.y,-al.z),lw.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(lw)}}class cw extends kv{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new _5}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class w5 extends bT{constructor(){super(new vT(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class S5 extends kv{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(an.DEFAULT_UP),this.updateMatrix(),this.target=new an,this.shadow=new w5}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class b5 extends kv{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Rv}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Rv);const E5=({className:t=""})=>{const e=b.useRef(null);return b.useEffect(()=>{if(!e.current)return;const n=new x5,r=new kn(50,e.current.clientWidth/e.current.clientHeight,.1,1e3);r.position.z=30;const i=new ST({alpha:!0,antialias:!0});i.setSize(e.current.clientWidth,e.current.clientHeight),i.setClearColor(0,0),e.current.appendChild(i.domElement);const s=new b5(4210752,1);n.add(s);const o=new S5(16777215,1.5);o.position.set(1,1,1),n.add(o);const a=new cw(9133302,3,50);a.position.set(-10,10,10),n.add(a);const l=new cw(959977,3,50);l.position.set(10,-10,10),n.add(l);const c=new xl;n.add(c);const u=8,f=40,d=4,h=100,g=.6,v=.3,m=new Ms({color:9133302,emissive:9133302,emissiveIntensity:.2,shininess:100}),p=new Ms({color:959977,emissive:959977,emissiveIntensity:.2,shininess:100}),y=[new Ms({color:14753096}),new Ms({color:2278750}),new Ms({color:16096779}),new Ms({color:3900150})],x=new zd(v,12,12),w=new zd(g,12,12),S=new Uv(.15,.15,1,6);S.rotateX(Math.PI/2);const M=new Ms({color:16777215,transparent:!0,opacity:.5});for(let E=0;E<h;E++){const A=E/h,k=A*Math.PI*2*d,I=k+Math.PI,O=f*(.5-A)-f/4,L=new Fn(x,m);L.position.set(u*Math.cos(k),O,u*Math.sin(k)),c.add(L);const z=new Fn(x,p);if(z.position.set(u*Math.cos(I),O,u*Math.sin(I)),c.add(z),E%3===0){const H=new Fn(w,y[E%4]);H.position.set(u*.6*Math.cos(k),O,u*.6*Math.sin(k)),c.add(H);const j=new Fn(w,y[(E+1)%4]);j.position.set(u*.6*Math.cos(I),O,u*.6*Math.sin(I)),c.add(j);const N=H.position.distanceTo(j.position),V=new Fn(S.clone(),M);V.position.copy(H.position),V.lookAt(j.position),V.scale.set(1,1,N),c.add(V)}}const T=()=>{requestAnimationFrame(T),c.rotation.y+=.003;const E=Date.now()*.001;a.position.x=Math.sin(E*.7)*15,a.position.y=Math.cos(E*.5)*15,l.position.x=Math.cos(E*.3)*15,l.position.y=Math.sin(E*.5)*15,i.render(n,r)};T();const C=()=>{e.current&&(r.aspect=e.current.clientWidth/e.current.clientHeight,r.updateProjectionMatrix(),i.setSize(e.current.clientWidth,e.current.clientHeight))};return window.addEventListener("resize",C),()=>{e.current&&e.current.contains(i.domElement)&&e.current.removeChild(i.domElement),window.removeEventListener("resize",C)}},[]),_.jsx("div",{ref:e,className:`${t} w-full h-full`})},Pc=b.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:st("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Pc.displayName="Card";const M5=b.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:st("flex flex-col space-y-1.5 p-6",t),...e}));M5.displayName="CardHeader";const T5=b.forwardRef(({className:t,...e},n)=>_.jsx("h3",{ref:n,className:st("text-2xl font-semibold leading-none tracking-tight",t),...e}));T5.displayName="CardTitle";const A5=b.forwardRef(({className:t,...e},n)=>_.jsx("p",{ref:n,className:st("text-sm text-muted-foreground",t),...e}));A5.displayName="CardDescription";const Lc=b.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:st("p-6 pt-0",t),...e}));Lc.displayName="CardContent";const C5=b.forwardRef(({className:t,...e},n)=>_.jsx("div",{ref:n,className:st("flex items-center p-6 pt-0",t),...e}));C5.displayName="CardFooter";const Ro=({title:t,channelName:e,thumbnailUrl:n,videoUrl:r})=>_.jsxs(Pc,{className:"overflow-hidden transition-all duration-300 hover:shadow-lg hover:scale-105 bg-card/60 backdrop-blur-sm border-primary/20 h-full flex flex-col",children:[_.jsxs("div",{className:"relative group",children:[_.jsx("div",{className:"aspect-video overflow-hidden bg-black/20",children:_.jsx("img",{src:n,alt:t,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105"})}),_.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300 bg-black/40",children:_.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"bg-primary/90 hover:bg-primary text-white p-3 rounded-full transition-transform duration-300 hover:scale-110","aria-label":`Play ${t}`,children:_.jsx(xd,{className:"w-8 h-8"})})})]}),_.jsxs(Lc,{className:"p-4 flex-grow flex flex-col",children:[_.jsx("h3",{className:"font-bold text-lg text-white line-clamp-2",children:t}),_.jsx("p",{className:"text-muted-foreground mt-1",children:e}),_.jsx("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"mt-auto pt-3 text-secondary font-medium hover:text-secondary/80 transition-colors",children:"Watch Video"})]})]}),R5=({className:t})=>_.jsxs("div",{className:st("py-12 flex justify-center items-center",t),children:[_.jsxs("div",{className:"relative h-1 w-20 md:w-32",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-primary to-transparent"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-secondary to-transparent animate-pulse-glow"})]}),_.jsxs("div",{className:"mx-4 flex",children:[_.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse-glow"}),_.jsx("div",{className:"w-2 h-2 rounded-full bg-secondary mx-1 animate-pulse-glow",style:{animationDelay:"0.5s"}}),_.jsx("div",{className:"w-2 h-2 rounded-full bg-primary animate-pulse-glow",style:{animationDelay:"1s"}})]}),_.jsxs("div",{className:"relative h-1 w-20 md:w-32",children:[_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-primary to-transparent"}),_.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-secondary to-transparent animate-pulse-glow"})]})]}),Ru=({videoUrl:t,className:e="",autoPlay:n=!1})=>{const[r,i]=b.useState(!1),[s,o]=b.useState(0),[a,l]=b.useState(!0),[c,u]=b.useState(!1),f=b.useRef(null),d=b.useRef(null),h=b.useRef(null),g=w=>{if(w.includes("streamable.com")){const S=w.split("/").pop();if(S)return`https://streamable.com/e/${S}`}else if(w.includes("drive.google.com")){const S=w.match(/id=([^&]+)/);if(S&&S[1])return`https://drive.google.com/uc?export=download&id=${S[1]}`}return w};b.useEffect(()=>{const w=f.current;if(!w)return;const S=()=>l(!1),M=()=>{w.duration&&o(w.currentTime/w.duration*100)},T=()=>i(!1);return w.addEventListener("canplay",S),w.addEventListener("timeupdate",M),w.addEventListener("ended",T),w.src=g(t),()=>{w.removeEventListener("canplay",S),w.removeEventListener("timeupdate",M),w.removeEventListener("ended",T)}},[t]),b.useEffect(()=>{n&&f.current&&!a&&v()},[n,a]);const v=()=>{const w=f.current;w&&(r?w.pause():w.play().catch(S=>{console.error("Error playing video:",S)}),i(!r))},m=()=>{const w=f.current;w&&(w.muted=!w.muted,u(!c))},p=w=>{const S=d.current,M=f.current;if(!S||!M)return;const T=S.getBoundingClientRect(),C=(w.clientX-T.left)/T.width;M.currentTime=C*M.duration},y=()=>{const w=h.current;w&&(document.fullscreenElement?document.exitFullscreen().catch(S=>{console.error("Error exiting fullscreen:",S)}):w.requestFullscreen().catch(S=>{console.error("Error entering fullscreen:",S)}))},x=t.includes("streamable.com");return _.jsx("div",{ref:h,className:st("relative w-full h-full rounded-lg overflow-hidden group",e),children:x?_.jsx("iframe",{src:g(t),className:"w-full h-full",allowFullScreen:!0,frameBorder:"0",title:"Streamable video player",allow:"autoplay; fullscreen"}):_.jsxs(_.Fragment,{children:[_.jsx("video",{ref:f,className:"w-full h-full object-cover",playsInline:!0,muted:c,preload:"metadata",controlsList:"nodownload"}),a&&_.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50",children:_.jsx(AP,{className:"w-10 h-10 text-primary animate-spin"})}),_.jsxs("div",{className:"absolute inset-0 transition-opacity opacity-0 group-hover:opacity-100 bg-gradient-to-t from-black/70 via-transparent to-transparent flex flex-col justify-end",children:[_.jsx("div",{ref:d,className:"w-full h-2 bg-gray-700/50 cursor-pointer",onClick:p,children:_.jsx("div",{className:"h-full bg-primary transition-all",style:{width:`${s}%`}})}),_.jsxs("div",{className:"w-full flex items-center justify-between px-4 py-3",children:[_.jsx("button",{onClick:v,className:"rounded-full bg-primary/20 backdrop-blur-md p-2 hover:bg-primary/40 transition-colors","aria-label":r?"Pause":"Play",children:r?_.jsx(IP,{className:"w-5 h-5 text-white"}):_.jsx(xd,{className:"w-5 h-5 text-white ml-0.5"})}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("button",{onClick:m,className:"rounded-full bg-primary/20 backdrop-blur-md p-2 hover:bg-primary/40 transition-colors","aria-label":c?"Unmute":"Mute",children:c?_.jsx(xE,{className:"w-5 h-5 text-white"}):_.jsx(yE,{className:"w-5 h-5 text-white"})}),_.jsx("button",{onClick:y,className:"rounded-full bg-primary/20 backdrop-blur-md p-2 hover:bg-primary/40 transition-colors","aria-label":"Fullscreen",children:_.jsx(RP,{className:"w-5 h-5 text-white"})})]})]})]}),!r&&!a&&_.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/30 cursor-pointer",onClick:v,children:_.jsx("div",{className:"rounded-full bg-primary/20 backdrop-blur-md p-4 hover:bg-primary/40 transition-transform hover:scale-110",children:_.jsx(xd,{className:"w-10 h-10 text-white ml-1"})})})]})})},up=768;function P5(){const[t,e]=b.useState(void 0);return b.useEffect(()=>{const n=window.matchMedia(`(max-width: ${up-1}px)`),r=()=>{e(window.innerWidth<up)};return n.addEventListener("change",r),e(window.innerWidth<up),()=>n.removeEventListener("change",r)},[]),!!t}const L5=()=>{const[t,e]=b.useState("hero");P5(),Vg();const n=lv(),r={hero:b.useRef(null),introduction:b.useRef(null),transcription:b.useRef(null),translation:b.useRef(null),folding:b.useRef(null),videos:b.useRef(null)};b.useEffect(()=>{const d=new IntersectionObserver(h=>{h.forEach(g=>{g.isIntersecting&&e(g.target.id)})},{threshold:.1,rootMargin:"-50px 0px -50px 0px"});return Object.values(r).forEach(h=>{h.current&&d.observe(h.current)}),()=>{Object.values(r).forEach(h=>{h.current&&d.unobserve(h.current)})}},[]);const i=()=>{var d;(d=r.introduction.current)==null||d.scrollIntoView({behavior:"smooth"})},s=()=>{n("/quiz")},o=()=>_.jsxs("section",{id:"hero",ref:r.hero,className:"min-h-screen relative",children:[_.jsxs("div",{className:"absolute inset-0 -z-10",children:[_.jsx("div",{className:"absolute inset-0 bg-hero-pattern"}),_.jsx(E5,{className:"opacity-60"})]}),_.jsx(fk,{onStartLearning:i})]}),a=()=>_.jsx("section",{id:"introduction",ref:r.introduction,className:"min-h-screen py-16 md:py-24 relative",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsx("h2",{className:"section-title",children:"What is Protein Synthesis?"}),_.jsx("p",{className:"section-subtitle",children:"The process where cells build proteins  the workhorses of life"}),_.jsxs("div",{className:"relative glass-card",children:[_.jsx(vr,{color:"bg-primary/10",size:200,top:"-20%",right:"-10%"}),_.jsxs("div",{className:"relative z-10 space-y-6",children:[_.jsx("p",{className:"text-white/90 leading-relaxed",children:"Protein synthesis is the complex process where cells create proteins based on instructions encoded in DNA. These proteins perform nearly every function in your body, from building muscles to fighting infections."}),_.jsx("div",{className:"h-80 sm:h-96 md:h-[28rem] w-full relative rounded-lg overflow-hidden border border-primary/10",children:_.jsx(Ru,{videoUrl:"https://streamable.com/18fo4y",className:"absolute inset-0"})}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-4",children:[_.jsxs("div",{className:"bg-muted/30 rounded-lg p-5 backdrop-blur-sm border border-primary/10",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"DNA: The Blueprint"}),_.jsx("p",{className:"text-white/80",children:"Every cell contains DNA in its nucleus. This DNA holds the genetic instructions for making proteins  like a recipe book for the cell."})]}),_.jsxs("div",{className:"bg-muted/30 rounded-lg p-5 backdrop-blur-sm border border-primary/10",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Proteins: Life's Workers"}),_.jsx("p",{className:"text-white/80",children:"Proteins are complex molecules made of amino acids. They do most of the work in cells and are required for the structure, function, and regulation of the body's tissues and organs."})]})]}),_.jsx("p",{className:"text-white/90 leading-relaxed pt-2",children:"The journey from DNA to protein happens in two major steps: transcription and translation. Let's explore each step in detail..."})]})]}),_.jsx("div",{className:"mt-12 text-center",children:_.jsx(No,{onClick:()=>{var d;(d=r.transcription.current)==null||d.scrollIntoView({behavior:"smooth"})},children:"Next: Transcription"})})]})})}),l=()=>_.jsx("section",{id:"transcription",ref:r.transcription,className:"min-h-screen py-16 md:py-24 relative",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsx("h2",{className:"section-title",children:"Step 1: Transcription"}),_.jsx("p",{className:"section-subtitle",children:"Converting DNA information into messenger RNA"}),_.jsxs("div",{className:"relative glass-card",children:[_.jsx(vr,{color:"bg-secondary/10",size:200,bottom:"-20%",left:"-10%"}),_.jsxs("div",{className:"relative z-10 space-y-6",children:[_.jsx("p",{className:"text-white/90 leading-relaxed",children:"Transcription is the first step of protein synthesis. It occurs in the cell's nucleus, where the DNA containing the gene for a specific protein is located."}),_.jsx("div",{className:"h-80 sm:h-96 md:h-[28rem] w-full relative rounded-lg overflow-hidden border border-primary/10",children:_.jsx(Ru,{videoUrl:"https://streamable.com/rn1a3j",className:"absolute inset-0"})}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-4",children:[_.jsxs("div",{className:"bg-muted/30 rounded-lg p-5 backdrop-blur-sm border border-primary/10",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"How It Works"}),_.jsxs("ul",{className:"text-white/80 space-y-2 list-disc pl-5",children:[_.jsx("li",{children:"DNA double helix unwinds at the gene location"}),_.jsx("li",{children:"RNA polymerase enzyme attaches to the DNA"}),_.jsx("li",{children:"RNA polymerase reads the DNA template strand"}),_.jsx("li",{children:"Complementary RNA nucleotides are added one by one"}),_.jsx("li",{children:"A messenger RNA (mRNA) strand is created"})]})]}),_.jsxs("div",{className:"bg-muted/30 rounded-lg p-5 backdrop-blur-sm border border-primary/10",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Key Players"}),_.jsxs("ul",{className:"text-white/80 space-y-2",children:[_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-primary",children:"DNA:"})," Contains the genetic instructions"]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-primary",children:"RNA Polymerase:"})," The enzyme that builds mRNA"]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-primary",children:"Nucleotides:"})," A, U, G, C (RNA uses U instead of T)"]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-primary",children:"mRNA:"})," The message that carries the protein code"]})]})]})]}),_.jsx("p",{className:"text-white/90 leading-relaxed pt-2",children:"Once transcription is complete, the mRNA molecule is processed (in eukaryotes) and leaves the nucleus through nuclear pores, heading to the cytoplasm where translation occurs."})]})]}),_.jsx("div",{className:"mt-12 text-center",children:_.jsx(No,{onClick:()=>{var d;(d=r.translation.current)==null||d.scrollIntoView({behavior:"smooth"})},children:"Next: Translation"})})]})})}),c=()=>_.jsx("section",{id:"translation",ref:r.translation,className:"min-h-screen py-16 md:py-24 relative",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsx("h2",{className:"section-title",children:"Step 2: Translation"}),_.jsx("p",{className:"section-subtitle",children:"Decoding mRNA into a protein sequence"}),_.jsxs("div",{className:"relative glass-card",children:[_.jsx(vr,{color:"bg-primary/10",size:180,top:"-10%",right:"-5%"}),_.jsx(vr,{color:"bg-secondary/10",size:150,bottom:"-10%",left:"-5%",delay:1}),_.jsxs("div",{className:"relative z-10 space-y-6",children:[_.jsx("p",{className:"text-white/90 leading-relaxed",children:"Translation is the second major step in protein synthesis. It takes place in the cytoplasm of the cell, specifically at ribosomes, which serve as protein factories."}),_.jsx("div",{className:"h-80 sm:h-96 md:h-[28rem] w-full relative rounded-lg overflow-hidden border border-primary/10",children:_.jsx(Ru,{videoUrl:"https://streamable.com/21kuy8",className:"absolute inset-0"})}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-4",children:[_.jsxs("div",{className:"bg-muted/30 rounded-lg p-5 backdrop-blur-sm border border-primary/10",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"The Translation Process"}),_.jsxs("ol",{className:"text-white/80 space-y-2 list-decimal pl-5",children:[_.jsx("li",{children:"mRNA binds to a ribosome"}),_.jsx("li",{children:"tRNA molecules bring amino acids to the ribosome"}),_.jsx("li",{children:"Each tRNA matches its anticodon to an mRNA codon"}),_.jsx("li",{children:"Amino acids link together via peptide bonds"}),_.jsx("li",{children:"This continues until a stop codon is reached"}),_.jsx("li",{children:"The completed protein chain is released"})]})]}),_.jsxs("div",{className:"bg-muted/30 rounded-lg p-5 backdrop-blur-sm border border-primary/10",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Translation Components"}),_.jsxs("ul",{className:"text-white/80 space-y-2",children:[_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-secondary",children:"mRNA:"})," Contains the code from DNA"]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-secondary",children:"Ribosomes:"})," Cellular machinery where proteins are made"]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-secondary",children:"tRNA:"})," Transfer RNA that carries amino acids"]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-secondary",children:"Amino Acids:"})," The building blocks of proteins"]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-secondary",children:"Codons:"})," Three-nucleotide sequences that code for amino acids"]})]})]})]}),_.jsx("p",{className:"text-white/90 leading-relaxed pt-2",children:"As translation proceeds, the growing protein chain begins to fold into its three-dimensional structure, a process that continues after the protein is fully synthesized."})]})]}),_.jsx("div",{className:"mt-12 text-center",children:_.jsx(No,{onClick:()=>{var d;(d=r.folding.current)==null||d.scrollIntoView({behavior:"smooth"})},children:"Next: Protein Folding"})})]})})}),u=()=>_.jsx("section",{id:"folding",ref:r.folding,className:"min-h-screen py-16 md:py-24 relative",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs("div",{className:"max-w-4xl mx-auto",children:[_.jsx("h2",{className:"section-title",children:"Step 3: Protein Folding & Function"}),_.jsx("p",{className:"section-subtitle",children:"From amino acid chain to functional 3D structure"}),_.jsxs("div",{className:"relative glass-card",children:[_.jsx(vr,{color:"bg-accent/20",size:200,top:"-10%",left:"10%"}),_.jsxs("div",{className:"relative z-10 space-y-6",children:[_.jsx("p",{className:"text-white/90 leading-relaxed",children:"After translation, the linear chain of amino acids must fold into a specific three-dimensional shape to become a functional protein. This folding process is critical  incorrectly folded proteins can lead to diseases."}),_.jsx("div",{className:"h-80 sm:h-96 md:h-[28rem] w-full relative rounded-lg overflow-hidden border border-primary/10",children:_.jsx(Ru,{videoUrl:"https://streamable.com/7k4j2k",className:"absolute inset-0"})}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 pt-4",children:[_.jsxs("div",{className:"bg-muted/30 rounded-lg p-5 backdrop-blur-sm border border-primary/10",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Levels of Protein Structure"}),_.jsxs("ul",{className:"text-white/80 space-y-2",children:[_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-accent",children:"Primary:"})," Linear sequence of amino acids"]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-accent",children:"Secondary:"})," Local folded structures (alpha helices, beta sheets)"]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-accent",children:"Tertiary:"})," Overall 3D shape of a single protein"]}),_.jsxs("li",{children:[_.jsx("span",{className:"font-medium text-accent",children:"Quaternary:"})," Multiple protein subunits working together"]})]})]}),_.jsxs("div",{className:"bg-muted/30 rounded-lg p-5 backdrop-blur-sm border border-primary/10",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Folding Factors"}),_.jsxs("ul",{className:"text-white/80 space-y-2 list-disc pl-5",children:[_.jsx("li",{children:"Hydrogen bonds between amino acids"}),_.jsx("li",{children:"Hydrophobic interactions (water-avoiding parts)"}),_.jsx("li",{children:"Ionic bonds between charged amino acids"}),_.jsx("li",{children:"Disulfide bridges connecting parts of the chain"}),_.jsx("li",{children:"Chaperone proteins that assist with folding"})]})]})]}),_.jsxs("div",{className:"bg-muted/30 rounded-lg p-5 backdrop-blur-sm border border-primary/10 mt-6",children:[_.jsx("h3",{className:"text-lg font-bold text-white mb-3",children:"Protein Functions in the Body"}),_.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[_.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg",children:[_.jsx("p",{className:"font-medium text-white",children:"Enzymes"}),_.jsx("p",{className:"text-white/70 text-sm",children:"Catalyze biochemical reactions"})]}),_.jsxs("div",{className:"p-3 bg-secondary/10 rounded-lg",children:[_.jsx("p",{className:"font-medium text-white",children:"Hormones"}),_.jsx("p",{className:"text-white/70 text-sm",children:"Signal messages between cells"})]}),_.jsxs("div",{className:"p-3 bg-accent/10 rounded-lg",children:[_.jsx("p",{className:"font-medium text-white",children:"Antibodies"}),_.jsx("p",{className:"text-white/70 text-sm",children:"Defend against infections"})]}),_.jsxs("div",{className:"p-3 bg-primary/10 rounded-lg",children:[_.jsx("p",{className:"font-medium text-white",children:"Structural"}),_.jsx("p",{className:"text-white/70 text-sm",children:"Provide cellular support"})]}),_.jsxs("div",{className:"p-3 bg-secondary/10 rounded-lg",children:[_.jsx("p",{className:"font-medium text-white",children:"Transport"}),_.jsx("p",{className:"text-white/70 text-sm",children:"Move molecules in the body"})]}),_.jsxs("div",{className:"p-3 bg-accent/10 rounded-lg",children:[_.jsx("p",{className:"font-medium text-white",children:"Receptors"}),_.jsx("p",{className:"text-white/70 text-sm",children:"Receive signals from environment"})]})]})]})]})]}),_.jsx("div",{className:"mt-12 text-center",children:_.jsx(No,{onClick:()=>{var d;(d=r.videos.current)==null||d.scrollIntoView({behavior:"smooth"})},children:"Next: Watch More"})})]})})}),f=()=>_.jsx("section",{id:"videos",ref:r.videos,className:"min-h-screen py-16 md:py-24 relative",children:_.jsx("div",{className:"container mx-auto px-4",children:_.jsxs("div",{className:"max-w-6xl mx-auto",children:[_.jsx("h2",{className:"section-title text-center",children:"Watch More on Protein Synthesis"}),_.jsx("p",{className:"section-subtitle text-center",children:"Expand your knowledge with these helpful videos"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mt-10",children:[_.jsx(Ro,{title:"Protein Synthesis (Updated)",channelName:"Amoeba Sisters",thumbnailUrl:"https://i3.ytimg.com/vi/oefAI2x2CQM/maxresdefault.jpg",videoUrl:"https://www.youtube.com/watch?v=oefAI2x2CQM"}),_.jsx(Ro,{title:"Protein Synthesis: Transcription | MIT Biology",channelName:"MIT OpenCourseWare",thumbnailUrl:"https://i3.ytimg.com/vi/9kOGOY7vthk/maxresdefault.jpg",videoUrl:"https://www.youtube.com/watch?v=9kOGOY7vthk"}),_.jsx(Ro,{title:"Translation (mRNA to protein) | Biomolecules",channelName:"Khan Academy MCAT",thumbnailUrl:"https://i3.ytimg.com/vi/ocAAkB32Hqs/maxresdefault.jpg",videoUrl:"https://www.youtube.com/watch?v=ocAAkB32Hqs"}),_.jsx(Ro,{title:"From DNA to protein - 3D",channelName:"yourgenome",thumbnailUrl:"https://i3.ytimg.com/vi/gG7uCskUOrA/maxresdefault.jpg",videoUrl:"https://www.youtube.com/watch?v=gG7uCskUOrA"}),_.jsx(Ro,{title:"What is Protein Folding and Misfolding?",channelName:"iBiology",thumbnailUrl:"https://i3.ytimg.com/vi/cDR1iKM78oY/maxresdefault.jpg",videoUrl:"https://www.youtube.com/watch?v=cDR1iKM78oY"}),_.jsx(Ro,{title:"DNA, Hot Pockets, & The Longest Word Ever",channelName:"Crash Course",thumbnailUrl:"https://i3.ytimg.com/vi/itsb2SqR-R0/maxresdefault.jpg",videoUrl:"https://www.youtube.com/watch?v=itsb2SqR-R0"})]}),_.jsx(R5,{className:"mt-16"}),_.jsxs("div",{className:"max-w-3xl mx-auto text-center mt-16",children:[_.jsx("h3",{className:"text-2xl md:text-3xl font-bold text-white mb-6",children:"Fun Facts About Protein Synthesis"}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[_.jsx("div",{className:"glass-card animate-float",children:_.jsx("p",{className:"text-lg text-white",children:"A single cell can make thousands of different proteins."})}),_.jsx("div",{className:"glass-card animate-float",style:{animationDelay:"0.5s"},children:_.jsx("p",{className:"text-lg text-white",children:"Your body can make about 2 million proteins every second."})}),_.jsx("div",{className:"glass-card animate-float",style:{animationDelay:"1s"},children:_.jsx("p",{className:"text-lg text-white",children:"If stretched out, the DNA in one cell would be about 6 feet long."})}),_.jsx("div",{className:"glass-card animate-float",style:{animationDelay:"1.5s"},children:_.jsx("p",{className:"text-lg text-white",children:"Ribosomes can add 15 amino acids to a protein every second."})})]})]}),_.jsx("div",{className:"flex justify-center mt-24",children:_.jsx(No,{onClick:s,children:"Take Quiz"})})]})})});return _.jsxs("div",{className:"relative bg-background min-h-screen flex flex-col",children:[_.jsx(SM,{activeSection:t,onSectionChange:e}),_.jsxs("main",{className:"flex-grow",children:[o(),a(),l(),c(),u(),f()]}),_.jsx("footer",{className:"mt-auto py-4 border-t border-muted/30",children:_.jsxs("div",{className:"container mx-auto px-4 flex flex-col items-center justify-center",children:[_.jsx("p",{className:"text-primary text-center text-sm",children:"Assembled codon by codon by Kabilesh C "}),_.jsx("p",{className:"text-primary text-xs mt-1 text-center",children:" 2025 ProteinOS All Rights Reserved"})]})})]})},N5=()=>{const t=Ba();return b.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),_.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:_.jsxs("div",{className:"text-center",children:[_.jsx("h1",{className:"text-4xl font-bold mb-4",children:"404"}),_.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Oops! Page not found"}),_.jsx("a",{href:"/",className:"text-blue-500 hover:text-blue-700 underline",children:"Return to Home"})]})})},D5=mE("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Ir=b.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?Zl:"button";return _.jsx(o,{className:st(D5({variant:e,size:n,className:t})),ref:s,...i})});Ir.displayName="Button";const ET=b.forwardRef(({className:t,type:e,...n},r)=>_.jsx("input",{type:e,className:st("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));ET.displayName="Input";var I5=b.createContext(void 0);function O5(t){const e=b.useContext(I5);return t||e||"ltr"}function U5(t,[e,n]){return Math.min(n,Math.max(e,t))}function k5(t,e){return b.useReducer((n,r)=>e[n][r]??n,t)}var Fv="ScrollArea",[MT,dH]=jg(Fv),[F5,sr]=MT(Fv),TT=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...o}=t,[a,l]=b.useState(null),[c,u]=b.useState(null),[f,d]=b.useState(null),[h,g]=b.useState(null),[v,m]=b.useState(null),[p,y]=b.useState(0),[x,w]=b.useState(0),[S,M]=b.useState(!1),[T,C]=b.useState(!1),E=Zt(e,k=>l(k)),A=O5(i);return _.jsx(F5,{scope:n,type:r,dir:A,scrollHideDelay:s,scrollArea:a,viewport:c,onViewportChange:u,content:f,onContentChange:d,scrollbarX:h,onScrollbarXChange:g,scrollbarXEnabled:S,onScrollbarXEnabledChange:M,scrollbarY:v,onScrollbarYChange:m,scrollbarYEnabled:T,onScrollbarYEnabledChange:C,onCornerWidthChange:y,onCornerHeightChange:w,children:_.jsx(jt.div,{dir:A,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":p+"px","--radix-scroll-area-corner-height":x+"px",...t.style}})})});TT.displayName=Fv;var AT="ScrollAreaViewport",CT=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,asChild:i,nonce:s,...o}=t,a=sr(AT,n),l=b.useRef(null),c=Zt(e,l,a.onViewportChange);return _.jsxs(_.Fragment,{children:[_.jsx("style",{dangerouslySetInnerHTML:{__html:`
[data-radix-scroll-area-viewport] {
  scrollbar-width: none;
  -ms-overflow-style: none;
  -webkit-overflow-scrolling: touch;
}
[data-radix-scroll-area-viewport]::-webkit-scrollbar {
  display: none;
}
:where([data-radix-scroll-area-viewport]) {
  display: flex;
  flex-direction: column;
  align-items: stretch;
}
:where([data-radix-scroll-area-content]) {
  flex-grow: 1;
}
`},nonce:s}),_.jsx(jt.div,{"data-radix-scroll-area-viewport":"",...o,asChild:i,ref:c,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:q5({asChild:i,children:r},u=>_.jsx("div",{"data-radix-scroll-area-content":"",ref:a.onContentChange,style:{minWidth:a.scrollbarXEnabled?"fit-content":void 0},children:u}))})]})});CT.displayName=AT;var Hr="ScrollAreaScrollbar",zv=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=sr(Hr,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:o}=i,a=t.orientation==="horizontal";return b.useEffect(()=>(a?s(!0):o(!0),()=>{a?s(!1):o(!1)}),[a,s,o]),i.type==="hover"?_.jsx(z5,{...r,ref:e,forceMount:n}):i.type==="scroll"?_.jsx(B5,{...r,ref:e,forceMount:n}):i.type==="auto"?_.jsx(RT,{...r,ref:e,forceMount:n}):i.type==="always"?_.jsx(Bv,{...r,ref:e}):null});zv.displayName=Hr;var z5=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=sr(Hr,t.__scopeScrollArea),[s,o]=b.useState(!1);return b.useEffect(()=>{const a=i.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),o(!0)},u=()=>{l=window.setTimeout(()=>o(!1),i.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),_.jsx(oo,{present:n||s,children:_.jsx(RT,{"data-state":s?"visible":"hidden",...r,ref:e})})}),B5=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=sr(Hr,t.__scopeScrollArea),s=t.orientation==="horizontal",o=Lf(()=>l("SCROLL_END"),100),[a,l]=k5("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return b.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,i.scrollHideDelay,l]),b.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let f=c[u];const d=()=>{const h=c[u];f!==h&&(l("SCROLL"),o()),f=h};return c.addEventListener("scroll",d),()=>c.removeEventListener("scroll",d)}},[i.viewport,s,l,o]),_.jsx(oo,{present:n||a!=="hidden",children:_.jsx(Bv,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:ot(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:ot(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),RT=b.forwardRef((t,e)=>{const n=sr(Hr,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,o]=b.useState(!1),a=t.orientation==="horizontal",l=Lf(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;o(a?c:u)}},10);return Na(n.viewport,l),Na(n.content,l),_.jsx(oo,{present:r||s,children:_.jsx(Bv,{"data-state":s?"visible":"hidden",...i,ref:e})})}),Bv=b.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=sr(Hr,t.__scopeScrollArea),s=b.useRef(null),o=b.useRef(0),[a,l]=b.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=IT(a.viewport,a.content),u={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:d=>s.current=d,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:d=>o.current=d};function f(d,h){return X5(d,o.current,a,h)}return n==="horizontal"?_.jsx(V5,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollLeft,h=uw(d,a,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollLeft=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollLeft=f(d,i.dir))}}):n==="vertical"?_.jsx(j5,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const d=i.viewport.scrollTop,h=uw(d,a);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:d=>{i.viewport&&(i.viewport.scrollTop=d)},onDragScroll:d=>{i.viewport&&(i.viewport.scrollTop=f(d))}}):null}),V5=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=sr(Hr,t.__scopeScrollArea),[o,a]=b.useState(),l=b.useRef(null),c=Zt(e,l,s.onScrollbarXChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),_.jsx(LT,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Pf(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,f)=>{if(s.viewport){const d=s.viewport.scrollLeft+u.deltaX;t.onWheelScroll(d),UT(d,f)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Vd(o.paddingLeft),paddingEnd:Vd(o.paddingRight)}})}})}),j5=b.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=sr(Hr,t.__scopeScrollArea),[o,a]=b.useState(),l=b.useRef(null),c=Zt(e,l,s.onScrollbarYChange);return b.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),_.jsx(LT,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Pf(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,f)=>{if(s.viewport){const d=s.viewport.scrollTop+u.deltaY;t.onWheelScroll(d),UT(d,f)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&o&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Vd(o.paddingTop),paddingEnd:Vd(o.paddingBottom)}})}})}),[H5,PT]=MT(Hr),LT=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:f,...d}=t,h=sr(Hr,n),[g,v]=b.useState(null),m=Zt(e,E=>v(E)),p=b.useRef(null),y=b.useRef(""),x=h.viewport,w=r.content-r.viewport,S=Yt(u),M=Yt(l),T=Lf(f,10);function C(E){if(p.current){const A=E.clientX-p.current.left,k=E.clientY-p.current.top;c({x:A,y:k})}}return b.useEffect(()=>{const E=A=>{const k=A.target;(g==null?void 0:g.contains(k))&&S(A,w)};return document.addEventListener("wheel",E,{passive:!1}),()=>document.removeEventListener("wheel",E,{passive:!1})},[x,g,w,S]),b.useEffect(M,[r,M]),Na(g,T),Na(h.content,T),_.jsx(H5,{scope:n,scrollbar:g,hasThumb:i,onThumbChange:Yt(s),onThumbPointerUp:Yt(o),onThumbPositionChange:M,onThumbPointerDown:Yt(a),children:_.jsx(jt.div,{...d,ref:m,style:{position:"absolute",...d.style},onPointerDown:ot(t.onPointerDown,E=>{E.button===0&&(E.target.setPointerCapture(E.pointerId),p.current=g.getBoundingClientRect(),y.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),C(E))}),onPointerMove:ot(t.onPointerMove,C),onPointerUp:ot(t.onPointerUp,E=>{const A=E.target;A.hasPointerCapture(E.pointerId)&&A.releasePointerCapture(E.pointerId),document.body.style.webkitUserSelect=y.current,h.viewport&&(h.viewport.style.scrollBehavior=""),p.current=null})})})}),Bd="ScrollAreaThumb",NT=b.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=PT(Bd,t.__scopeScrollArea);return _.jsx(oo,{present:n||i.hasThumb,children:_.jsx(G5,{ref:e,...r})})}),G5=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=sr(Bd,n),o=PT(Bd,n),{onThumbPositionChange:a}=o,l=Zt(e,f=>o.onThumbChange(f)),c=b.useRef(),u=Lf(()=>{c.current&&(c.current(),c.current=void 0)},100);return b.useEffect(()=>{const f=s.viewport;if(f){const d=()=>{if(u(),!c.current){const h=$5(f,a);c.current=h,a()}};return a(),f.addEventListener("scroll",d),()=>f.removeEventListener("scroll",d)}},[s.viewport,u,a]),_.jsx(jt.div,{"data-state":o.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:ot(t.onPointerDownCapture,f=>{const h=f.target.getBoundingClientRect(),g=f.clientX-h.left,v=f.clientY-h.top;o.onThumbPointerDown({x:g,y:v})}),onPointerUp:ot(t.onPointerUp,o.onThumbPointerUp)})});NT.displayName=Bd;var Vv="ScrollAreaCorner",DT=b.forwardRef((t,e)=>{const n=sr(Vv,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?_.jsx(W5,{...t,ref:e}):null});DT.displayName=Vv;var W5=b.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=sr(Vv,n),[s,o]=b.useState(0),[a,l]=b.useState(0),c=!!(s&&a);return Na(i.scrollbarX,()=>{var f;const u=((f=i.scrollbarX)==null?void 0:f.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),Na(i.scrollbarY,()=>{var f;const u=((f=i.scrollbarY)==null?void 0:f.offsetWidth)||0;i.onCornerWidthChange(u),o(u)}),c?_.jsx(jt.div,{...r,ref:e,style:{width:s,height:a,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Vd(t){return t?parseInt(t,10):0}function IT(t,e){const n=t/e;return isNaN(n)?0:n}function Pf(t){const e=IT(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function X5(t,e,n,r="ltr"){const i=Pf(n),s=i/2,o=e||s,a=i-o,l=n.scrollbar.paddingStart+o,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,u=n.content-n.viewport,f=r==="ltr"?[0,u]:[u*-1,0];return OT([l,c],f)(t)}function uw(t,e,n="ltr"){const r=Pf(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,o=e.content-e.viewport,a=s-r,l=n==="ltr"?[0,o]:[o*-1,0],c=U5(t,l);return OT([0,o],[0,a])(c)}function OT(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function UT(t,e){return t>0&&t<e}var $5=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},o=n.left!==s.left,a=n.top!==s.top;(o||a)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function Lf(t,e){const n=Yt(t),r=b.useRef(0);return b.useEffect(()=>()=>window.clearTimeout(r.current),[]),b.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Na(t,e){const n=Yt(e);mi(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}function q5(t,e){const{asChild:n,children:r}=t;if(!n)return typeof e=="function"?e(r):e;const i=b.Children.only(r);return b.cloneElement(i,{children:typeof e=="function"?e(i.props.children):e})}var kT=TT,Y5=CT,K5=DT;const FT=b.forwardRef(({className:t,children:e,...n},r)=>_.jsxs(kT,{ref:r,className:st("relative overflow-hidden",t),...n,children:[_.jsx(Y5,{className:"h-full w-full rounded-[inherit]",children:e}),_.jsx(zT,{}),_.jsx(K5,{})]}));FT.displayName=kT.displayName;const zT=b.forwardRef(({className:t,orientation:e="vertical",...n},r)=>_.jsx(zv,{ref:r,orientation:e,className:st("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:_.jsx(NT,{className:"relative flex-1 rounded-full bg-border"})}));zT.displayName=zv.displayName;const Q5={transcription:["Transcription is the first step of protein synthesis. It occurs in the cell nucleus where DNA is used as a template to create messenger RNA (mRNA). RNA polymerase reads the DNA template strand and synthesizes a complementary RNA strand. The process includes initiation, elongation, and termination phases.","During transcription, DNA unwinds and RNA polymerase attaches to the promoter region. It then reads the DNA template strand in the 3' to 5' direction, adding complementary RNA nucleotides (A pairs with U, G with C) to create mRNA in the 5' to 3' direction. The process ends at the terminator sequence."],translation:["Translation is the second major step in protein synthesis, where the mRNA code is decoded to build a protein. It takes place at ribosomes in the cytoplasm. tRNA molecules bring specific amino acids, matching their anticodons to mRNA codons. The amino acids are linked by peptide bonds to form a polypeptide chain.","The process of translation has three phases: initiation (ribosome assembly, start codon recognition), elongation (amino acid chain growth), and termination (release of the completed protein when a stop codon is reached)."],mrna:["Messenger RNA (mRNA) carries genetic information from DNA to the ribosomes for protein synthesis. In eukaryotes, mRNA is processed after transcription (capping, polyadenylation, splicing) before leaving the nucleus for translation.","mRNA consists of a 5' cap, 5' untranslated region (UTR), coding region with start and stop codons, 3' UTR, and a poly(A) tail. Each three-nucleotide sequence (codon) in the coding region specifies an amino acid or signals the start/end of protein synthesis."],ribosome:["Ribosomes are cellular structures that serve as the site of protein synthesis. They consist of ribosomal RNA (rRNA) and proteins organized into two subunits: the small subunit (which reads the mRNA) and the large subunit (which catalyzes peptide bond formation).","Ribosome assembly begins when the small subunit binds to mRNA at the start codon. The large subunit joins, forming the complete ribosome with three tRNA binding sites: A (incoming tRNA), P (peptidyl-tRNA), and E (exit site for empty tRNA)."],"post-translational":["Post-translational modifications (PTMs) are chemical changes that occur after a protein is synthesized. These include phosphorylation, glycosylation, ubiquitination, methylation, acetylation, and proteolytic cleavage. PTMs diversify protein function and regulate activity.","After translation, proteins may undergo folding (assisted by chaperones), addition of functional groups, formation of disulfide bridges, and proteolytic processing. These modifications are crucial for proper protein function, localization, and interaction with other molecules."],dna:["DNA (deoxyribonucleic acid) serves as the genetic blueprint in all living organisms. It's a double-stranded helix composed of nucleotides, each containing a deoxyribose sugar, phosphate group, and one of four nitrogenous bases: adenine (A), thymine (T), guanine (G), or cytosine (C).","In protein synthesis, DNA acts as the template for transcription. The genetic code in DNA determines the sequence of amino acids in proteins through the processes of transcription and translation. Each gene in DNA contains the instructions for making a specific protein."],trna:["Transfer RNA (tRNA) molecules are adapter molecules that bridge the gap between mRNA codons and amino acids during translation. Each tRNA has a specific anticodon that pairs with a complementary mRNA codon, and carries the corresponding amino acid.","tRNAs have a cloverleaf-like secondary structure with an acceptor stem (where the amino acid attaches), an anticodon loop, D loop, TC loop, and variable loop. They're essential for accurate protein synthesis as they ensure the correct amino acid is added to the growing polypeptide chain."],codon:["Codons are three-nucleotide sequences in mRNA that specify either an amino acid or a stop signal during translation. There are 64 possible codons in the genetic code, coding for 20 amino acids and stop signals.","The genetic code is degenerate, meaning multiple codons can specify the same amino acid. The start codon (AUG) signals the beginning of protein synthesis and codes for methionine. Three stop codons (UAA, UAG, UGA) signal the end of translation."],proteinos:["ProteinOS is an educational platform designed to make learning about protein synthesis intuitive and interactive. Our goal is to transform complex biological processes into engaging visual experiences that help students and enthusiasts understand the fundamental mechanisms of life.","ProteinOS was created to bridge the gap between traditional textbook learning and modern interactive education. We visualize the intricate processes of transcription, translation, and protein folding to help users gain a deeper appreciation of molecular biology."],purpose:["The purpose of ProteinOS is to democratize knowledge about protein synthesis through interactive visualizations and engaging content. We aim to make complex biological concepts accessible to students, educators, and anyone curious about how life works at the molecular level.","Our mission with ProteinOS is to inspire the next generation of scientists by making molecular biology more approachable and exciting. By visualizing these invisible cellular processes, we hope to ignite curiosity and deeper understanding of the building blocks of life."],folding:["Protein folding is the process by which a linear chain of amino acids acquires its three-dimensional structure. This structure is essential for proper function, as it determines how the protein interacts with other molecules in the cell.","Protein folding is guided by hydrophobic interactions, hydrogen bonds, ionic interactions, and disulfide bridges. Chaperone proteins assist in the folding process, ensuring proteins achieve their correct conformation and preventing misfolding that can lead to diseases."],aim:["The aim of ProteinOS is to make protein synthesis education more accessible, interactive, and engaging. We believe that complex biological processes are best understood through dynamic visualization rather than static textbook images.","Our aim with ProteinOS is to transform how people learn about molecular biology by providing interactive models that accurately represent the dynamic nature of protein synthesis, making these microscopic processes tangible and understandable."],website:["This website was built to revolutionize how people learn about protein synthesis by providing interactive visualizations of molecular biology concepts that are traditionally difficult to grasp from textbooks alone.","ProteinOS website combines beautiful visuals with scientific accuracy to create an immersive learning experience about protein synthesis, making these invisible cellular processes visible and understandable."],quiz:["The quiz feature on ProteinOS helps test your knowledge of protein synthesis concepts in an interactive way. It's designed to reinforce your learning and identify areas where you might need additional study.","Taking our quiz is a great way to check your understanding of the protein synthesis process after exploring our interactive modules. It covers key concepts from transcription and translation to protein folding."]},Z5=async t=>{const e=t.toLowerCase();for(const[n,r]of Object.entries(Q5))if(e.includes(n))return r[Math.floor(Math.random()*r.length)];return e.includes("protein synthesis")||e.includes("central dogma")?"Protein synthesis is the process by which cells build proteins. It occurs in two main stages: transcription (DNA  mRNA) and translation (mRNA  protein). This process is part of the Central Dogma of molecular biology, which describes the flow of genetic information from DNA to RNA to proteins.":e.includes("why")||e.includes("about")||e.includes("goal")||e.includes("learn")?"ProteinOS was created to make learning about protein synthesis engaging and interactive. Our goal is to transform complex biological concepts into visual experiences that are easy to understand. We believe that by seeing these processes in action, you can gain a deeper appreciation for the amazing molecular machinery that powers all life.":"I'm your guide to protein synthesis and ProteinOS! You can ask me about specific topics like transcription, translation, mRNA, ribosomes, or about why we created this website. How can I help you learn about the fascinating world of proteins?"},J5="c8ee91a41691a0dc6ae1c9de0b12bf3c",ej="pNInz6obpgDQGcFmaJgB",tj="eleven_monolingual_v1";function nj(){const[t,e]=b.useState([]),[n,r]=b.useState(!1),[i,s]=b.useState(!1),[o,a]=b.useState(()=>typeof window<"u"?localStorage.getItem("chatbot_muted")==="true":!1);Vg();const l=b.useRef(null),c=b.useRef(null),u=b.useRef(!1),f=b.useRef(!1),d=b.useRef([]),h=b.useRef(!1);b.useEffect(()=>{typeof window<"u"&&localStorage.setItem("chatbot_muted",o.toString())},[o]),b.useEffect(()=>{if(typeof window<"u"&&"speechSynthesis"in window){const S=window.speechSynthesis.getVoices();S.length>0&&(d.current=S,f.current=!0);const M=()=>{const T=window.speechSynthesis.getVoices();d.current=T,f.current=!0};return window.speechSynthesis.addEventListener("voiceschanged",M),()=>{window.speechSynthesis.removeEventListener("voiceschanged",M)}}},[]),b.useEffect(()=>{if(typeof window<"u"){const S=window.SpeechRecognition||window.webkitSpeechRecognition;S&&(c.current=new S,c.current.continuous=!1,c.current.interimResults=!1,c.current.onresult=M=>{const T=M.results[0][0].transcript;w(T)},c.current.onend=()=>{s(!1)},c.current.onerror=M=>{console.error("Speech recognition error",M.error),s(!1)})}return()=>{c.current&&x()}},[]),b.useEffect(()=>{o&&g()},[o]);const g=()=>{l.current&&(l.current.pause(),l.current=null),"speechSynthesis"in window&&window.speechSynthesis.cancel(),u.current=!1},v=S=>{if("speechSynthesis"in window)try{const M=new SpeechSynthesisUtterance(S);if(M.rate=.9,M.pitch=.8,M.volume=1,f.current&&d.current.length>0){const T=d.current.find(C=>(C.name.includes("Male")||C.name.includes("David")||C.name.includes("Mark")||C.name.includes("James"))&&C.lang.includes("en"));T&&(M.voice=T)}return M.onend=()=>{u.current=!1},M.onerror=()=>{console.error("Browser speech synthesis error"),u.current=!1},window.speechSynthesis.speak(M),!0}catch(M){return console.error("Fallback speech synthesis error:",M),u.current=!1,!1}return u.current=!1,!1},m=async S=>{if(!o){g(),u.current=!0;try{try{const M=await fetch(`https://api.elevenlabs.io/v1/text-to-speech/${ej}`,{method:"POST",headers:{Accept:"audio/mpeg","xi-api-key":J5,"Content-Type":"application/json"},body:JSON.stringify({text:S,model_id:tj,voice_settings:{stability:.7,similarity_boost:.65}})});if(!M.ok){const E=await M.text();throw console.error("TTS error response:",E),new Error(`TTS request failed with status: ${M.status}`)}const T=await M.blob(),C=new Audio(URL.createObjectURL(T));l.current=C,C.onended=()=>{l.current=null,u.current=!1},C.onerror=E=>{throw console.error("Audio playback error:",E),l.current=null,u.current=!1,new Error("Audio playback error")},await C.play()}catch(M){throw console.error("ElevenLabs API error:",M),new Error("ElevenLabs API error")}}catch(M){console.error("Text-to-speech error, falling back to browser synthesis:",M),v(S)||(u.current=!1)}}},p=()=>u.current;b.useEffect(()=>{if(!h.current&&!o){const S="Welcome to Protein OS. I'm your AI assistant. Click the chat button if you need help.";setTimeout(()=>{h.current=!0,o||m(S)},1e3)}},[o]),b.useEffect(()=>{t.length>0||e([{content:"Hello, I am BioBuddy, and I'm here to assist you. Feel free to ask me anything related to protein synthesis!",sender:"bot",timestamp:new Date}])},[t.length]);const y=()=>{c.current?(g(),s(!0),c.current.start()):console.error("Speech recognition is not supported in this browser")},x=()=>{c.current&&i&&(s(!1),c.current.stop())},w=async S=>{e(M=>[...M,{content:S,sender:"user",timestamp:new Date}]),r(!0);try{g(),await new Promise(T=>setTimeout(T,1e3));const M=await Z5(S);e(T=>[...T,{content:M,sender:"bot",timestamp:new Date}]),m(M)}catch(M){console.error("Error getting chatbot response:",M);const T="I'm sorry, I couldn't process your request at the moment. Please try again later.";e(C=>[...C,{content:T,sender:"bot",timestamp:new Date}]),m(T)}finally{r(!1)}};return{messages:t,sendMessage:w,isLoading:n,isListening:i,startListening:y,stopListening:x,stopSpeaking:g,isSpeaking:p(),isMuted:o,setIsMuted:a}}const rj=()=>{const[t,e]=b.useState(!1),[n,r]=b.useState(!1),[i,s]=b.useState(""),{messages:o,sendMessage:a,isLoading:l,isListening:c,startListening:u,stopListening:f,stopSpeaking:d,isSpeaking:h,isMuted:g,setIsMuted:v}=nj(),m=b.useRef(null),p=b.useRef(null);b.useEffect(()=>{var T;(T=p.current)==null||T.scrollIntoView({behavior:"smooth"})},[o]),b.useEffect(()=>{var T;t&&!n&&((T=m.current)==null||T.focus())},[t,n]),b.useEffect(()=>()=>{},[]),b.useEffect(()=>{g&&(d(),"speechSynthesis"in window&&window.speechSynthesis.cancel())},[g,d]);const y=()=>{i.trim()&&(a(i),s(""))},x=T=>{T.key==="Enter"&&y()},w=()=>{n?r(!1):e(!t)},S=()=>{r(!n)},M=()=>{if(!g)d(),"speechSynthesis"in window&&window.speechSynthesis.cancel(),v(!0);else if(v(!1),"speechSynthesis"in window){const T=new SpeechSynthesisUtterance("Voice enabled");T.volume=.8,T.rate=1,window.speechSynthesis.speak(T)}};return _.jsxs(_.Fragment,{children:[_.jsx(Ud.div,{className:"fixed bottom-6 right-6 z-50",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:260,damping:20},children:_.jsxs("div",{className:"relative",children:[_.jsx("div",{className:"absolute inset-0 rounded-full bg-primary/30 animate-ping-slow"}),_.jsxs(Ir,{onClick:w,className:"h-16 w-16 rounded-full bg-gradient-to-br from-primary to-secondary shadow-lg hover:shadow-xl transition-all duration-300 animate-pulse-slow relative","aria-label":"Open chat with BioBuddy",children:[_.jsx(fh,{className:"h-8 w-8 text-white"}),_.jsx("span",{className:"sr-only",children:"Chat with BioBuddy"})]})]})}),_.jsx(ck,{children:t&&_.jsxs(Ud.div,{className:"fixed bottom-24 right-6 z-50 w-80 md:w-96 rounded-2xl bg-background shadow-2xl border border-primary/20 overflow-hidden flex flex-col",style:{height:n?"auto":"500px"},initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:50,scale:.9},transition:{duration:.3},children:[_.jsxs("div",{className:"p-4 bg-gradient-to-r from-primary to-secondary text-white flex items-center justify-between",children:[n?_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(fh,{className:"h-5 w-5"}),_.jsx("h3",{className:"font-orbitron tracking-wide text-sm",children:"BioBuddy"})]}):_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(fh,{className:"h-5 w-5"}),_.jsxs("div",{children:[_.jsx("h3",{className:"font-orbitron tracking-wide",children:"BioBuddy Assistant"}),_.jsxs("div",{className:"flex items-center text-xs opacity-80 mt-0.5",children:[_.jsx("span",{className:`inline-block h-1.5 w-1.5 rounded-full mr-1.5 ${g?"bg-orange-300":"bg-green-300"}`}),_.jsx("span",{children:g?"Voice disabled":"Voice enabled"})]})]})]}),_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(pl,{children:_.jsxs(nu,{children:[_.jsx(ru,{asChild:!0,children:_.jsx(Ir,{variant:"ghost",size:"icon",className:`h-6 w-6 text-white hover:bg-white/20 rounded-full ${g?"bg-white/10":""}`,onClick:M,"aria-label":g?"Unmute voice":"Mute voice","aria-pressed":!g,children:g?_.jsx(xE,{className:"h-4 w-4 opacity-70"}):_.jsx(yE,{className:"h-4 w-4"})})}),_.jsx(ml,{side:"bottom",children:_.jsx("p",{className:"text-xs",children:g?"Unmute voice":"Mute voice"})})]})}),_.jsx(pl,{children:_.jsxs(nu,{children:[_.jsx(ru,{asChild:!0,children:_.jsx(Ir,{variant:"ghost",size:"icon",className:"h-6 w-6 text-white hover:bg-white/20 rounded-full",onClick:S,children:n?_.jsx(CP,{className:"h-4 w-4"}):_.jsx(DP,{className:"h-4 w-4"})})}),_.jsx(ml,{children:_.jsx("p",{children:n?"Maximize":"Minimize"})})]})}),_.jsx(pl,{children:_.jsxs(nu,{children:[_.jsx(ru,{asChild:!0,children:_.jsx(Ir,{variant:"ghost",size:"icon",className:"h-6 w-6 text-white hover:bg-white/20 rounded-full",onClick:()=>e(!1),children:_.jsx($g,{className:"h-4 w-4"})})}),_.jsx(ml,{children:_.jsx("p",{children:"Close"})})]})})]})]}),!n&&_.jsxs(_.Fragment,{children:[_.jsx(FT,{className:"flex-1 p-4",children:_.jsxs("div",{className:"space-y-4",children:[o.map((T,C)=>_.jsx("div",{className:`flex ${T.sender==="user"?"justify-end":"justify-start"}`,children:_.jsx("div",{className:`max-w-[80%] p-3 rounded-lg ${T.sender==="user"?"bg-primary text-primary-foreground rounded-tr-none":"bg-muted text-foreground rounded-tl-none"}`,children:T.content})},C)),l&&_.jsx("div",{className:"flex justify-start",children:_.jsxs("div",{className:"max-w-[80%] p-3 rounded-lg bg-muted text-foreground rounded-tl-none flex items-center space-x-2",children:[_.jsx("span",{className:"typing-dot"}),_.jsx("span",{className:"typing-dot animation-delay-200"}),_.jsx("span",{className:"typing-dot animation-delay-400"})]})}),_.jsx("div",{ref:p})]})}),_.jsxs("div",{className:"p-4 border-t border-border flex items-center gap-2",children:[_.jsx(ET,{ref:m,value:i,onChange:T=>s(T.target.value),onKeyDown:x,placeholder:"Ask about protein synthesis...",className:"flex-1",disabled:l||c}),_.jsx(pl,{children:_.jsxs(nu,{children:[_.jsx(ru,{asChild:!0,children:_.jsx(Ir,{size:"icon",variant:"outline",onClick:c?f:u,disabled:l,className:`${c?"bg-muted border-primary/50":""}`,children:c?_.jsx(LP,{className:"h-4 w-4 text-primary"}):_.jsx(NP,{className:"h-4 w-4"})})}),_.jsx(ml,{side:"bottom",children:_.jsx("p",{className:"text-xs",children:c?"Stop Voice Input":"Start Voice Input"})})]})}),_.jsxs(Ir,{onClick:y,size:"icon",disabled:!i.trim()||l,className:"bg-gradient-to-r from-primary to-secondary hover:opacity-90 transition-opacity",children:[_.jsx(UP,{className:"h-4 w-4"}),_.jsx("span",{className:"sr-only",children:"Send message"})]})]})]})]})})]})},dw=[{id:1,question:"What is the first step in protein synthesis?",options:["Translation","Transcription","Replication","Post-translational modification"],correctOptionIndex:1,explanation:"Transcription is the first step in protein synthesis where DNA is copied into mRNA. This process occurs in the nucleus of eukaryotic cells."},{id:2,question:"Which enzyme is responsible for synthesizing RNA during transcription?",options:["DNA polymerase","RNA polymerase","Helicase","Ligase"],correctOptionIndex:1,explanation:"RNA polymerase is the enzyme that synthesizes RNA by adding complementary RNA nucleotides to the DNA template strand."},{id:3,question:"What is the function of mRNA in protein synthesis?",options:["It carries amino acids to the ribosome","It forms the structure of ribosomes","It carries the genetic code from DNA to ribosomes","It catalyzes peptide bond formation"],correctOptionIndex:2,explanation:"mRNA (messenger RNA) carries the genetic information copied from DNA in the form of a series of three-base code words, each of which specifies a particular amino acid."},{id:4,question:"What is a codon?",options:["A sequence of three nucleotides in DNA","A sequence of three nucleotides in mRNA that specifies an amino acid","A type of RNA that carries amino acids","A protein complex that reads mRNA"],correctOptionIndex:1,explanation:"A codon is a sequence of three nucleotides in mRNA that specifies a particular amino acid or a signal to start or stop protein synthesis."},{id:5,question:"Which molecule brings amino acids to the ribosome during translation?",options:["mRNA","tRNA","rRNA","DNA"],correctOptionIndex:1,explanation:"tRNA (transfer RNA) molecules carry specific amino acids to the ribosome during translation, matching them to the corresponding codons in the mRNA."},{id:6,question:"Where does translation occur in eukaryotic cells?",options:["Nucleus","Mitochondria","Cytoplasm","Golgi apparatus"],correctOptionIndex:2,explanation:"Translation occurs in the cytoplasm of eukaryotic cells, either freely or bound to the rough endoplasmic reticulum, where ribosomes read mRNA to synthesize proteins."},{id:7,question:"What is the start codon for protein synthesis?",options:["UAG","AUG","UGA","UAA"],correctOptionIndex:1,explanation:"AUG is the start codon that initiates protein synthesis. It codes for the amino acid methionine in eukaryotes."},{id:8,question:"What happens during the elongation phase of translation?",options:["mRNA is synthesized","The ribosome attaches to mRNA","Amino acids are added one by one to the growing polypeptide chain","The polypeptide chain is released from the ribosome"],correctOptionIndex:2,explanation:"During elongation, the ribosome moves along the mRNA, adding amino acids one at a time to the growing polypeptide chain according to the codon sequence."},{id:9,question:"What are the stop codons in protein synthesis?",options:["AUG, GUG, UUG","UAG, UAA, UGA","AAA, AAG, GAA","CCC, GGG, UUU"],correctOptionIndex:1,explanation:"UAG, UAA, and UGA are the three stop codons that signal the termination of protein synthesis. They do not code for any amino acids."},{id:10,question:"What process may occur after a protein is synthesized?",options:["Transcription","DNA replication","Post-translational modification","RNA splicing"],correctOptionIndex:2,explanation:"Post-translational modification occurs after protein synthesis and involves chemical changes to the protein that can affect its function, localization, or stability."}],ij=()=>{const[t,e]=b.useState(0),[n,r]=b.useState(null),[i,s]=b.useState(!1),[o,a]=b.useState(0),[l,c]=b.useState(!1),[u,f]=b.useState(!1),d=dw[t],h=dw.length;b.useEffect(()=>{f(!0);const p=setTimeout(()=>f(!1),500);return()=>clearTimeout(p)},[t]);const g=p=>{i||(r(p),s(!0),p===d.correctOptionIndex&&a(y=>y+1))},v=()=>{t<h-1?(e(p=>p+1),r(null),s(!1)):c(!0)},m=()=>{e(0),r(null),s(!1),a(0),c(!1)};return l?_.jsxs("div",{className:"glass-card flex flex-col items-center justify-center text-center py-16 px-6 mt-8 glow-effect",children:[_.jsxs("div",{className:"mb-8",children:[_.jsx(hh,{className:"w-20 h-20 text-accent mx-auto mb-4"}),_.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Great job!"}),_.jsxs("p",{className:"text-xl mb-6",children:["You scored ",o," out of ",h,"!"]}),_.jsx("div",{className:"text-muted-foreground mb-8",children:o===h?_.jsx("p",{children:"Perfect score! You're a protein synthesis expert!"}):o>=h*.7?_.jsx("p",{children:"Excellent work! You have a good understanding of protein synthesis."}):o>=h*.5?_.jsx("p",{children:"Good effort! Review the topics you missed and try again."}):_.jsx("p",{children:"Keep studying protein synthesis concepts and try again soon!"})})]}),_.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[_.jsxs(Ir,{onClick:m,className:"flex items-center gap-2 bg-secondary hover:bg-secondary/80",children:[_.jsx(OP,{size:18}),"Try Again"]}),_.jsx(wM,{to:"/",children:_.jsxs(Ir,{className:"flex items-center gap-2",children:[_.jsx(TP,{size:18}),"Return to Home"]})})]})]}):_.jsxs("div",{className:st("transition-opacity duration-500 ease-in-out",u?"opacity-0":"opacity-100"),children:[_.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[_.jsxs("span",{className:"text-sm font-medium text-muted-foreground",children:["Question ",t+1," of ",h]}),_.jsxs("span",{className:"text-sm font-medium",children:["Score: ",o,"/",t+(i?1:0)]})]}),_.jsx(Pc,{className:"glass-card mb-8 relative overflow-hidden",children:_.jsxs(Lc,{className:"p-6 sm:p-8",children:[_.jsx("h2",{className:"text-2xl font-bold mb-8 text-center",children:d.question}),_.jsx("div",{className:"space-y-3",children:d.options.map((p,y)=>_.jsxs("button",{onClick:()=>g(y),disabled:i,className:st("w-full text-left p-4 rounded-lg transition-all border text-lg",i&&y===d.correctOptionIndex?"bg-green-500/20 border-green-500 text-white":i&&y===n?"bg-red-500/20 border-red-500 text-white":"bg-card/50 border-border hover:border-primary hover:bg-card/80","relative overflow-hidden"),children:[_.jsxs("div",{className:"flex items-start gap-3",children:[_.jsx("span",{className:"w-6 h-6 rounded-full flex items-center justify-center bg-muted text-sm font-medium mt-0.5",children:String.fromCharCode(65+y)}),_.jsx("span",{children:p})]}),i&&y===d.correctOptionIndex&&_.jsx(hh,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-green-500 w-5 h-5"}),i&&y===n&&y!==d.correctOptionIndex&&_.jsx(uy,{className:"absolute right-4 top-1/2 -translate-y-1/2 text-red-500 w-5 h-5"})]},y))}),i&&_.jsxs("div",{className:"mt-8 p-4 bg-muted/30 border border-border rounded-lg",children:[_.jsx("div",{className:"font-medium mb-1",children:n===d.correctOptionIndex?_.jsxs("span",{className:"text-green-500 flex items-center gap-2",children:[_.jsx(hh,{className:"w-5 h-5"})," That's correct! Well done!"]}):_.jsxs("span",{className:"text-red-500 flex items-center gap-2",children:[_.jsx(uy,{className:"w-5 h-5"})," Oh no! That's not the right answer."]})}),_.jsxs("div",{className:"text-muted-foreground",children:[_.jsx("span",{className:"font-medium",children:"Explanation:"})," ",d.explanation]})]})]})}),i&&_.jsx("div",{className:"flex justify-center",children:_.jsxs(Ir,{onClick:v,className:"px-6 py-5 text-lg flex items-center gap-2",children:[t<h-1?"Next Question":"See Results",_.jsx(EP,{size:18})]})})]})},sj=()=>{const[t,e]=b.useState(!1);return _.jsx("div",{className:"min-h-screen bg-background text-foreground py-8 px-4",children:_.jsxs("div",{className:"container mx-auto max-w-4xl",children:[_.jsxs(wM,{to:"/",className:"inline-flex items-center gap-2 text-primary hover:text-primary/80 transition-colors mb-6",children:[_.jsx(bP,{size:20}),_.jsx("span",{children:"Back to Home"})]}),t?_.jsx(ij,{}):_.jsxs("div",{className:"glass-card flex flex-col items-center justify-center text-center py-16 px-6 glow-effect",children:[_.jsx("div",{className:"absolute -z-10 top-1/4 right-1/4 goo-blob w-64 h-64 bg-secondary/30"}),_.jsx("div",{className:"absolute -z-10 bottom-1/4 left-1/4 goo-blob w-72 h-72 bg-primary/30 animation-delay-200"}),_.jsx("h1",{className:"section-title mb-4",children:"Welcome to the Protein Synthesis Quiz!"}),_.jsx("p",{className:"section-subtitle text-xl mb-10",children:"Ready to test how much you've learned about how proteins are made inside cells?"}),_.jsx("p",{className:"text-muted-foreground mb-8 max-w-2xl",children:"Click the button below to begin and challenge your understanding of transcription, translation, and everything in between!"}),_.jsx("button",{onClick:()=>e(!0),className:`bg-gradient-to-r from-secondary to-primary text-white font-bold py-3 px-8 rounded-full \r
                       shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 \r
                       focus:outline-none focus:ring-2 focus:ring-primary/50 focus:ring-offset-2 \r
                       animate-pulse-glow font-poppins`,children:"Let's Start the Quiz"})]})]})})};var BT={exports:{}},oj="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",aj=oj,lj=aj;function VT(){}function jT(){}jT.resetWarningCache=VT;var cj=function(){function t(r,i,s,o,a,l){if(l!==lj){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:jT,resetWarningCache:VT};return n.PropTypes=n,n};BT.exports=cj();var uj=BT.exports;const pt=ro(uj);function dj(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var HT=b,fj=dj(HT);function fw(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hj(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var pj=!!(typeof window<"u"&&window.document&&window.document.createElement);function mj(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(s){if(typeof s!="function")throw new Error("Expected WrappedComponent to be a React component.");var o=[],a;function l(){a=t(o.map(function(u){return u.props})),c.canUseDOM?e(a):n&&(a=n(a))}var c=function(u){hj(f,u);function f(){return u.apply(this,arguments)||this}f.peek=function(){return a},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,o=[],g};var d=f.prototype;return d.UNSAFE_componentWillMount=function(){o.push(this),l()},d.componentDidUpdate=function(){l()},d.componentWillUnmount=function(){var g=o.indexOf(this);o.splice(g,1),l()},d.render=function(){return fj.createElement(s,this.props)},f}(HT.PureComponent);return fw(c,"displayName","SideEffect("+r(s)+")"),fw(c,"canUseDOM",pj),c}}var gj=mj;const vj=ro(gj);var yj=typeof Element<"u",xj=typeof Map=="function",_j=typeof Set=="function",wj=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function qu(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!qu(t[r],e[r]))return!1;return!0}var s;if(xj&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;for(s=t.entries();!(r=s.next()).done;)if(!qu(r.value[1],e.get(r.value[0])))return!1;return!0}if(_j&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(s=t.entries();!(r=s.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(wj&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(yj&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!qu(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var Sj=function(e,n){try{return qu(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const bj=ro(Sj);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var hw=Object.getOwnPropertySymbols,Ej=Object.prototype.hasOwnProperty,Mj=Object.prototype.propertyIsEnumerable;function Tj(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function Aj(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(s){return e[s]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var Cj=Aj()?Object.assign:function(t,e){for(var n,r=Tj(t),i,s=1;s<arguments.length;s++){n=Object(arguments[s]);for(var o in n)Ej.call(n,o)&&(r[o]=n[o]);if(hw){i=hw(n);for(var a=0;a<i.length;a++)Mj.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const Rj=ro(Cj);var qs={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Fe={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Fe).map(function(t){return Fe[t]});var mt={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},jd={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},uc={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},Pj=Object.keys(jd).reduce(function(t,e){return t[jd[e]]=e,t},{}),Lj=[Fe.NOSCRIPT,Fe.SCRIPT,Fe.STYLE],_r="data-react-helmet",Nj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dj=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ij=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),wn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Oj=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},pw=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},Uj=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},Hm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},kj=function(e){var n=aa(e,Fe.TITLE),r=aa(e,uc.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=aa(e,uc.DEFAULT_TITLE);return n||i||void 0},Fj=function(e){return aa(e,uc.ON_CHANGE_CLIENT_STATE)||function(){}},dp=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return wn({},r,i)},{})},zj=function(e,n){return n.filter(function(r){return typeof r[Fe.BASE]<"u"}).map(function(r){return r[Fe.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var s=Object.keys(i),o=0;o<s.length;o++){var a=s[o],l=a.toLowerCase();if(e.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},ll=function(e,n,r){var i={};return r.filter(function(s){return Array.isArray(s[e])?!0:(typeof s[e]<"u"&&Hj("Helmet: "+e+' should be of type "Array". Instead found type "'+Nj(s[e])+'"'),!1)}).map(function(s){return s[e]}).reverse().reduce(function(s,o){var a={};o.filter(function(d){for(var h=void 0,g=Object.keys(d),v=0;v<g.length;v++){var m=g[v],p=m.toLowerCase();n.indexOf(p)!==-1&&!(h===mt.REL&&d[h].toLowerCase()==="canonical")&&!(p===mt.REL&&d[p].toLowerCase()==="stylesheet")&&(h=p),n.indexOf(m)!==-1&&(m===mt.INNER_HTML||m===mt.CSS_TEXT||m===mt.ITEM_PROP)&&(h=m)}if(!h||!d[h])return!1;var y=d[h].toLowerCase();return i[h]||(i[h]={}),a[h]||(a[h]={}),i[h][y]?!1:(a[h][y]=!0,!0)}).reverse().forEach(function(d){return s.push(d)});for(var l=Object.keys(a),c=0;c<l.length;c++){var u=l[c],f=Rj({},i[u],a[u]);i[u]=f}return s},[]).reverse()},aa=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},Bj=function(e){return{baseTag:zj([mt.HREF,mt.TARGET],e),bodyAttributes:dp(qs.BODY,e),defer:aa(e,uc.DEFER),encode:aa(e,uc.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:dp(qs.HTML,e),linkTags:ll(Fe.LINK,[mt.REL,mt.HREF],e),metaTags:ll(Fe.META,[mt.NAME,mt.CHARSET,mt.HTTPEQUIV,mt.PROPERTY,mt.ITEM_PROP],e),noscriptTags:ll(Fe.NOSCRIPT,[mt.INNER_HTML],e),onChangeClientState:Fj(e),scriptTags:ll(Fe.SCRIPT,[mt.SRC,mt.INNER_HTML],e),styleTags:ll(Fe.STYLE,[mt.CSS_TEXT],e),title:kj(e),titleAttributes:dp(qs.TITLE,e)}},Gm=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){Gm(e)},0)}}(),mw=function(e){return clearTimeout(e)},Vj=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Gm:global.requestAnimationFrame||Gm,jj=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||mw:global.cancelAnimationFrame||mw,Hj=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},cl=null,Gj=function(e){cl&&jj(cl),e.defer?cl=Vj(function(){gw(e,function(){cl=null})}):(gw(e),cl=null)},gw=function(e,n){var r=e.baseTag,i=e.bodyAttributes,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,l=e.noscriptTags,c=e.onChangeClientState,u=e.scriptTags,f=e.styleTags,d=e.title,h=e.titleAttributes;Wm(Fe.BODY,i),Wm(Fe.HTML,s),Wj(d,h);var g={baseTag:Po(Fe.BASE,r),linkTags:Po(Fe.LINK,o),metaTags:Po(Fe.META,a),noscriptTags:Po(Fe.NOSCRIPT,l),scriptTags:Po(Fe.SCRIPT,u),styleTags:Po(Fe.STYLE,f)},v={},m={};Object.keys(g).forEach(function(p){var y=g[p],x=y.newTags,w=y.oldTags;x.length&&(v[p]=x),w.length&&(m[p]=g[p].oldTags)}),n&&n(),c(e,v,m)},GT=function(e){return Array.isArray(e)?e.join(""):e},Wj=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=GT(e)),Wm(Fe.TITLE,n)},Wm=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(_r),s=i?i.split(","):[],o=[].concat(s),a=Object.keys(n),l=0;l<a.length;l++){var c=a[l],u=n[c]||"";r.getAttribute(c)!==u&&r.setAttribute(c,u),s.indexOf(c)===-1&&s.push(c);var f=o.indexOf(c);f!==-1&&o.splice(f,1)}for(var d=o.length-1;d>=0;d--)r.removeAttribute(o[d]);s.length===o.length?r.removeAttribute(_r):r.getAttribute(_r)!==a.join(",")&&r.setAttribute(_r,a.join(","))}},Po=function(e,n){var r=document.head||document.querySelector(Fe.HEAD),i=r.querySelectorAll(e+"["+_r+"]"),s=Array.prototype.slice.call(i),o=[],a=void 0;return n&&n.length&&n.forEach(function(l){var c=document.createElement(e);for(var u in l)if(l.hasOwnProperty(u))if(u===mt.INNER_HTML)c.innerHTML=l.innerHTML;else if(u===mt.CSS_TEXT)c.styleSheet?c.styleSheet.cssText=l.cssText:c.appendChild(document.createTextNode(l.cssText));else{var f=typeof l[u]>"u"?"":l[u];c.setAttribute(u,f)}c.setAttribute(_r,"true"),s.some(function(d,h){return a=h,c.isEqualNode(d)})?s.splice(a,1):o.push(c)}),s.forEach(function(l){return l.parentNode.removeChild(l)}),o.forEach(function(l){return r.appendChild(l)}),{oldTags:s,newTags:o}},WT=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},Xj=function(e,n,r,i){var s=WT(r),o=GT(n);return s?"<"+e+" "+_r+'="true" '+s+">"+Hm(o,i)+"</"+e+">":"<"+e+" "+_r+'="true">'+Hm(o,i)+"</"+e+">"},$j=function(e,n,r){return n.reduce(function(i,s){var o=Object.keys(s).filter(function(c){return!(c===mt.INNER_HTML||c===mt.CSS_TEXT)}).reduce(function(c,u){var f=typeof s[u]>"u"?u:u+'="'+Hm(s[u],r)+'"';return c?c+" "+f:f},""),a=s.innerHTML||s.cssText||"",l=Lj.indexOf(e)===-1;return i+"<"+e+" "+_r+'="true" '+o+(l?"/>":">"+a+"</"+e+">")},"")},XT=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[jd[i]||i]=e[i],r},n)},qj=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[Pj[i]||i]=e[i],r},n)},Yj=function(e,n,r){var i,s=(i={key:n},i[_r]=!0,i),o=XT(r,s);return[ue.createElement(Fe.TITLE,o,n)]},Kj=function(e,n){return n.map(function(r,i){var s,o=(s={key:i},s[_r]=!0,s);return Object.keys(r).forEach(function(a){var l=jd[a]||a;if(l===mt.INNER_HTML||l===mt.CSS_TEXT){var c=r.innerHTML||r.cssText;o.dangerouslySetInnerHTML={__html:c}}else o[l]=r[a]}),ue.createElement(e,o)})},Zr=function(e,n,r){switch(e){case Fe.TITLE:return{toComponent:function(){return Yj(e,n.title,n.titleAttributes)},toString:function(){return Xj(e,n.title,n.titleAttributes,r)}};case qs.BODY:case qs.HTML:return{toComponent:function(){return XT(n)},toString:function(){return WT(n)}};default:return{toComponent:function(){return Kj(e,n)},toString:function(){return $j(e,n,r)}}}},$T=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,s=e.htmlAttributes,o=e.linkTags,a=e.metaTags,l=e.noscriptTags,c=e.scriptTags,u=e.styleTags,f=e.title,d=f===void 0?"":f,h=e.titleAttributes;return{base:Zr(Fe.BASE,n,i),bodyAttributes:Zr(qs.BODY,r,i),htmlAttributes:Zr(qs.HTML,s,i),link:Zr(Fe.LINK,o,i),meta:Zr(Fe.META,a,i),noscript:Zr(Fe.NOSCRIPT,l,i),script:Zr(Fe.SCRIPT,c,i),style:Zr(Fe.STYLE,u,i),title:Zr(Fe.TITLE,{title:d,titleAttributes:h},i)}},Qj=function(e){var n,r;return r=n=function(i){Oj(s,i);function s(){return Dj(this,s),Uj(this,i.apply(this,arguments))}return s.prototype.shouldComponentUpdate=function(a){return!bj(this.props,a)},s.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case Fe.SCRIPT:case Fe.NOSCRIPT:return{innerHTML:l};case Fe.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},s.prototype.flattenArrayTypeChildren=function(a){var l,c=a.child,u=a.arrayTypeChildren,f=a.newChildProps,d=a.nestedChildren;return wn({},u,(l={},l[c.type]=[].concat(u[c.type]||[],[wn({},f,this.mapNestedChildrenToProps(c,d))]),l))},s.prototype.mapObjectTypeChildren=function(a){var l,c,u=a.child,f=a.newProps,d=a.newChildProps,h=a.nestedChildren;switch(u.type){case Fe.TITLE:return wn({},f,(l={},l[u.type]=h,l.titleAttributes=wn({},d),l));case Fe.BODY:return wn({},f,{bodyAttributes:wn({},d)});case Fe.HTML:return wn({},f,{htmlAttributes:wn({},d)})}return wn({},f,(c={},c[u.type]=wn({},d),c))},s.prototype.mapArrayTypeChildrenToProps=function(a,l){var c=wn({},l);return Object.keys(a).forEach(function(u){var f;c=wn({},c,(f={},f[u]=a[u],f))}),c},s.prototype.warnOnInvalidChildren=function(a,l){return!0},s.prototype.mapChildrenToProps=function(a,l){var c=this,u={};return ue.Children.forEach(a,function(f){if(!(!f||!f.props)){var d=f.props,h=d.children,g=pw(d,["children"]),v=qj(g);switch(c.warnOnInvalidChildren(f,h),f.type){case Fe.LINK:case Fe.META:case Fe.NOSCRIPT:case Fe.SCRIPT:case Fe.STYLE:u=c.flattenArrayTypeChildren({child:f,arrayTypeChildren:u,newChildProps:v,nestedChildren:h});break;default:l=c.mapObjectTypeChildren({child:f,newProps:l,newChildProps:v,nestedChildren:h});break}}}),l=this.mapArrayTypeChildrenToProps(u,l),l},s.prototype.render=function(){var a=this.props,l=a.children,c=pw(a,["children"]),u=wn({},c);return l&&(u=this.mapChildrenToProps(l,u)),ue.createElement(e,u)},Ij(s,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),s}(ue.Component),n.propTypes={base:pt.object,bodyAttributes:pt.object,children:pt.oneOfType([pt.arrayOf(pt.node),pt.node]),defaultTitle:pt.string,defer:pt.bool,encodeSpecialCharacters:pt.bool,htmlAttributes:pt.object,link:pt.arrayOf(pt.object),meta:pt.arrayOf(pt.object),noscript:pt.arrayOf(pt.object),onChangeClientState:pt.func,script:pt.arrayOf(pt.object),style:pt.arrayOf(pt.object),title:pt.string,titleAttributes:pt.object,titleTemplate:pt.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=$T({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},Zj=function(){return null},Jj=vj(Bj,Gj,$T)(Zj),Xm=Qj(Jj);Xm.renderStatic=Xm.rewind;const eH=[_.jsx(dy,{className:"h-6 w-6 text-primary"}),_.jsx(fy,{className:"h-6 w-6 text-secondary"}),_.jsx(dy,{className:"h-6 w-6 text-primary"}),_.jsx(fy,{className:"h-6 w-6 text-accent"}),_.jsx(kP,{className:"h-6 w-6 text-yellow-400"}),_.jsx(vE,{className:"h-6 w-6 text-green-400"})],tH=({memberNumber:t,name:e,quote:n,className:r})=>_.jsxs(Pc,{className:st("relative overflow-hidden transition-all duration-300 hover:scale-105","border border-primary/20 bg-card/30 backdrop-blur-lg","shadow-[0_0_15px_rgba(139,92,246,0.3)]","hover:shadow-[0_0_20px_rgba(139,92,246,0.6)]","h-full flex flex-col justify-between",r),children:[_.jsx("div",{className:"absolute inset-0 -z-10 bg-glow-conic opacity-20 blur-xl"}),_.jsxs(Lc,{className:"flex flex-col items-center justify-center p-6 h-full",children:[_.jsx("div",{className:"flex items-center justify-center mb-4 mt-2",children:eH[t-1]||_.jsx(vE,{className:"h-6 w-6 text-primary"})}),_.jsxs("h3",{className:"text-xl font-bold text-primary mb-1",children:["Member ",t]}),_.jsx("h4",{className:"text-lg font-medium text-white mb-3",children:e}),_.jsxs("p",{className:"text-center text-muted-foreground italic",children:['"',n,'"']})]})]}),nH=({name:t,title:e,bio:n,photoUrl:r,className:i})=>_.jsxs(Pc,{className:st("relative overflow-hidden transition-all duration-300","border border-secondary/20 bg-card/30 backdrop-blur-lg","shadow-[0_0_15px_rgba(56,189,248,0.3)]","hover:shadow-[0_0_20px_rgba(56,189,248,0.5)]",i),children:[_.jsx("div",{className:"absolute inset-0 -z-10 bg-glow-conic opacity-20 blur-xl"}),_.jsx(Lc,{className:"p-6 md:p-8",children:_.jsxs("div",{className:"flex flex-col md:flex-row gap-6 md:gap-8",children:[_.jsx("div",{className:"flex-shrink-0 order-1 md:order-2 flex items-center justify-center mx-auto md:mx-0 w-full md:w-1/3 max-w-[280px]",children:_.jsxs("div",{className:"relative group w-full aspect-square rounded-xl overflow-hidden",children:[_.jsx("img",{src:r,alt:t,className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),_.jsx("div",{className:"absolute inset-0 border-2 border-secondary rounded-xl shadow-[0_0_10px_rgba(56,189,248,0.6)]"})]})}),_.jsxs("div",{className:"order-2 md:order-1 md:w-2/3",children:[_.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[_.jsx(MP,{className:"h-6 w-6 text-secondary"}),_.jsx("h3",{className:"text-2xl font-bold text-white",children:t})]}),_.jsx("h4",{className:"text-lg font-medium text-secondary mb-4",children:e}),_.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n})]})]})})]}),rH=()=>{const[t,e]=b.useState("members"),n=[{number:1,name:"Kabilesh C",quote:"Don't mess with my ribosomes "},{number:2,name:"Vibhas",quote:"ATP is my energy drink "},{number:3,name:"Rishith Patchava",quote:"Living that double helix life "},{number:4,name:"Gummala Divya",quote:"Molecules making magic. "},{number:5,name:"Shreyasi Kirti",quote:"Photosynthesis is my superpower. "},{number:6,name:"Vyom Misra",quote:"Microbe hunter, macro results. "}],r={name:"Dr. Devi A.",title:"Associate Professor, Cancer Research and Stem Cell Biology",bio:"With over 18 years of experience, Dr. Devi A. specializes in cancer research and stem cell biology. Her research focuses on oral cancer signaling pathways, epigenetics, adult stem cell isolation, stem cell markers, and the genetics of cardiovascular diseases. She teaches courses such as Stem Cell Biology, Gene Therapy, Animal Biotechnology, and various laboratory subjects, shaping future researchers in these critical fields.",photoUrl:"https://d23qowwaqkh3fj.cloudfront.net/wp-content/uploads/2022/04/Profile_Bio-Tech_0040_DSC_9267.jpg"};return _.jsxs("div",{className:"min-h-screen bg-background text-foreground pb-20 relative overflow-hidden",children:[_.jsxs(Xm,{children:[_.jsx("title",{children:"Team Members | Protein Synthesis"}),_.jsx("meta",{name:"description",content:"Meet the team behind this protein synthesis educational project"})]}),_.jsx(vr,{color:"bg-primary/30",size:600,top:"-100px",right:"-200px",delay:0,blur:"2xl"}),_.jsx(vr,{color:"bg-secondary/30",size:500,bottom:"-100px",left:"-200px",delay:2,blur:"2xl"}),_.jsx(vr,{color:"bg-accent/20",size:400,top:"40%",left:"60%",delay:4,blur:"2xl"}),_.jsx(SM,{activeSection:t,onSectionChange:e}),_.jsxs("main",{className:"container mx-auto px-4 pt-28 relative z-10",children:[_.jsxs("section",{id:"protein-squad",className:"mb-20",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsxs("h1",{className:"section-title inline-block relative",children:["Meet the Protein Squad ",_.jsx("span",{className:"absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-primary/50 via-secondary to-primary/50 rounded-full"})]}),_.jsx("p",{className:"section-subtitle max-w-3xl mx-auto",children:"The brilliant minds behind this protein synthesis project"})]}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 md:gap-8",children:n.map(i=>_.jsx(tH,{memberNumber:i.number,name:i.name,quote:i.quote},i.number))})]}),_.jsxs("section",{id:"faculty-guide",className:"mb-20",children:[_.jsxs("div",{className:"text-center mb-16",children:[_.jsxs("h2",{className:"section-title inline-block relative",children:["Faculty Guide",_.jsx("span",{className:"absolute -bottom-2 left-0 w-full h-1 bg-gradient-to-r from-secondary/50 via-primary to-secondary/50 rounded-full"})]}),_.jsx("p",{className:"section-subtitle max-w-3xl mx-auto",children:"The expert guidance behind our research"})]}),_.jsx(nH,{name:r.name,title:r.title,bio:r.bio,photoUrl:r.photoUrl})]})]})]})},iH=new YN,sH=()=>_.jsx(QN,{client:iH,children:_.jsxs(pl,{children:[_.jsx(x2,{}),_.jsx(q2,{}),_.jsxs(XD,{basename:"/ProteinOS",children:[_.jsxs(zD,{children:[_.jsx(gl,{path:"/",element:_.jsx(L5,{})}),_.jsx(gl,{path:"/quiz",element:_.jsx(sj,{})}),_.jsx(gl,{path:"/members",element:_.jsx(rH,{})}),_.jsx(gl,{path:"*",element:_.jsx(N5,{})})]}),_.jsx(rj,{})]})]})});zb(document.getElementById("root")).render(_.jsx(sH,{}));
